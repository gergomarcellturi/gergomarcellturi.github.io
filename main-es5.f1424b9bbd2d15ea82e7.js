!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return r(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||s(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t){if(Array.isArray(t))return t}function i(t){return function(t){if(Array.isArray(t))return u(t)}(t)||o(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=s(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t){var e="function"==typeof Map?new Map:void 0;return(c=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return l(t,arguments,w(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),g(r,t)})(t)}function l(t,e,n){return(l=_()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&g(i,n.prototype),i}).apply(null,arguments)}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=_();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?b(t):e}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a});var r=n("mxel"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=Object(r.e)(o.value,2),s=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var c=this.getOrInitializeService(u);s.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),s=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){v(n,t);var e=y(n);function n(t,r){return f(this,n),e.call(this)}return p(n,[{key:"schedule",value:function(t){return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u(function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;f(this,t),this.project=e,this.concurrent=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){v(n,t);var e=y(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return f(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return p(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return p(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"6Uf2":function(t,e,n){"use strict";(function(t){var e,r=n("zIRd"),i=n("mxel"),o=n("qOnz"),a=n("q/0M"),s=n("/6Yf"),u=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Object(o.J)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Object(o.D)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),c=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Object(o.k)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),l=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u(e)}}catch(n){}return new c},h=l("localStorage"),f=l("sessionStorage"),d=new a.b("@firebase/database"),p=(e=1,function(){return e++}),v=function(t){var e=Object(o.I)(t),n=new o.d;n.update(e);var r=n.digest();return o.h.encodeByteArray(r)},g=function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r="",i=0;i<e.length;i++){var a=e[i];Array.isArray(a)||a&&"object"==typeof a&&"number"==typeof a.length?r+=t.apply(null,a):r+="object"==typeof a?Object(o.J)(a):a,r+=" "}return r},y=null,m=!0,b=function(t,e){Object(o.f)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(d.logLevel=a.a.VERBOSE,y=d.log.bind(d),e&&f.set("logging_enabled",!0)):"function"==typeof t?y=t:(y=null,f.remove("logging_enabled"))},_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===m&&(m=!1,null===y&&!0===f.get("logging_enabled")&&b(!0)),y){var n=g.apply(null,t);y(n)}},w=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];_.apply(void 0,Object(i.f)([t],e))}},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,Object(i.f)(t));d.error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,Object(i.f)(t));throw d.error(n),new Error(n)},O=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+g.apply(void 0,Object(i.f)(t));d.warn(n)},E=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},S="[MIN_NAME]",T="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===S||e===T)return-1;if(e===S||t===T)return 1;var n=M(t),r=M(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},x=function(t,e){return t===e?0:t<e?-1:1},P=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Object(o.J)(e))},A=function t(e){if("object"!=typeof e||null===e)return Object(o.J)(e);var n=[];for(var r in e)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(o.J)(n[a]),i+=":",i+=t(e[n[a]]);return i+"}"},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function N(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var j=function(t){var e,n,r,i,a;Object(o.f)(!E(t),"Invalid JSON number"),0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},D=new RegExp("^-?(0*)\\d{1,10}$"),M=function(t){if(D.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},L=function(t){try{t()}catch(e){setTimeout(function(){throw O("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},F=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},V=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();function U(){return new V("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function q(t){return t.pieces_.length-t.pieceNum_}function z(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new V(t.pieces_,e)}function H(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function W(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function K(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function G(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new V(e,0)}function Q(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof V)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new V(n,0)}function Y(t){return t.pieceNum_>=t.pieces_.length}function X(t,e){var n=B(t),r=B(e);if(null===n)return e;if(n===r)return X(z(t),z(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Z(t,e){for(var n=K(t,0),r=K(e,0),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function J(t,e){if(q(t)!==q(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function $(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(q(t)>q(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var tt,et,nt,rt,it,ot,at,st,ut,ct=function(){function t(t,e){this.errorPrefix_=e,this.parts_=K(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Object(o.H)(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Object(o.H)(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Object(o.H)(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),lt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ht=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(Object(o.f)("string"==typeof t,"typeof type must == string"),Object(o.f)("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return N(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host+"/"+(this.includeNamespaceInQueryParams?"?ns="+this.namespace:"")},t}(),ft=function(t,e){var n=dt(t),r=n.namespace;return"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&O("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new ht(n.host,n.secure,r,e,"ws"===n.scheme||"wss"===n.scheme,"",r!==n.subdomain),path:new V(n.pathString)}},dt=function(t){var e="",n="",r="",o="",a="",s=!0,u="https",c=443;if("string"==typeof t){var l=t.indexOf("//");l>=0&&(u=t.substring(0,l-1),t=t.substring(l+2));var h=t.indexOf("/");-1===h&&(h=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(h,f)),h<f&&(o=function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}(t.substring(h,f)));var d=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var o=Object(i.h)(t.split("&")),a=o.next();!a.done;a=o.next()){var s=a.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):O("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,f)));(l=e.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(l+1),10)):l=e.length;var p=e.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),a=r}"ns"in d&&(a=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:o,namespace:a}},pt=/[\[\].#$\/\u0000-\u001F\u007F]/,vt=/[\[\].#$\u0000-\u001F\u007F]/,gt=function(t){return"string"==typeof t&&0!==t.length&&!pt.test(t)},yt=function(t){return"string"==typeof t&&0!==t.length&&!vt.test(t)},mt=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!E(t)||t&&"object"==typeof t&&Object(o.k)(t,".sv")},bt=function(t,e,n,r,i){i&&void 0===n||_t(Object(o.o)(t,e,i),n,r)},_t=function t(e,n,r){var i=r instanceof V?new ct(r,e):r;if(void 0===n)throw new Error(e+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(e+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(E(n))throw new Error(e+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>10485760/3&&Object(o.H)(n)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var a=!1,s=!1;if(N(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(s=!0,!gt(n)))throw new Error(e+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),t(e,r,i),i.pop()}),a&&s)throw new Error(e+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},wt=function(t,e,n,r,i){if(!i||void 0!==n){var a=Object(o.o)(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];N(n,function(t,e){var n=new V(t);if(_t(a,e,Q(r,n)),".priority"===H(n)&&!mt(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=K(r=e[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!gt(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Z);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&$(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},kt=function(t,e,n,r){if(!r||void 0!==n){if(E(n))throw new Error(Object(o.o)(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mt(n))throw new Error(Object(o.o)(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ct=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Object(o.o)(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Ot=function(t,e,n,r){if(!(r&&void 0===n||gt(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Et=function(t,e,n,r){if(!(r&&void 0===n||yt(n)))throw new Error(Object(o.o)(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},St=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Et(t,e,n,r)},Tt=function(t,e){if(".info"===B(e))throw new Error(t+" failed = Can't modify data under /.info/")},It=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!gt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),yt(t)}(r))throw new Error(Object(o.o)(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},xt=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Object(o.o)(t,e,r)+"must be a boolean.")},Pt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Object(o.K)("OnDisconnect.cancel",0,1,arguments.length),Object(o.L)("OnDisconnect.cancel",1,t,!0);var e=new o.a;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Object(o.K)("OnDisconnect.remove",0,1,arguments.length),Tt("OnDisconnect.remove",this.path_),Object(o.L)("OnDisconnect.remove",1,t,!0);var e=new o.a;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Object(o.K)("OnDisconnect.set",1,2,arguments.length),Tt("OnDisconnect.set",this.path_),bt("OnDisconnect.set",1,t,this.path_,!1),Object(o.L)("OnDisconnect.set",2,e,!0);var n=new o.a;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Object(o.K)("OnDisconnect.setWithPriority",2,3,arguments.length),Tt("OnDisconnect.setWithPriority",this.path_),bt("OnDisconnect.setWithPriority",1,t,this.path_,!1),kt("OnDisconnect.setWithPriority",2,e,!1),Object(o.L)("OnDisconnect.setWithPriority",3,n,!0);var r=new o.a;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Object(o.K)("OnDisconnect.update",1,2,arguments.length),Tt("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wt("OnDisconnect.update",1,t,this.path_,!1),Object(o.L)("OnDisconnect.update",2,e,!0);var i=new o.a;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),At=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Object(o.K)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Rt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nt=(tt=0,et=[],function(t){var e,n=t===tt;tt=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=Rt.charAt(t%64),t=Math.floor(t/64);Object(o.f)(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===et[e];e--)et[e]=0;et[e]++}else for(e=0;e<12;e++)et[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=Rt.charAt(et[e]);return Object(o.f)(20===i.length,"nextPushId: Length should be 20."),i}),jt=function(t){if("2147483647"===t)return"-";var e=M(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return T;var o=Rt.charAt(Rt.indexOf(n[i])+1);return n[i]=o,n.slice(0,i+1).join("")},Dt=function(t){if("-2147483648"===t)return S;var e=M(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=Rt.charAt(Rt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))},Mt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Lt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Mt(S,t),r=new Mt(S,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Mt.MIN},t}(),Ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return nt},set:function(t){nt=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Object(o.g)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return new Mt(T,nt)},e.prototype.makePost=function(t,e){return Object(o.f)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Mt(t,nt)},e.prototype.toString=function(){return".key"},e}(Lt),Vt=new Ft,Ut=function(t){return"number"==typeof t?"number:"+j(t):"string:"+t},Bt=function(t){if(t.isLeafNode()){var e=t.val();Object(o.f)("string"==typeof e||"number"==typeof e||"object"==typeof e&&Object(o.k)(e,".sv"),"Priority must be a string or number.")}else Object(o.f)(t===rt||t.isEmpty(),"priority of unexpected type.");Object(o.f)(t===rt||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},qt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Object(o.f)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Bt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return it},set:function(t){it=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return Y(e)?this:".priority"===B(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=B(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(o.f)(".priority"!==r||1===q(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(z(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ut(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=v(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(Object(o.f)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return Object(o.f)(i>=0,"Unknown leaf type: "+n),Object(o.f)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){return t===this||!!t.isLeafNode()&&this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),zt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return new Mt(T,new qt("[PRIORITY-POST]",at))},e.prototype.makePost=function(t,e){var n=ot(t);return new Mt(e,new qt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Lt)),Ht=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Wt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Gt.EMPTY_NODE,this.right=null!=o?o:Gt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Gt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Gt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Kt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Wt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Gt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Wt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Wt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Ht(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Ht(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Ht(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Ht(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Kt,t}(),Qt=Math.log(2),Yt=function(){function t(t){this.count=parseInt(Math.log(t+1)/Qt,10),this.current_=this.count-1;var e=parseInt(Array(this.count+1).join("1"),2);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Xt=function(t,e,n,r){t.sort(e);var i=function e(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=t[r],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,null,null);var u=parseInt(s/2,10)+r,c=e(r,u),l=e(u+1,i);return o=t[u],a=n?n(o):o,new Wt(a,o.node,Wt.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],h=n?n(l):l;u(new Wt(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Wt.BLACK):(s(h,Wt.BLACK),s(h,Wt.RED))}return o}(new Yt(t.length));return new Gt(r||e,o)},Zt={},Jt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return Object(o.f)(Zt&&zt,"ChildrenNode.ts has not been loaded"),st=st||new t({".priority":Zt},{".priority":zt})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Object(o.G)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Gt?e:null},t.prototype.hasIndex=function(t){return Object(o.k)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){Object(o.f)(e!==Vt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,a=[],s=!1,u=n.getIterator(Mt.Wrap),c=u.getNext();c;)s=s||e.isDefinedOn(c.node),a.push(c),c=u.getNext();r=s?Xt(a,e.getCompare()):Zt;var l=e.toString(),h=Object(i.a)({},this.indexSet_);h[l]=e;var f=Object(i.a)({},this.indexes_);return f[l]=r,new t(f,h)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Object(o.E)(this.indexes_,function(t,i){var a=Object(o.G)(r.indexSet_,i);if(Object(o.f)(a,"Missing index implementation for "+i),t===Zt){if(a.isDefinedOn(e.node)){for(var s=[],u=n.getIterator(Mt.Wrap),c=u.getNext();c;)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),Xt(s,a.getCompare())}return Zt}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Mt(e.name,l))),h.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Object(o.E)(this.indexes_,function(t){if(t===Zt)return t;var r=n.get(e.name);return r?t.remove(new Mt(e.name,r)):t}),this.indexSet_)},t}();function $t(t,e){return I(t.name,e.name)}function te(t,e){return I(t,e)}var ee=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Bt(this.priorityNode_),this.children_.isEmpty()&&Object(o.f)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return ut||(ut=new t(new Gt(te),null,Jt.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||ut},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?ut:e},t.prototype.getChild=function(t){var e=B(t);return null===e?this:this.getImmediateChild(e).getChild(z(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(Object(o.f)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Mt(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?ut:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=B(t);if(null===n)return e;Object(o.f)(".priority"!==B(t)||1===q(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(z(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(zt,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Ut(this.getPriority().val())+":"),this.forEachChild(zt,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":v(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Mt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Mt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Mt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Mt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Mt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ne?-1:0},t.prototype.withIndex=function(e){if(e===Vt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Vt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(zt),r=e.getIterator(zt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Vt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),ne=new(function(t){function e(){return t.call(this,new Gt(te),ee.EMPTY_NODE,Jt.Default)||this}return Object(i.c)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ee.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ee));function re(t,e){if(void 0===e&&(e=null),null===t)return ee.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Object(o.f)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new qt(t,re(e));if(t instanceof Array){var n=ee.EMPTY_NODE;return N(t,function(e,r){if(Object(o.k)(t,e)&&"."!==e.substring(0,1)){var i=re(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}}),n.updatePriority(re(e))}var r=[],i=!1;if(N(t,function(t,e){if("."!==t.substring(0,1)){var n=re(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Mt(t,n)))}}),0===r.length)return ee.EMPTY_NODE;var a=Xt(r,$t,function(t){return t.name},te);if(i){var s=Xt(r,zt.getCompare());return new ee(a,re(e),new Jt({".priority":s},{".priority":zt}))}return new ee(a,re(e),Jt.Default)}Object.defineProperties(Mt,{MIN:{value:new Mt(S,ee.EMPTY_NODE)},MAX:{value:new Mt(T,ne)}}),Ft.__EMPTY_NODE=ee.EMPTY_NODE,qt.__childrenNodeConstructor=ee,rt=ne,at=ne,ot=re;var ie=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i.c)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Mt.MIN},e.prototype.maxPost=function(){return Mt.MAX},e.prototype.makePost=function(t,e){var n=re(t);return new Mt(e,n)},e.prototype.toString=function(){return".value"},e}(Lt)),oe=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,Object(o.f)(!Y(e)&&".priority"!==B(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(i.c)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?I(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=re(t),r=ee.EMPTY_NODE.updateChild(this.indexPath_,n);return new Mt(e,r)},e.prototype.maxPost=function(){var t=ee.EMPTY_NODE.updateChild(this.indexPath_,ne);return new Mt(T,t)},e.prototype.toString=function(){return K(this.indexPath_,0).join("/")},e}(Lt),ae=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Object(o.K)("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Object(o.K)("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Object(o.K)("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Object(o.K)("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Object(o.K)("DataSnapshot.child",0,1,arguments.length),e=String(e),Et("DataSnapshot.child",1,e,!1);var n=new V(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,zt)},t.prototype.hasChild=function(t){Object(o.K)("DataSnapshot.hasChild",1,1,arguments.length),Et("DataSnapshot.hasChild",1,t,!1);var e=new V(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Object(o.K)("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Object(o.K)("DataSnapshot.forEach",1,1,arguments.length),Object(o.L)("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),zt))})},t.prototype.hasChildren=function(){return Object(o.K)("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Object(o.K)("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Object(o.K)("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),se=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Object(o.J)(this.snapshot.exportVal())},t}(),ue=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ce=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new se("value",this,new ae(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ue(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),le=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Object(o.k)(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ue(this,t,e):null},t.prototype.createEvent=function(t,e){Object(o.f)(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new se(t.type,this,new ae(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){Object(o.f)(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var a=r[0],s=i[0];return!(s!==a||e.callbacks_[a]&&this.callbacks_[s]&&e.callbacks_[a]!==this.callbacks_[s])}return i.every(function(t){return e.callbacks_[t]===n.callbacks_[t]})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}();function he(t){return{type:"value",snapshotNode:t}}function fe(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function de(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function pe(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}var ve,ge=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){Object(o.f)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(de(e,s)):Object(o.f)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(fe(e,n)):a.trackChildChange(pe(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(zt,function(t,r){e.hasChild(t)||n.trackChildChange(de(t,r))}),e.isLeafNode()||e.forEachChild(zt,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(pe(e,r,i))}else n.trackChildChange(fe(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ee.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ye=function(){function t(e){this.indexedFilter_=new ge(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Mt(e,n))||(n=ee.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ee.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(ee.EMPTY_NODE);var i=this;return e.forEachChild(zt,function(t,e){i.matches(new Mt(t,e))||(r=r.updateImmediateChild(t,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),me=function(){function t(t){this.rangedFilter_=new ye(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Mt(e,n))||(n=ee.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=ee.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=ee.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(ee.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();)a=i.getNext(),!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ee.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;Object(o.f)(u.numChildren()===this.limit_,"");var c=new Mt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){for(var f=u.getImmediateChild(e),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===e||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(h&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(pe(e,n,f)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(de(e,f));var v=u.updateImmediateChild(e,ee.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(fe(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=i&&(i.trackChildChange(de(l.name,l.node)),i.trackChildChange(fe(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,ee.EMPTY_NODE)):t},t}(),be=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return Object(o.f)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:S},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return Object(o.f)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:T},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return Object(o.f)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===zt},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();function _e(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function we(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function ke(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ce(t,e,n){var r;return t.index_===Vt?("string"==typeof e&&(e=jt(e)),r=ke(t,e,n)):r=ke(t,e,null==n?T:jt(n)),r.startAfterSet_=!0,r}function Oe(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Ee(t,e,n){var r;return t.index_===Vt?("string"==typeof e&&(e=Dt(e)),r=Oe(t,e,n)):r=Oe(t,e,null==n?S:Dt(n)),r.endBeforeSet_=!0,r}function Se(t,e){var n=t.copy();return n.index_=e,n}function Te(t){var e,n={};return t.isDefault()||(t.index_===zt?e="$priority":t.index_===ie?e="$value":t.index_===Vt?e="$key":(Object(o.f)(t.index_ instanceof oe,"Unrecognized index type!"),e=t.index_.toString()),n.orderBy=Object(o.J)(e),t.startSet_&&(n.startAt=Object(o.J)(t.indexStartValue_),t.startNameSet_&&(n.startAt+=","+Object(o.J)(t.indexStartName_))),t.endSet_&&(n.endAt=Object(o.J)(t.indexEndValue_),t.endNameSet_&&(n.endAt+=","+Object(o.J)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n.limitToFirst=t.limit_:n.limitToLast=t.limit_)),n}var Ie=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(ve,"Reference.ts has not been loaded"),ve},set:function(t){ve=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Vt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==S)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==T)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===zt){if(null!=e&&!mt(e)||null!=n&&!mt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Object(o.f)(t.getIndex()instanceof oe||t.getIndex()===ie,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Object(o.K)("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Object(o.K)("Query.on",2,4,arguments.length),Ct("Query.on",1,e,!1),Object(o.L)("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new ce(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new le(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Object(o.K)("Query.off",0,3,arguments.length),Ct("Query.off",1,t,!0),Object(o.L)("Query.off",2,e,!0),Object(o.M)("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var a=e||null;r=new ce(a,null,n||null)}else t&&(e&&((i={})[t]=e),r=new le(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.get=function(){return this.repo.getValue(this)},t.prototype.once=function(e,n,r,i){var a=this;Object(o.K)("Query.once",1,4,arguments.length),Ct("Query.once",1,e,!1),Object(o.L)("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new o.a;c.promise.catch(function(){});var l=function t(r){u&&(u=!1,a.off(e,t),n&&n.bind(s.context)(r),c.resolve(r))};return this.on(e,l,function(t){a.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)}),c.promise},t.prototype.limitToFirst=function(e){if(Object(o.K)("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,_e(this.queryParams_,e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Object(o.K)("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,we(this.queryParams_,e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Object(o.K)("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Et("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new V(e);if(Y(n))throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new oe(n),i=Se(this.queryParams_,r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Object(o.K)("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=Se(this.queryParams_,Vt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Object(o.K)("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=Se(this.queryParams_,zt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Object(o.K)("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=Se(this.queryParams_,ie);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAt",0,2,arguments.length),bt("Query.startAt",1,e,this.path,!0),Ot("Query.startAt",2,n,!0);var r=ke(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.startAfter=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.startAfter",0,2,arguments.length),bt("Query.startAfter",1,e,this.path,!1),Ot("Query.startAfter",2,n,!0);var r=Ce(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAfter: Starting point was already set (by another call to startAt, startAfter or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endAt",0,2,arguments.length),bt("Query.endAt",1,e,this.path,!0),Ot("Query.endAt",2,n,!0);var r=Oe(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endBefore=function(e,n){void 0===e&&(e=null),Object(o.K)("Query.endBefore",0,2,arguments.length),bt("Query.endBefore",1,e,this.path,!1),Ot("Query.endBefore",2,n,!0);var r=Ee(this.queryParams_,e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endBefore: Ending point was already set (by another call to endAt, endBefore, or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Object(o.K)("Query.equalTo",1,2,arguments.length),bt("Query.equalTo",1,t,this.path,!1),Ot("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Object(o.K)("Query.toString",0,0,arguments.length),this.repo.toString()+W(this.path)},t.prototype.toJSON=function(){return Object(o.K)("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return function(t){var e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_)),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_)),t.limitSet_){e.l=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==zt&&(e.i=t.index_.toString()),e}(this.queryParams_)},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=A(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Object(o.K)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=J(this.path,e.path),a=this.queryIdentifier()===e.queryIdentifier();return r&&i&&a},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,Object(o.L)(t,3,r.cancel,!0),r.context=n,Object(o.M)(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Object(o.o)(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),xe=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),Pe=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=Q(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),Ae=function(t,e,n){return t&&"object"==typeof t?(Object(o.f)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Re(t[".sv"],e,n):"object"==typeof t[".sv"]?Ne(t[".sv"],e):void Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Re=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Object(o.f)(!1,"Unexpected server value: "+t)}},Ne=function(t,e,n){t.hasOwnProperty("increment")||Object(o.f)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&Object(o.f)(!1,"Unexpected increment value: "+r);var i=e.node();if(Object(o.f)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!=typeof a?r:a+r},je=function(t,e,n,r){return Me(e,new Pe(n,t),r)},De=function(t,e,n){return Me(t,new xe(e),n)};function Me(t,e,n){var r,i=t.getPriority().val(),o=Ae(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=Ae(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new qt(s,re(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new qt(o))),u.forEachChild(zt,function(t,i){var o=Me(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))}),r}var Le=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!Y(t)&&this.children.size>0){var e=B(t);return t=z(t),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(Y(e))this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=B(e);this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=z(e),i.remember(e,n)}},t.prototype.forget=function(t){if(Y(t))return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(zt,function(t,e){n.remember(new V(t),e)}),this.forget(t)}if(this.children.size>0){var r=B(t);return t=z(t),this.children.has(r)&&this.children.get(r).forget(t)&&this.children.delete(r),0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild(function(n,r){var i=new V(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){this.children.forEach(function(e,n){t(n,e)})},t}(),Fe=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}({});function Ve(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Ue,Be=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=Fe.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return t.prototype.operationForChild=function(e){if(Y(this.path)){if(null!=this.affectedTree.value)return Object(o.f)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new V(e));return new t(U(),n,this.revert)}return Object(o.f)(B(this.path)===e,"operationForChild called for unrelated child."),new t(z(this.path),this.affectedTree,this.revert)},t}(),qe=function(){function t(t,e){void 0===e&&(Ue||(Ue=new Gt(x)),e=Ue),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return N(e,function(t,e){n=n.set(new V(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:U(),value:this.value};if(Y(t))return null;var n=B(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(z(t),e);return null!=i?{path:Q(new V(n),i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(Y(e))return this;var n=B(e),r=this.children.get(n);return null!==r?r.subtree(z(e)):new t(null)},t.prototype.set=function(e,n){if(Y(e))return new t(n,this.children);var r=B(e),i=(this.children.get(r)||new t(null)).set(z(e),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(Y(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=B(e),r=this.children.get(n);if(r){var i=r.remove(z(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(Y(t))return this.value;var e=B(t),n=this.children.get(e);return n?n.get(z(t)):null},t.prototype.setTree=function(e,n){if(Y(e))return n;var r,i=B(e),o=(this.children.get(i)||new t(null)).setTree(z(e),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,r)},t.prototype.fold=function(t){return this.fold_(U(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(Q(t,r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,U(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(Y(t))return null;var i=B(t),o=this.children.get(i);return o?o.findOnPath_(z(t),Q(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,U(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(Y(e))return this;this.value&&r(n,this.value);var i=B(e),o=this.children.get(i);return o?o.foreachOnPath_(z(e),Q(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(U(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(Q(t,n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t}(),ze=function(){function t(t,e){this.source=t,this.path=e,this.type=Fe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return Y(this.path)?new t(this.source,U()):new t(this.source,z(this.path))},t}(),He=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=Fe.OVERWRITE}return t.prototype.operationForChild=function(e){return Y(this.path)?new t(this.source,U(),this.snap.getImmediateChild(e)):new t(this.source,z(this.path),this.snap)},t}(),We=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=Fe.MERGE}return t.prototype.operationForChild=function(e){if(Y(this.path)){var n=this.children.subtree(new V(e));return n.isEmpty()?null:n.value?new He(this.source,U(),n.value):new t(this.source,U(),n)}return Object(o.f)(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,z(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ke=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(Y(t))return this.isFullyInitialized()&&!this.filtered_;var e=B(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Ge=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Ke(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Ke(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t}(),Qe=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;Object(o.f)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),Object(o.f)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,pe(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,de(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,fe(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw Object(o.g)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,pe(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Ye=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Xe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ke(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Ze=function(t,e){this.viewCache=t,this.changes=e},Je=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){Object(o.f)(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),Object(o.f)(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var a,s,u=new Qe;if(n.type===Fe.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,r,i,u):(Object(o.f)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!Y(c.path),a=this.applyServerOverwrite_(e,c.path,c.snap,r,i,s,u))}else if(n.type===Fe.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(e,l.path,l.children,r,i,u):(Object(o.f)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,l.path,l.children,r,i,s,u))}else if(n.type===Fe.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,r,i,u):this.ackUserWrite_(e,h.path,h.affectedTree,r,i,u)}else{if(n.type!==Fe.LISTEN_COMPLETE)throw Object(o.g)("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,r,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new Ze(a,f)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(he(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(Y(e))if(Object(o.f)(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=n.calcCompleteEventChildren(c instanceof ee?c:ee.EMPTY_NODE);s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=B(e);if(".priority"===f){Object(o.f)(1===q(e),"Can't have a priority with additional path components");var d=a.getNode();u=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,u);s=null!=p?this.filter_.updatePriority(d,p):a.getNode()}else{var v=z(e),g=void 0;if(a.isCompleteForChild(f)){u=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);g=null!=y?a.getNode().getImmediateChild(f).updateChild(v,y):a.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());s=null!=g?this.filter_.updateChild(a.getNode(),f,g,v,r,i):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||Y(e),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(Y(e))s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=B(e);if(!u.isCompleteForPath(e)&&q(e)>1)return t;var f=z(e),d=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"===h?c.updatePriority(u.getNode(),d):c.updateChild(u.getNode(),h,d,f,Ye,null)}var p=t.updateServerSnap(s,u.isFullyInitialized()||Y(e),c.filtersNodes()),v=new Xe(r,p,i);return this.generateEventCacheAfterServerEvent_(p,e,r,v,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new Xe(r,t,i);if(Y(e))s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=B(e);if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=z(e),f=u.getNode().getImmediateChild(l),d=void 0;if(Y(h))d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===H(h)&&p.getChild(G(h)).isEmpty()?p:p.updateChild(h,n):ee.EMPTY_NODE}if(f.equals(d))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,c){var l=Q(n,r);t.cacheHasChild_(e,B(l))&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=Q(n,r);t.cacheHasChild_(e,B(l))||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=Y(e)?n:new qe(null).setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new V(e),h,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new V(e),f,r,i,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(Y(e)&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(Y(e)){var u=new qe(null);return s.getNode().forEachChild(Vt,function(t,e){u=u.set(new V(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=new qe(null);return n.foreach(function(t,n){var r=Q(e,t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||Y(e),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ye,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var a;if(null!=n.shadowingWrite(e))return t;var s=new Xe(n,t,r),u=t.getEventCache().getNode(),c=void 0;if(Y(e)||".priority"===B(e)){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();Object(o.f)(h instanceof ee,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}c=this.filter_.updateFullNode(u,l=l,i)}else{var f=B(e),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),(c=null!=d?this.filter_.updateChild(u,f,d,z(e),s,i):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,ee.EMPTY_NODE,z(e),s,i):u).isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,a,i))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(U()),t.updateEventSnap(c,a,this.filter_.filtersNodes())},t}(),$e=function(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()};function tn(t,e,n,r,i,a){var s=r.filter(function(t){return t.type===n});s.sort(function(e,n){return function(t,e,n){if(null==e.childName||null==n.childName)throw Object(o.g)("Should only compare child_ events.");var r=new Mt(e.childName,e.snapshotNode),i=new Mt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,e,n)}),s.forEach(function(n){var r=function(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,n,a);i.forEach(function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))})})}var en,nn=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n,r=this.query_.getQueryParams(),i=new ge(r.getIndex()),o=(n=r).loadsAllData()?new ge(n.getIndex()):n.hasLimit()?new me(n):new ye(n);this.processor_=new Je(o);var a=e.getServerCache(),s=e.getEventCache(),u=i.updateFullNode(ee.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ee.EMPTY_NODE,s.getNode(),null),l=new Ke(u,a.isFullyInitialized(),i.filtersNodes()),h=new Ke(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=new Ge(h,l),this.eventGenerator_=new $e(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteNode=function(){return this.viewCache_.getCompleteEventSnap()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!Y(t)&&!e.getImmediateChild(B(t)).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){Object(o.f)(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(a+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===Fe.MERGE&&null!==t.source.queryId&&(Object(o.f)(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),Object(o.f)(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),Object(o.f)(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(zt,function(t,e){n.push(fe(t,e))}),e.isFullyInitialized()&&n.push(he(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){return function(t,e,n,r){var i=[],o=[];return e.forEach(function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push({type:"child_moved",snapshotNode:e.snapshotNode,childName:e.childName})}),tn(t,i,"child_removed",e,r,n),tn(t,i,"child_added",e,r,n),tn(t,i,"child_moved",o,r,n),tn(t,i,"child_changed",e,r,n),tn(t,i,"value",e,r,n),i}(this.eventGenerator_,t,e,n?[n]:this.eventRegistrations_)},t}(),rn=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return Object(o.f)(en,"Reference.ts has not been loaded"),en},set:function(t){Object(o.f)(!en,"__referenceConstructor has already been defined"),en=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,a,s=t.source.queryId;if(null!==s){var u=this.views.get(s);return Object(o.f)(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(t,e,n)}var c=[];try{for(var l=Object(i.h)(this.views.values()),h=l.next();!h.done;h=l.next())c=c.concat((u=h.value).applyOperation(t,e,n))}catch(f){r={error:f}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}return c},t.prototype.getView=function(t,e,n,r){var i=t.queryIdentifier(),o=this.views.get(i);if(!o){var a=e.calcCompleteEventCache(r?n:null),s=!1;a?s=!0:n instanceof ee?(a=e.calcCompleteEventChildren(n),s=!1):(a=ee.EMPTY_NODE,s=!1);var u=new Ge(new Ke(a,s,!1),new Ke(n,r,!1));return new nn(t,u)}return o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=this.getView(t,n,r,i);return this.views.has(t.queryIdentifier())||this.views.set(t.queryIdentifier(),o),o.addEventRegistration(e),o.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var o,a,s=e.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===s)try{for(var h=Object(i.h)(this.views.entries()),f=h.next();!f.done;f=h.next()){var d,p=Object(i.e)(f.value,2),v=p[0];c=c.concat((d=p[1]).removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(v),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery()))}}catch(g){o={error:g}}finally{try{f&&!f.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}else(d=this.views.get(s))&&(c=c.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||u.push(d.getQuery())));return l&&!this.hasCompleteView()&&u.push(new t.__referenceConstructor(e.repo,e.path)),{removed:u,events:c}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=Object(i.h)(this.views.values()),o=r.next();!o.done;o=r.next()){var a=o.value;a.getQuery().getQueryParams().loadsAllData()||n.push(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var o=Object(i.h)(this.views.values()),a=o.next();!a.done;a=o.next())r=r||a.value.getCompleteServerCache(t)}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=Object(i.h)(this.views.values()),r=n.next();!r.done;r=n.next()){var o=r.value;if(o.getQuery().getQueryParams().loadsAllData())return o}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),on=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new qe(null))},t}();function an(t,e,n){if(Y(e))return new on(new qe(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=X(i,e);return o=o.updateChild(a,n),new on(t.writeTree_.set(i,o))}var s=new qe(n),u=t.writeTree_.setTree(e,s);return new on(u)}function sn(t,e,n){var r=t;return N(n,function(t,n){r=an(r,Q(e,t),n)}),r}function un(t,e){if(Y(e))return on.empty();var n=t.writeTree_.setTree(e,new qe(null));return new on(n)}function cn(t,e){return null!=ln(t,e)}function ln(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(X(n.path,e)):null}function hn(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(zt,function(t,n){e.push(new Mt(t,n))}):t.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new Mt(t,n.value))}),e}function fn(t,e){if(Y(e))return t;var n=ln(t,e);return new on(null!=n?new qe(n):t.writeTree_.subtree(e))}function dn(t){return t.writeTree_.isEmpty()}function pn(t,e){return vn(U(),t.writeTree_,e)}function vn(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal(function(e,i){".priority"===e?(Object(o.f)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=vn(Q(t,e),i,n)}),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(Q(t,".priority"),r)),n}var gn=function(){function t(){this.visibleWrites_=on.empty(),this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new yn(t,this)},t.prototype.addOverwrite=function(t,e,n,r){Object(o.f)(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=an(this.visibleWrites_,t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){Object(o.f)(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=sn(this.visibleWrites_,t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});Object(o.f)(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,a=!1,s=this.allWrites_.length-1;i&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?i=!1:$(r.path,u.path)&&(a=!0)),s--}return!!i&&(a?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=un(this.visibleWrites_,r.path):N(r.children,function(t){e.visibleWrites_=un(e.visibleWrites_,Q(r.path,t))}),!0))},t.prototype.getCompleteWriteData=function(t){return ln(this.visibleWrites_,t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=fn(this.visibleWrites_,e);return!i&&dn(o)?n:i||null!=n||cn(o,U())?pn(t.layerTree_(this.allWrites_,function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&($(t.path,e)||$(e,t.path))},e),n||ee.EMPTY_NODE):null}var a=ln(this.visibleWrites_,e);if(null!=a)return a;var s=fn(this.visibleWrites_,e);return dn(s)?n:null!=n||cn(s,U())?pn(s,n||ee.EMPTY_NODE):null},t.prototype.calcCompleteEventChildren=function(t,e){var n=ee.EMPTY_NODE,r=ln(this.visibleWrites_,t);if(r)return r.isLeafNode()||r.forEachChild(zt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=fn(this.visibleWrites_,t);return e.forEachChild(zt,function(t,e){var r=pn(fn(i,new V(t)),e);n=n.updateImmediateChild(t,r)}),hn(i).forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return hn(fn(this.visibleWrites_,t)).forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){Object(o.f)(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=Q(t,e);if(cn(this.visibleWrites_,i))return null;var a=fn(this.visibleWrites_,i);return dn(a)?r.getChild(e):pn(a,r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=Q(t,e),i=ln(this.visibleWrites_,r);return null!=i?i:n.isCompleteForChild(e)?pn(fn(this.visibleWrites_,r),n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return ln(this.visibleWrites_,t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=fn(this.visibleWrites_,t),u=ln(s,U());if(null!=u)a=u;else{if(null==e)return[];a=pn(s,e)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return $(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&$(Q(t.path,n),e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,U()),this.lastWriteId_=this.allWrites_.length>0?this.allWrites_[this.allWrites_.length-1].writeId:-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=on.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)$(n,s)?r=an(r,u=X(n,s),a.snap):$(s,n)&&(u=X(s,n),r=an(r,U(),a.snap.getChild(u)));else{if(!a.children)throw Object(o.g)("WriteRecord should have .snap or .children");if($(n,s))r=sn(r,u=X(n,s),a.children);else if($(s,n))if(Y(u=X(s,n)))r=sn(r,U(),a.children);else{var c=Object(o.G)(a.children,B(u));if(c){var l=c.getChild(z(u));r=an(r,U(),l)}}}}}return r},t}(),yn=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(Q(this.treePath_,t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(Q(this.treePath_,e),this.writeTree_)},t}(),mn=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=new qe(null),this.pendingWriteTree_=new gn,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new He({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=qe.fromObject(e);return this.applyOperationToSyncPoints_(new We({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=new qe(null);return null!=n.snap?r=r.set(U(),!0):N(n.children,function(t){r=r.set(new V(t),!0)}),this.applyOperationToSyncPoints_(new Be(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new He({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))},t.prototype.applyServerMerge=function(t,e){var n=qe.fromObject(e);return this.applyOperationToSyncPoints_(new We({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new ze({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=X(a,e),c=new He(Ve(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=X(a,e),c=qe.fromObject(n),l=new We(Ve(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=X(o,e),u=new ze(Ve(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,a=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=X(t,r);i=i||e.getCompleteServerCache(n),a=a||e.hasCompleteView()});var s,u=this.syncPointTree_.get(r);u?(a=a||u.hasCompleteView(),i=i||u.getCompleteServerCache(U())):(u=new rn,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?s=!0:(s=!1,i=ee.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(U());n&&(i=i.updateImmediateChild(t,n))}));var c=u.viewExistsForQuery(e);if(!c&&!e.getQueryParams().loadsAllData()){var l=t.makeQueryKey_(e);Object(o.f)(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var h=t.getNextQueryTag_();this.queryToTagMap.set(l,h),this.tagToQueryMap.set(h,l)}var f=this.pendingWriteTree_.childWrites(r),d=u.addEventRegistration(e,n,f,i,s);if(!c&&!a){var p=u.viewForQuery(e);d=d.concat(this.setupListener_(e,p))}return d},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}!h&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(t.queryForListening_(e),null):c.forEach(function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)})),this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=X(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.getServerValue=function(t){var e=t.path,n=null;this.syncPointTree_.foreachOnPath(e,function(t,r){var i=X(t,e);n=n||r.getCompleteServerCache(i)});var r=this.syncPointTree_.get(e);r?n=n||r.getCompleteServerCache(U()):(r=new rn,this.syncPointTree_=this.syncPointTree_.set(e,r));var i=null!=n,o=i?new Ke(n,!0,!1):null,a=this.pendingWriteTree_.childWrites(t.path);return r.getView(t,a,i?o.getNode():ee.EMPTY_NODE,i).getCompleteNode()},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),N(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(i)Object(o.f)(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!Y(t)&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),N(n,function(t,e){r=r.concat(e)}),r}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||ee.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return Object(o.f)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new V(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);Object(o.f)(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(U()))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(Y(t.path))return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(U());null==n&&null!=i&&(n=i.getCompleteServerCache(U()));var o=[],a=B(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(U());null==n&&null!=o&&(n=o.getCompleteServerCache(U()));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),bn=function(){function t(){this.rootNode_=ee.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),_n=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Object(o.k)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Object(o.m)(this.counters_)},t}(),wn=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new _n),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),kn=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=Object(i.a)({},t);return this.last_&&N(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Cn=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new kn(t);var n=1e4+2e4*Math.random();F(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;N(e,function(e,i){i>0&&Object(o.k)(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),F(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),On=function(){this.eventLists_=[],this.recursionDepth_=0};function En(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||J(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Sn(t,e,n){En(t,n),In(t,function(t){return J(t,e)})}function Tn(t,e,n){En(t,n),In(t,function(t){return $(t,e)||$(e,t)})}function In(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];i&&(e(i.path)?(xn(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}function xn(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();y&&_("event: "+n.toString()),L(r)}}}var Pn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},Object(o.f)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=Object(i.f)(this.listeners_[t]),o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){Object(o.f)(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),An=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Pn),Rn=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Object(o.x)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(i.c)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return Object(o.f)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Pn),Nn=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&L(function(){n.onMessage_(t[e])})},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},t}(),jn=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=w(t),this.stats_=wn.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Nn(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Object(o.z)()||"complete"===document.readyState)t();else{var e=!1,n=function n(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Dn(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,5),o=r[0],a=r[1],s=r[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===o)n.id=a,n.password=s;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Object(i.e)(t,2),o=r[0],a=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)},function(){n.onClosed_()},n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.hostname&&lt.test(location.hostname)&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(Object(o.z)()||!t.forceAllow_&&(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=Object(o.i)(e),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!Object(o.z)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=Object(o.J)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Dn=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(o.z)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=p(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){_("frame writing exception"),u.stack&&_(u.stack),_(u)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||_("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return this.addLongPollTag_(e+=n,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,function(){clearTimeout(i),r()})},t.prototype.addTag=function(t,e){var n=this;Object(o.z)()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){_("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))},t}(),Mn="";function Ln(t){Mn=t}var Fn=null;"undefined"!=typeof MozWebSocket?Fn=MozWebSocket:"undefined"!=typeof WebSocket&&(Fn=WebSocket);var Vn=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=w(this.connId),this.stats_=wn.getCollection(n),this.connURL=t.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n){var r={v:"5"};return!Object(o.z)()&&"undefined"!=typeof location&&location.hostname&&lt.test(location.hostname)&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(Object(o.z)()){var r={headers:{"User-Agent":"Firebase/5/"+Mn+"/"+process.platform+"/"+(this.nodeAdmin?"AdminNode":"Node"),"X-Firebase-GMPID":this.applicationId||""}},i=process.env,a=0===this.connURL.indexOf("wss://")?i.HTTPS_PROXY||i.https_proxy:i.HTTP_PROXY||i.http_proxy;a&&(r.proxy={origin:a}),this.mySock=new Fn(this.connURL,[],r)}else this.mySock=new Fn(this.connURL,[],r={headers:{"X-Firebase-GMPID":this.applicationId||""}})}catch(u){this.log_("Error instantiating WebSocket.");var s=u.message||u.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Fn&&!t.forceDisallow_},t.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Object(o.D)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(Object(o.f)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Object(o.J)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Un=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[jn,Vn]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,o=Vn&&Vn.isAvailable(),a=o&&!Vn.previouslyFailed();if(e.webSocketOnly&&(o||O("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Vn];else{var s=this.transports_=[];try{for(var u=Object(i.h)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Bn=function(){function t(t,e,n,r,i,o,a,s){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=a,this.lastSessionId=s,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=w("c:"+this.id+":"),this.transportManager_=new Un(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=F(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){this.sendData_({t:"d",d:t})},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=P("t",t),n=P("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=P("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?k("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&O("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),F(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):F(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),qn=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),zn=function(t){function e(n,r,i,a,s,u,c){var l=t.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=s,l.authTokenProvider_=u,l.authOverride_=c,l.id=e.nextPersistentConnectionId_++,l.log_=w("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=1e3,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!Object(o.z)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),An.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Rn.getInstance().on("online",l.onOnline_,l),l}return Object(i.c)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Object(o.J)(i)),Object(o.f)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this,n=new o.a,r={p:t.path.toString(),q:t.queryObject()},i={action:"g",request:r,onComplete:function(t){var i=t.d;"ok"===t.s?(e.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),Object(o.f)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Object(o.k)(t,"w")){var n=Object(o.G)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();O("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||Object(o.q)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=Object(o.C)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),Object(o.f)(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){"ok"!==t.s&&e.log_("reportStats","Error sending stats: "+t.d)})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Object(o.J)(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):k("Unrecognized action received from server: "+Object(o.J)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;Object(o.f)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){var t=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+e.nextConnectionId_++,s=this,u=this.lastSessionId,c=!1,l=null,h=function(){l?l.close():(c=!0,i())};this.realtime_={close:h,sendRequest:function(t){Object(o.f)(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(t)}};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(t){c?_("getToken() completed but was canceled"):(_("getToken() completed. Creating connection."),s.authToken_=t&&t.accessToken,l=new Bn(a,s.repoInfo_,s.applicationId_,n,r,i,function(t){O(t+" ("+s.repoInfo_.toString()+")"),s.interrupt("server_kill")},u))}).then(null,function(e){s.log_("Failed to get token: "+e),c||(t.repoInfo_.nodeAdmin&&O(e),h())})}},e.prototype.interrupt=function(t){_("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){_("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Object(o.u)(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return A(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new V(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){_("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var o=Object(i.h)(this.listens.values()),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(s.values())),c=u.next();!c.done;c=u.next())this.sendListen_(c.value)}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(l=0;l<this.outstandingGets_.length;l++)this.outstandingGets_[l]&&this.sendGet_(l)},e.prototype.sendConnectStats_=function(){var t={},e="js";Object(o.z)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+Mn.replace(/\./g,"-")]=1,Object(o.x)()?t["framework.cordova"]=1:Object(o.A)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Rn.getInstance().currentlyOnline();return Object(o.u)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(qn),Hn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=w("p:rest:"),i.listens_={},i}return Object(i.c)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(Object(o.f)(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Te(t.getQueryParams());this.restRequest_(s+".json",l,function(t,e){var n=e;404===t&&(n=null,t=null),null===t&&a.onDataUpdate_(s,n,!1,r),Object(o.G)(a.listens_,u)===c&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Te(t.getQueryParams()),r=t.path.toString(),i=new o.a;return this.restRequest_(r+".json",n,function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var a=i&&i.accessToken;a&&(e.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+Object(o.F)(e);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=Object(o.D)(u.responseText)}catch(e){O("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&O("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()})},e}(qn),Wn=function(){this.children={},this.childCount=0,this.value=null},Kn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Wn),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof V?e:new V(e),r=this,i=B(n);null!==i;)r=new t(i,r,Object(o.G)(r.node_.children,i)||new Wn),i=B(n=z(n));return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){Object(o.f)(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;N(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new V(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Object(o.k)(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}(),Gn=function(t){return t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT",t}({}),Qn=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.app=n,this.authTokenProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new On,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Le,this.transactionQueueTree_=new Kn,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.start=function(){var t=this;if(this.stats_=wn.getCollection(this.repoInfo_),this.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new Hn(this.repoInfo_,this.onDataUpdate_.bind(this),this.authTokenProvider_),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var e=this.app.options.databaseAuthVariableOverride;if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(o.J)(e)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}this.persistentConnection_=new zn(this.repoInfo_,this.app.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),this.authTokenProvider_,e),this.server_=this.persistentConnection_}this.authTokenProvider_.addTokenChangeListener(function(e){t.server_.refreshAuthToken(e)}),this.statsReporter_=wn.getOrCreateReporter(this.repoInfo_,function(){return new Cn(t.stats_,t.server_)}),this.infoData_=new bn,this.infoSyncTree_=new mn({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e.path);return a.isEmpty()||(o=t.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new mn({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,function(n,r){var o=i(n,r);Tn(t.eventQueue_,e.path,o)}),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})},t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new V(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new V(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(r)if(n){var s=Object(o.E)(e,function(t){return re(t)});a=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var u=re(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=Object(o.E)(e,function(t){return re(t)});a=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=re(e);a=this.serverSyncTree_.applyServerOverwrite(i,l)}var h=i;a.length>0&&(h=this.rerunTransactions_(i)),Tn(this.eventQueue_,h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;N(t,function(t,n){e.updateInfo_(t,n)})},t.prototype.updateInfo_=function(t,e){var n=new V("/.info/"+t),r=re(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);Tn(this.eventQueue_,n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.getValue=function(t){var e=this,n=this.serverSyncTree_.getServerValue(t);return null!=n?Promise.resolve(new ae(n,t.getRef(),t.getQueryParams().getIndex())):this.server_.get(t).then(function(n){var r=re(n),i=e.serverSyncTree_.applyServerOverwrite(t.path,r);return Sn(e.eventQueue_,t.path,i),Promise.resolve(new ae(r,t.getRef(),t.getQueryParams().getIndex()))},function(n){return e.log_("get for query "+Object(o.J)(t)+" failed: "+n),Promise.reject(new Error(n))})},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=re(e,n),s=this.serverSyncTree_.calcCompleteEventCache(t),u=De(a,s,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);En(this.eventQueue_,l),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||O("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);Tn(i.eventQueue_,t,a),i.callOnCompleteCallback(r,e,n)});var h=this.abortTransactions_(t);this.rerunTransactions_(h),Tn(this.eventQueue_,h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(N(e,function(e,n){i=!1,a[e]=je(Q(t,e),re(n),r.serverSyncTree_,o)}),i)_("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,a,s);En(this.eventQueue_,u),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||O("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;Tn(r.eventQueue_,u,a),r.callOnCompleteCallback(n,e,i)}),N(e,function(e){var n=r.abortTransactions_(Q(t,e));r.rerunTransactions_(n)}),Tn(this.eventQueue_,t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new Le;this.onDisconnect_.forEachTree(U(),function(r,i){var o=je(r,i,t.serverSyncTree_,e);n.remember(r,o)});var r=[];n.forEachTree(U(),function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new Le,Tn(this.eventQueue_,U(),r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=re(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=re(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Object(o.u)(e))return _("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&N(e,function(e,n){var i=re(n);r.onDisconnect_.remember(Q(t,e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===B(t.path)?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),Sn(this.eventQueue_,t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===B(t.path)?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),Sn(this.eventQueue_,t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new kn(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);N(e,function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),_.apply(void 0,Object(i.f)([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&L(function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new tr(this))},enumerable:!1,configurable:!0}),t.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},a=new Yn(this,t);a.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:p(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(t);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new ae(s.currentInputSnapshot,new Yn(this,s.path),zt);s.onComplete(null,!1,l)}}else{_t("transaction failed: Data returned ",c,s.path),s.status=Gn.RUN;var h=this.transactionQueueTree_.subTree(t),f=h.getValue()||[];f.push(s),h.setValue(f);var d=void 0;"object"==typeof c&&null!==c&&Object(o.k)(c,".priority")?(d=Object(o.G)(c,".priority"),Object(o.f)(mt(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(this.serverSyncTree_.calcCompleteEventCache(t)||ee.EMPTY_NODE).getPriority().val();var v=this.generateServerValues(),g=re(c,d),y=De(g,u,v);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var m=this.serverSyncTree_.applyUserOverwrite(t,y,s.currentWriteId,s.applyLocally);Tn(this.eventQueue_,t,m),this.sendReadyTransactions_()}},t.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||ee.EMPTY_NODE},t.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);Object(o.f)(n.length>0,"Sending zero length transaction queue"),n.every(function(t){return t.status===Gn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},t.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),a=i,s=i.hash(),u=0;u<e.length;u++){var c=e[u];Object(o.f)(c.status===Gn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=Gn.SENT,c.retryCount++;var l=X(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=Gn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new Yn(n,e[a].path),c=new ae(s,u,zt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),Tn(n.eventQueue_,t,i),a=0;a<o.length;a++)L(o[a])}else{if("datastale"===r)for(a=0;a<e.length;a++)e[a].status=e[a].status===Gn.SENT_NEEDS_ABORT?Gn.NEEDS_ABORT:Gn.RUN;else for(O("transaction at "+f.toString()+" failed: "+r),a=0;a<e.length;a++)e[a].status=Gn.NEEDS_ABORT,e[a].abortReason=r;n.rerunTransactions_(t)}},s)},t.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},t.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===Gn.RUN}).map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var s=t[a],u=X(e,s.path),c=!1,l=void 0;if(Object(o.f)(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===Gn.NEEDS_ABORT)c=!0,l=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===Gn.RUN)if(s.retryCount>=25)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,i);s.currentInputSnapshot=h;var f=t[a].update(h.val());if(void 0!==f){_t("transaction failed: Data returned ",f,s.path);var d=re(f);"object"==typeof f&&null!=f&&Object(o.k)(f,".priority")||(d=d.updatePriority(h.getPriority()));var p=s.currentWriteId,v=this.generateServerValues(),g=De(d,h,v);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),i.splice(i.indexOf(p),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(p,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(Tn(this.eventQueue_,e,r),r=[],c&&(t[a].status=Gn.COMPLETED,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete))if("nodata"===l){var y=new Yn(this,t[a].path),m=new ae(t[a].currentInputSnapshot,y,zt);n.push(t[a].onComplete.bind(null,null,!1,m))}else n.push(t[a].onComplete.bind(null,new Error(l),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<n.length;a++)L(n[a]);this.sendReadyTransactions_()}},t.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=B(t);null!==e&&null===n.getValue();)n=n.subTree(e),e=B(t=z(t));return n},t.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},t.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},t.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Gn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},t.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},t.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,a=0;a<e.length;a++)e[a].status===Gn.SENT_NEEDS_ABORT||(e[a].status===Gn.SENT?(Object(o.f)(i===a-1,"All SENT items should be at beginning of queue."),i=a,e[a].status=Gn.SENT_NEEDS_ABORT,e[a].abortReason="set"):(Object(o.f)(e[a].status===Gn.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete&&n.push(e[a].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?t.setValue(null):e.length=i+1,Tn(this.eventQueue_,t.path(),r),a=0;a<n.length;a++)L(n[a])}},t}(),Yn=function(t){function e(e,n){if(!(e instanceof Qn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,new be,!1)||this}return Object(i.c)(e,t),e.prototype.getKey=function(){return Object(o.K)("Reference.key",0,0,arguments.length),Y(this.path)?null:H(this.path)},e.prototype.child=function(t){return Object(o.K)("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof V||(null===B(this.path)?St("Reference.child",1,t,!1):Et("Reference.child",1,t,!1)),new e(this.repo,Q(this.path,t))},e.prototype.getParent=function(){Object(o.K)("Reference.parent",0,0,arguments.length);var t=G(this.path);return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Object(o.K)("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Object(o.K)("Reference.set",1,2,arguments.length),Tt("Reference.set",this.path),bt("Reference.set",1,t,this.path,!1),Object(o.L)("Reference.set",2,e,!0);var n=new o.a;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Object(o.K)("Reference.update",1,2,arguments.length),Tt("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,O("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}wt("Reference.update",1,t,this.path,!1),Object(o.L)("Reference.update",2,e,!0);var i=new o.a;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Object(o.K)("Reference.setWithPriority",2,3,arguments.length),Tt("Reference.setWithPriority",this.path),bt("Reference.setWithPriority",1,t,this.path,!1),kt("Reference.setWithPriority",2,e,!1),Object(o.L)("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new o.a;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Object(o.K)("Reference.remove",0,1,arguments.length),Tt("Reference.remove",this.path),Object(o.L)("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Object(o.K)("Reference.transaction",1,3,arguments.length),Tt("Reference.transaction",this.path),Object(o.L)("Reference.transaction",1,t,!1),Object(o.L)("Reference.transaction",2,e,!0),xt("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new o.a;"function"==typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new At(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Object(o.K)("Reference.setPriority",1,2,arguments.length),Tt("Reference.setPriority",this.path),kt("Reference.setPriority",1,t,!1),Object(o.L)("Reference.setPriority",2,e,!0);var n=new o.a;return this.repo.setWithPriority(Q(this.path,".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Object(o.K)("Reference.push",0,2,arguments.length),Tt("Reference.push",this.path),bt("Reference.push",1,t,this.path,!0),Object(o.L)("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Nt(r),a=this.child(i),s=this.child(i);return n=null!=t?a.set(t,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch(function(){}),a},e.prototype.onDisconnect=function(){return Tt("Reference.onDisconnect",this.path),new Pt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Ie);Ie.__referenceConstructor=Yn,rn.__referenceConstructor=Yn;var Xn,Zn=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then(function(t){return n.auth_=t})}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch(function(t){return t&&"auth/token-not-initialized"===t.code?(_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)}):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout(function(){return t(null)},0),this.authProvider_.get().then(function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then(function(e){return e.removeAuthTokenListener(t)})},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';O(t+="credential"in this.app_.options?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.')},t}(),Jn=function(){function t(){}return t.prototype.getToken=function(e){return Promise.resolve({accessToken:t.EMULATOR_AUTH_TOKEN})},t.prototype.addTokenChangeListener=function(e){e(t.EMULATOR_AUTH_TOKEN)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.EMULATOR_AUTH_TOKEN="owner",t}(),$n=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Xn||(Xn=new t),Xn},t.prototype.interrupt=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].interrupt()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var o=Object(i.h)(Object.keys(this.repos_)),a=o.next();!a.done;a=o.next()){var s=a.value;try{for(var u=(n=void 0,Object(i.h)(Object.keys(this.repos_[s]))),c=u.next();!c.done;c=u.next())this.repos_[s][c.value].resume()}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(h){t={error:h}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}},t.prototype.applyEmulatorSettings=function(t,e,n){t.repoInfo_=new ht(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),t.repoInfo_.nodeAdmin&&(t.authTokenProvider_=new Jn)},t.prototype.databaseFromApp=function(t,e,n,r){var i=n||t.options.databaseURL;void 0===i&&(t.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_("Using default host for project ",t.options.projectId),i=t.options.projectId+"-default-rtdb.firebaseio.com");var o,a=ft(i,r),s=a.repoInfo,u=void 0;"undefined"!=typeof process&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(o=!0,s=(a=ft(i="http://"+u+"?ns="+s.namespace,r)).repoInfo):o=!a.repoInfo.secure;var c=r&&o?new Jn:new Zn(t,e);return It("Invalid Firebase Database URL",1,a),Y(a.path)||C("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(s,t,c).database},t.prototype.deleteRepo=function(t){var e=Object(o.G)(this.repos_,t.app.name);e&&Object(o.G)(e,t.key)===t||C("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.key]},t.prototype.createRepo=function(t,e,n){var r=Object(o.G)(this.repos_,e.name);r||(this.repos_[e.name]=r={});var i=Object(o.G)(r,t.toURLString());return i&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new Qn(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),tr=function(){function t(t){var e=this;this.repoInternal_=t,this.instanceStarted_=!1,this.INTERNAL={delete:function(){return Object(i.b)(e,void 0,void 0,function(){return Object(i.d)(this,function(t){return this.checkDeleted_("delete"),$n.getInstance().deleteRepo(this.repo_),this.repoInternal_=null,this.rootInternal_=null,[2]})})}},t instanceof Qn||C("Don't call new Database() directly - please use firebase.database().")}return Object.defineProperty(t.prototype,"repo_",{get:function(){return this.instanceStarted_||(this.repoInternal_.start(),this.instanceStarted_=!0),this.repoInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root_",{get:function(){return this.rootInternal_||(this.rootInternal_=new Yn(this.repo_,U())),this.rootInternal_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.useEmulator=function(t,e){this.checkDeleted_("useEmulator"),this.instanceStarted_?C("Cannot call useEmulator() after instance has already been initialized."):$n.getInstance().applyEmulatorSettings(this.repoInternal_,t,e)},t.prototype.ref=function(t){return this.checkDeleted_("ref"),Object(o.K)("database.ref",0,1,arguments.length),t instanceof Yn?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Object(o.K)(e,1,1,arguments.length);var n=ft(t,this.repo_.repoInfo_.nodeAdmin);It(e,1,n);var r=n.repoInfo;return this.repo_.repoInfo_.isCustomHost()||r.host===this.repo_.repoInfo_.host||C(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repoInternal_&&C("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Object(o.K)("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Object(o.K)("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),er=Object.freeze({__proto__:null,forceLongPolling:function(){Vn.forceDisallow(),jn.forceAllow()},forceWebSockets:function(){jn.forceDisallow()},isWebSocketsAvailable:function(){return Vn.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)},initStandalone:function(t){var e=t.app,n=t.url,r=t.customAuthImpl,i=t.namespace,o=t.nodeAdmin,a=void 0!==o&&o;Ln(t.version);var u=new s.c("auth-internal",new s.b("database-standalone"));return u.setComponent(new s.a("auth-internal",function(){return r},"PRIVATE")),{instance:$n.getInstance().databaseFromApp(e,u,n,a),namespace:i}}}),nr=zn;zn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},zn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var rr=Object.freeze({__proto__:null,DataConnection:nr,RealTimeConnection:Bn,hijackHash:function(t){var e=zn.prototype.put;return zn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){zn.prototype.put=e}},ConnectionTarget:ht,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){$n.getInstance().forceRestClient(t)}}),ir=tr.ServerValue;!function(e){Ln(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new s.a("database",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return $n.getInstance().databaseFromApp(n,r,e)},"PUBLIC").setServiceProps({Reference:Yn,Query:Ie,Database:tr,DataSnapshot:ae,enableLogging:b,INTERNAL:er,ServerValue:ir,TEST_ACCESS:rr}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.9.4"),Object(o.z)()&&(t.exports=n)}(r.a)}).call(this,n("3UD+")(t))},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=1,i=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}var s=function(t){var e=r++;return o[e]=!0,i.then(function(){return a(e)&&t()}),e},u=function(t){a(t)},c=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?h(w(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return h(w(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(u(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){v(n,t);var e=y(n);function n(t,r,o){var a;switch(f(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(b(a))):(a.syncErrorThrowable=!0,a.destination=new l(b(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(b(a),t,r,o)}return a}return p(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,h(w(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){v(n,t);var e=y(n);function n(t,o,a,s){var u,c;f(this,n),(u=e.call(this))._parentSubscriber=t;var l=b(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(b(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return p(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(function(n){var r=new o.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(function(n){var r,i=new o.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[u.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c});var r,i=n("XNiG"),o=n("HDdC"),a=(n("7o/Q"),n("quSY")),s=n("x+ZX"),u=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return p(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t}},{key:"refCount",value:function(){return Object(s.a)()(this)}}]),n}(o.a),c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(r=u.prototype)._subscribe},_isComplete:{value:r._isComplete,writable:!0},getSubject:{value:r.getSubject},connect:{value:r.connect},refCount:{value:r.refCount}},l=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_error",value:function(t){this._unsubscribe(),h(w(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),h(w(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(i.b)},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),c=n("2fFW"),l=((r=function(){function t(e){f(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return p(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(r=e).length?u.a:1===r.length?r[0]:function(t){return r.reduce(function(t,e){return e(t)},t)})(this);var r}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;f(this,t),this.SchedulerAction=e,this.now=n}return p(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){v(n,t);var e=y(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return f(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==b(i)?n.delegate.now():o()})).actions=[],i.active=!1,i.scheduled=void 0,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):h(w(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.9","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){v(n,t);var e=y(n);function n(){var t;return f(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return p(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return h(w(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new d(t,e)},t}(),d=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).destination=t,i.source=r,i}return p(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return p(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,n,r){"use strict";r.d(n,"a",function(){return dn}),r.d(n,"b",function(){return cc}),r.d(n,"c",function(){return ic}),r.d(n,"d",function(){return nc}),r.d(n,"e",function(){return rc}),r.d(n,"f",function(){return el}),r.d(n,"g",function(){return Wc}),r.d(n,"h",function(){return $s}),r.d(n,"i",function(){return _c}),r.d(n,"j",function(){return Cs}),r.d(n,"k",function(){return fc}),r.d(n,"l",function(){return Ts}),r.d(n,"m",function(){return Pr}),r.d(n,"n",function(){return Du}),r.d(n,"o",function(){return _o}),r.d(n,"p",function(){return Dn}),r.d(n,"q",function(){return q}),r.d(n,"r",function(){return fn}),r.d(n,"s",function(){return Do}),r.d(n,"t",function(){return Ks}),r.d(n,"u",function(){return Qs}),r.d(n,"v",function(){return hc}),r.d(n,"w",function(){return cu}),r.d(n,"x",function(){return Gc}),r.d(n,"y",function(){return uu}),r.d(n,"z",function(){return Uc}),r.d(n,"A",function(){return Cc}),r.d(n,"B",function(){return Mn}),r.d(n,"C",function(){return uc}),r.d(n,"D",function(){return sc}),r.d(n,"E",function(){return Lu}),r.d(n,"F",function(){return Ps}),r.d(n,"G",function(){return xs}),r.d(n,"H",function(){return Mr}),r.d(n,"I",function(){return Rs}),r.d(n,"J",function(){return Cr}),r.d(n,"K",function(){return Ln}),r.d(n,"L",function(){return Xc}),r.d(n,"M",function(){return ou}),r.d(n,"N",function(){return Pc}),r.d(n,"O",function(){return pn}),r.d(n,"P",function(){return js}),r.d(n,"Q",function(){return Ns}),r.d(n,"R",function(){return hu}),r.d(n,"S",function(){return G}),r.d(n,"T",function(){return Bc}),r.d(n,"U",function(){return Fc}),r.d(n,"V",function(){return E}),r.d(n,"W",function(){return Pn}),r.d(n,"X",function(){return Lc}),r.d(n,"Y",function(){return $c}),r.d(n,"Z",function(){return Rc}),r.d(n,"ab",function(){return lc}),r.d(n,"bb",function(){return ko}),r.d(n,"cb",function(){return hs}),r.d(n,"db",function(){return wr}),r.d(n,"eb",function(){return ir}),r.d(n,"fb",function(){return Gn}),r.d(n,"gb",function(){return Yn}),r.d(n,"hb",function(){return $n}),r.d(n,"ib",function(){return Zn}),r.d(n,"jb",function(){return Xn}),r.d(n,"kb",function(){return Jn}),r.d(n,"lb",function(){return ss}),r.d(n,"mb",function(){return Jc}),r.d(n,"nb",function(){return us}),r.d(n,"ob",function(){return cs}),r.d(n,"pb",function(){return Qn}),r.d(n,"qb",function(){return J}),r.d(n,"rb",function(){return Wo}),r.d(n,"sb",function(){return ha}),r.d(n,"tb",function(){return ca}),r.d(n,"ub",function(){return la}),r.d(n,"vb",function(){return as}),r.d(n,"wb",function(){return jt}),r.d(n,"xb",function(){return k}),r.d(n,"yb",function(){return Kn}),r.d(n,"zb",function(){return Lo}),r.d(n,"Ab",function(){return xt}),r.d(n,"Bb",function(){return _s}),r.d(n,"Cb",function(){return ki}),r.d(n,"Db",function(){return Xo}),r.d(n,"Eb",function(){return ts}),r.d(n,"Fb",function(){return Ma}),r.d(n,"Gb",function(){return Yu}),r.d(n,"Hb",function(){return ct}),r.d(n,"Ib",function(){return gt}),r.d(n,"Jb",function(){return R}),r.d(n,"Kb",function(){return N}),r.d(n,"Lb",function(){return dt}),r.d(n,"Mb",function(){return yt}),r.d(n,"Nb",function(){return ta}),r.d(n,"Ob",function(){return oa}),r.d(n,"Pb",function(){return sa}),r.d(n,"Qb",function(){return aa}),r.d(n,"Rb",function(){return ia}),r.d(n,"Sb",function(){return ra}),r.d(n,"Tb",function(){return ua}),r.d(n,"Ub",function(){return cn}),r.d(n,"Vb",function(){return es}),r.d(n,"Wb",function(){return xn}),r.d(n,"Xb",function(){return ln}),r.d(n,"Yb",function(){return ec}),r.d(n,"Zb",function(){return fa}),r.d(n,"ac",function(){return Xu}),r.d(n,"bc",function(){return Se}),r.d(n,"cc",function(){return ya}),r.d(n,"dc",function(){return Pu}),r.d(n,"ec",function(){return Au}),r.d(n,"fc",function(){return Ru}),r.d(n,"gc",function(){return _a}),r.d(n,"hc",function(){return ba}),r.d(n,"ic",function(){return ea}),r.d(n,"jc",function(){return wa}),r.d(n,"kc",function(){return Eu}),r.d(n,"lc",function(){return Su}),r.d(n,"mc",function(){return Tu}),r.d(n,"nc",function(){return Gu}),r.d(n,"oc",function(){return $o}),r.d(n,"pc",function(){return jr}),r.d(n,"qc",function(){return Nr}),r.d(n,"rc",function(){return te}),r.d(n,"sc",function(){return Or}),r.d(n,"tc",function(){return Er}),r.d(n,"uc",function(){return pt}),r.d(n,"vc",function(){return La}),r.d(n,"wc",function(){return Da}),r.d(n,"xc",function(){return da}),r.d(n,"yc",function(){return ns}),r.d(n,"zc",function(){return Jo}),r.d(n,"Ac",function(){return tc}),r.d(n,"Bc",function(){return Za}),r.d(n,"Cc",function(){return Ja}),r.d(n,"Dc",function(){return $a}),r.d(n,"Ec",function(){return Qu});var o=r("XNiG"),s=r("quSY"),u=r("HDdC"),d=r("VRyK"),g=r("w1tV");function m(t){for(var e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function _(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function k(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(k).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function C(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var O=m({__forward_ref__:m});function E(t){return t.__forward_ref__=E,t.toString=function(){return k(this())},t}function S(t){return T(t)?t():t}function T(t){return"function"==typeof t&&t.hasOwnProperty(O)&&t.__forward_ref__===E}var I=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,r))).code=t,i}return n}(c(Error));function x(t){return"string"==typeof t?t:null==t?"":String(t)}function P(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():x(t)}function A(t,e){var n=e?" in ".concat(e):"";throw new I("201","No provider for ".concat(P(t)," found").concat(n))}function R(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function N(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function j(t){return D(t,F)||D(t,U)}function D(t,e){return t.hasOwnProperty(e)?t[e]:null}function M(t){return t&&(t.hasOwnProperty(V)||t.hasOwnProperty(B))?t[V]:null}var L,F=m({"\u0275prov":m}),V=m({"\u0275inj":m}),U=m({ngInjectableDef:m}),B=m({ngInjectorDef:m}),q=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function z(t){var e=L;return L=t,e}function H(t,e,n){var r=j(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&q.Optional?null:void 0!==e?e:void A(k(t),"Injector")}function W(t){return{toString:t}.toString()}var K=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),G=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Q="undefined"!=typeof globalThis&&globalThis,Y="undefined"!=typeof window&&window,X="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Z="undefined"!=typeof global&&global,J=Q||Z||Y||X,$={},tt=[],et=m({"\u0275cmp":m}),nt=m({"\u0275dir":m}),rt=m({"\u0275pipe":m}),it=m({"\u0275mod":m}),ot=m({"\u0275loc":m}),at=m({"\u0275fac":m}),st=m({__NG_ELEMENT_ID__:m}),ut=0;function ct(t){return W(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===K.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||G.Emulated,id:"c",styles:t.styles||tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=ut++,n.inputs=vt(t.inputs,e),n.outputs=vt(t.outputs),i&&i.forEach(function(t){return t(n)}),n.directiveDefs=r?function(){return("function"==typeof r?r():r).map(lt)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ht)}:null,n})}function lt(t){return mt(t)||function(t){return t[nt]||null}(t)}function ht(t){return function(t){return t[rt]||null}(t)}var ft={};function dt(t){var e={type:t.type,bootstrap:t.bootstrap||tt,declarations:t.declarations||tt,imports:t.imports||tt,exports:t.exports||tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&W(function(){ft[t.id]=t.type}),e}function pt(t,e){return W(function(){var n=bt(t,!0);n.declarations=e.declarations||tt,n.imports=e.imports||tt,n.exports=e.exports||tt})}function vt(t,e){if(null==t)return $;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var gt=ct;function yt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function mt(t){return t[et]||null}function bt(t,e){var n=t[it]||null;if(!n&&!0===e)throw new Error("Type ".concat(k(t)," does not have '\u0275mod' property."));return n}function _t(t){return Array.isArray(t)&&"object"==typeof t[1]}function wt(t){return Array.isArray(t)&&!0===t[1]}function kt(t){return 0!=(8&t.flags)}function Ct(t){return 2==(2&t.flags)}function Ot(t){return 1==(1&t.flags)}function Et(t){return null!==t.template}function St(t,e){return t.hasOwnProperty(at)?t[at]:null}var Tt,It=function(){function t(e,n,r){f(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return p(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function xt(){return Pt}function Pt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Rt),At}function At(){var t=Nt(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===$)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Rt(t,e,n,r){var i=Nt(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:$,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new It(u&&u.currentValue,e,a===$),t[r]=e}function Nt(t){return t.__ngSimpleChanges__||null}function jt(t){Tt=t}function Dt(){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}function Mt(t){return!!t.listen}xt.ngInherit=!0;var Lt={createRenderer:function(t,e){return Dt()}};function Ft(t){for(;Array.isArray(t);)t=t[0];return t}function Vt(t,e){return Ft(e[t])}function Ut(t,e){return Ft(e[t.index])}function Bt(t,e){return t.data[e]}function qt(t,e){return t[e]}function zt(t,e){var n=e[t];return _t(n)?n:n[0]}function Ht(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Wt(t){return 4==(4&t[2])}function Kt(t){return 128==(128&t[2])}function Gt(t,e){return null==e?null:t[e]}function Qt(t){t[18]=0}function Yt(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Xt={lFrame:be(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Zt(){return Xt.bindingsEnabled}function Jt(){return Xt.lFrame.lView}function $t(){return Xt.lFrame.tView}function te(t){Xt.lFrame.contextLView=t}function ee(){for(var t=ne();null!==t&&64===t.type;)t=t.parent;return t}function ne(){return Xt.lFrame.currentTNode}function re(t,e){var n=Xt.lFrame;n.currentTNode=t,n.isParent=e}function ie(){return Xt.lFrame.isParent}function oe(){Xt.lFrame.isParent=!1}function ae(){return Xt.isInCheckNoChangesMode}function se(t){Xt.isInCheckNoChangesMode=t}function ue(){var t=Xt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ce(){return Xt.lFrame.bindingIndex++}function le(t){var e=Xt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function he(t){Xt.lFrame.currentDirectiveIndex=t}function fe(t){var e=Xt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function de(){return Xt.lFrame.currentQueryIndex}function pe(t){Xt.lFrame.currentQueryIndex=t}function ve(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ge(t,e,n){if(n&q.SkipSelf){for(var r=e,i=t;!(null!==(r=r.parent)||n&q.Host||(r=ve(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}var o=Xt.lFrame=me();return o.currentTNode=e,o.lView=t,!0}function ye(t){var e=me(),n=t[1];Xt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function me(){var t=Xt.lFrame,e=null===t?null:t.child;return null===e?be(t):e}function be(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function _e(){var t=Xt.lFrame;return Xt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var we=_e;function ke(){var t=_e();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ce(){return Xt.lFrame.selectedIndex}function Oe(t){Xt.lFrame.selectedIndex=t}function Ee(){var t=Xt.lFrame;return Bt(t.tView,t.selectedIndex)}function Se(){Xt.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Te(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n].type.prototype,o=i.ngAfterContentInit,a=i.ngAfterContentChecked,s=i.ngAfterViewInit,u=i.ngAfterViewChecked,c=i.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function Ie(t,e,n){Ae(t,e,3,n)}function xe(t,e,n,r){(3&t[2])===n&&Ae(t,e,n,r)}function Pe(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ae(t,e,n,r){for(var i=null!=r?r:-1,o=e.length-1,a=0,s=void 0!==r?65535&t[18]:0;s<o;s++)if("number"==typeof e[s+1]){if(a=e[s],null!=r&&a>=r)break}else e[s]<0&&(t[18]+=65536),(a<i||-1==i)&&(Re(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Re(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Ne=function t(e,n,r){f(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function je(t,e,n){for(var r=Mt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];Me(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function De(t){return 3===t||4===t||6===t}function Me(t){return 64===t.charCodeAt(0)}function Le(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||Fe(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function Fe(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ve(t){return-1!==t}function Ue(t){return 32767&t}function Be(t,e){for(var n=t>>16,r=e;n>0;)r=r[15],n--;return r}var qe=!0;function ze(t){var e=qe;return qe=t,e}var He=0;function We(t,e){var n=Ge(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ke(r.data,t),Ke(e,null),Ke(r.blueprint,null));var i=Qe(t,e),o=t.injectorIndex;if(Ve(i))for(var a=Ue(i),s=Be(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Ke(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ge(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,r=null,i=e;null!==i;){var o=i[1],a=o.type;if(null===(r=2===a?o.declTNode:1===a?i[6]:null))return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ye(t,e,n){!function(t,e,n){var r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(st)&&(r=n[st]),null==r&&(r=n[st]=He++);var i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Xe(t,e,n){if(n&q.Optional)return t;A(e,"NodeInjector")}function Ze(t,e,n,r){if(n&q.Optional&&void 0===r&&(r=null),0==(n&(q.Self|q.Host))){var i=t[9],o=z(void 0);try{return i?i.get(e,r,n&q.Optional):H(e,r,n&q.Optional)}finally{z(o)}}return Xe(r,e,n)}function Je(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(st)?t[st]:void 0;return"number"==typeof e?e>=0?255&e:tn:e}(n);if("function"==typeof o){if(!ge(e,t,r))return r&q.Host?Xe(i,n,r):Ze(e,n,r,i);try{var a=o();if(null!=a||r&q.Optional)return a;A(n)}finally{we()}}else if("number"==typeof o){var s=null,u=Ge(t,e),c=-1,l=r&q.Host?e[16][6]:null;for((-1===u||r&q.SkipSelf)&&(-1!==(c=-1===u?Qe(t,e):e[u+8])&&an(r,!1)?(s=e[1],u=Ue(c),e=Be(c,e)):u=-1);-1!==u;){var h=e[1];if(on(o,u,h.data)){var f=en(u,e,n,s,r,l);if(f!==$e)return f}-1!==(c=e[u+8])&&an(r,e[1].data[u+8]===l)&&on(o,u,e)?(s=h,u=Ue(c),e=Be(c,e)):u=-1}}}return Ze(e,n,r,i)}var $e={};function tn(){return new sn(ee(),Jt())}function en(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=nn(s,a,n,null==r?Ct(s)&&qe:r!=a&&0!=(3&s.type),i&q.Host&&o===s);return null!==u?rn(e,a,u,s):$e}function nn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=1048575&o,u=t.directiveStart,c=o>>20,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&Et(d)&&d.type===n)return u}return null}function rn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Ne){var a=i;a.resolving&&function(t,e){throw new I("200","Circular dependency in DI detected for ".concat(t))}(P(o[n]));var s=ze(a.canSeeViewProviders);a.resolving=!0;var u=a.injectImpl?z(a.injectImpl):null;ge(t,r,q.Default);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.type.prototype,i=r.ngOnChanges,o=r.ngOnInit,a=r.ngDoCheck;if(i){var s=Pt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),a&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a))}(n,o[n],e)}finally{null!==u&&z(u),ze(s),a.resolving=!1,we()}}return i}function on(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function an(t,e){return!(t&q.Self||t&q.Host&&e)}var sn=function(){function t(e,n){f(this,t),this._tNode=e,this._lView=n}return p(t,[{key:"get",value:function(t,e){return Je(this._tNode,this._lView,t,void 0,e)}}]),t}();function un(t){var e=t;if(T(t))return function(){var t=un(S(e));return t?t():null};var n=St(e);if(null===n){var r=M(e);n=r&&r.factory}return n||null}function cn(t){return W(function(){for(var e=t.prototype.constructor,n=e[at]||un(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[at]||un(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}})}function ln(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(De(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(ee(),t)}function hn(t,e,n){return W(function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=l(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var fn=function(){function t(e,n){f(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=R({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return p(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),dn=new fn("AnalyzeForEntryComponents"),pn=Function;function vn(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),vn(r,e)):e!==t&&e.push(r)}return e}function gn(t,e){t.forEach(function(t){return Array.isArray(t)?gn(t,e):e(t)})}function yn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function _n(t,e,n){var r=kn(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function wn(t,e){var n=kn(t,e);if(n>=0)return t[1|n]}function kn(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var Cn,On={},En=/\n/gm,Sn=m({provide:String,useValue:m});function Tn(t){var e=Cn;return Cn=t,e}function In(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default;if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?H(t,void 0,e):Cn.get(t,e&q.Optional?null:void 0,e)}function xn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default;return(L||In)(S(t),e)}var Pn=xn;function An(t){for(var e=[],n=0;n<t.length;n++){var r=S(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=q.Default,a=0;a<r.length;a++){var s=r[a],u=s.__NG_DI_FLAG__;"number"==typeof u?-1===u?i=s.token:o|=u:i=s}e.push(xn(i,o))}else e.push(xn(r))}return e}function Rn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var Nn,jn,Dn=Rn(hn("Inject",function(t){return{token:t}}),-1),Mn=Rn(hn("Optional"),8),Ln=Rn(hn("SkipSelf"),4);function Fn(t){var e;return(null===(e=function(){if(void 0===Nn&&(Nn=null,J.trustedTypes))try{Nn=J.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return Nn}())||void 0===e?void 0:e.createHTML(t))||t}function Vn(t){var e;return(null===(e=function(){if(void 0===jn&&(jn=null,J.trustedTypes))try{jn=J.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(e){}return jn}())||void 0===e?void 0:e.createHTML(t))||t}var Un=function(){function t(e){f(this,t),this.changingThisBreaksApplicationSecurity=e}return p(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Bn=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Un),qn=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Un),zn=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Un),Hn=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Un),Wn=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Un);function Kn(t){return t instanceof Un?t.changingThisBreaksApplicationSecurity:t}function Gn(t,e){var n=Qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Qn(t){return t instanceof Un&&t.getTypeName()||null}function Yn(t){return new Bn(t)}function Xn(t){return new qn(t)}function Zn(t){return new zn(t)}function Jn(t){return new Hn(t)}function $n(t){return new Wn(t)}var tr=function(){function t(e){f(this,t),this.inertDocumentHelper=e}return p(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Fn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(n){return null}}}]),t}(),er=function(){function t(e){if(f(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var r=this.inertDocument.createElement("body");n.appendChild(r)}}return p(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Fn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),nr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,rr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ir(t){return(t=String(t)).match(nr)||t.match(rr)?t:"unsafe:"+t}function or(t){var e,n={},r=a(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function ar(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var sr,ur=or("area,br,col,hr,img,wbr"),cr=or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lr=or("rp,rt"),hr=ar(lr,cr),fr=ar(ur,ar(cr,or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ar(lr,or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hr),dr=or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),pr=or("srcset"),vr=ar(dr,pr,or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gr=or("script,style,template"),yr=function(){function t(){f(this,t),this.sanitizedSomething=!1,this.buf=[]}return p(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!fr.hasOwnProperty(e))return this.sanitizedSomething=!0,!gr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(vr.hasOwnProperty(s)){var u=o.value;dr[s]&&(u=ir(u)),pr[s]&&(n=u,u=(n=String(n)).split(",").map(function(t){return ir(t.trim())}).join(", ")),this.buf.push(" ",a,'="',_r(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();fr.hasOwnProperty(e)&&!ur.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(_r(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,br=/([^\#-~ |!])/g;function _r(t){return t.replace(/&/g,"&amp;").replace(mr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(br,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function wr(t,e){var n=null;try{sr=sr||function(t){var e=new er(t);return function(){try{return!!(new window.DOMParser).parseFromString(Fn(""),"text/html")}catch(t){return!1}}()?new tr(e):e}(t);var r=e?String(e):"";n=sr.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=sr.getInertBodyElement(r)}while(r!==o);return Fn((new yr).sanitizeChildren(kr(n)||n))}finally{if(n)for(var a=kr(n)||n;a.firstChild;)a.removeChild(a.firstChild)}}function kr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Or(t){var e=Sr();return e?Vn(e.sanitize(Cr.HTML,t)||""):Gn(t,"HTML")?Vn(Kn(t)):wr(Dt(),x(t))}function Er(t){var e=Sr();return e?e.sanitize(Cr.URL,t)||"":Gn(t,"URL")?Kn(t):ir(x(t))}function Sr(){var t=Jt();return t&&t[12]}function Tr(t){return t.ngDebugContext}function Ir(t){return t.ngOriginalError}function xr(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Pr=function(){function t(){f(this,t),this._console=console}return p(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?Tr(t)?Tr(t):this._findContext(Ir(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Ir(t);e&&Ir(e);)e=Ir(e);return e}}]),t}();function Ar(t,e){t.__ngContext__=e}var Rr=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(J);function Nr(t){return{name:"window",target:t.ownerDocument.defaultView}}function jr(t){return{name:"body",target:t.ownerDocument.body}}function Dr(t){return t instanceof Function?t():t}var Mr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Lr(t,e){return(void 0)(t,e)}function Fr(t){var e=t[3];return wt(e)?e[3]:e}function Vr(t){return Br(t[13])}function Ur(t){return Br(t[4])}function Br(t){for(;null!==t&&!wt(t);)t=t[4];return t}function qr(t,e,n,r,i){if(null!=r){var o,a=!1;wt(r)?o=r:_t(r)&&(a=!0,r=r[0]);var s=Ft(r);0===t&&null!==n?null==i?Xr(e,n,s):Yr(e,n,s,i||null,!0):1===t&&null!==n?Yr(e,n,s,i||null,!0):2===t?function(t,e,n){var r=Jr(t,e);r&&function(t,e,n,r){Mt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Ft(n)&&qr(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];ai(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function zr(t,e,n){return Mt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(t,e){var n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Yt(i,-1)),n.splice(r,1)}function Wr(t,e){if(!(t.length<=10)){var n,r=10+e,i=t[r];if(i){var o=i[17];null!==o&&o!==t&&Hr(o,i),e>0&&(t[r-1][4]=i[4]);var a=mn(t,10+e);ai(i[1],n=i,n[11],2,null,null),n[0]=null,n[6]=null;var s=a[19];null!==s&&s.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Kr(t,e){if(!(256&e[2])){var n=e[11];Mt(n)&&n.destroyNode&&ai(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Gr(t[1],t);for(;e;){var n=null;if(_t(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)_t(e)&&Gr(e[1],e),e=e[3];null===e&&(e=t),_t(e)&&Gr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Ne)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup,r=e[7],i=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var a=n[o+1],s="function"==typeof a?a(e):Ft(e[a]),u=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],u,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{var l=r[i=n[o+1]];n[o].call(l)}if(null!==r){for(var h=i+1;h<r.length;h++)(0,r[h])();e[7]=null}}(t,e),1===e[1].type&&Mt(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&wt(e[3])){n!==e[3]&&Hr(n,e);var r=e[19];null!==r&&r.detachView(t)}}}function Qr(t,e,n){return function(t,e,n){for(var r=e;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){var i=t.data[r.directiveStart].encapsulation;if(i===G.None||i===G.Emulated)return null}return Ut(r,n)}(t,e.parent,n)}function Yr(t,e,n,r,i){Mt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Xr(t,e,n){Mt(t)?t.appendChild(e,n):e.appendChild(n)}function Zr(t,e,n,r,i){null!==r?Yr(t,e,n,r,i):Xr(t,e,n)}function Jr(t,e){return Mt(t)?t.parentNode(e):e.parentNode}function $r(t,e,n){return ti(t,e,n)}var ti=function(t,e,n){return 40&t.type?Ut(t,n):null};function ei(t,e,n,r){var i=Qr(t,r,e),o=e[11],a=$r(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(var s=0;s<n.length;s++)Zr(o,i,n[s],a,!1);else Zr(o,i,n,a,!1)}function ni(t,e){if(null!==e){var n=e.type;if(3&n)return Ut(e,t);if(4&n)return ii(-1,t[e.index]);if(8&n){var r=e.child;if(null!==r)return ni(t,r);var i=t[e.index];return wt(i)?ii(-1,i):Ft(i)}if(32&n)return Lr(e,t)()||Ft(t[e.index]);var o=ri(t,e);return null!==o?Array.isArray(o)?o[0]:ni(Fr(t[16]),o):ni(t,e.next)}return null}function ri(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ii(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return ni(r,i)}return e[7]}function oi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;if(a&&0===e&&(s&&Ar(Ft(s),r),n.flags|=4),64!=(64&n.flags))if(8&u)oi(t,e,n.child,r,i,o,!1),qr(e,t,i,s,o);else if(32&u){for(var c=Lr(n,r),l=void 0;l=c();)qr(e,t,i,l,o);qr(e,t,i,s,o)}else 16&u?si(t,e,r,n,i,o):qr(e,t,i,s,o);n=a?n.projectionNext:n.next}}function ai(t,e,n,r,i,o){oi(n,r,t.firstChild,e,i,o,!1)}function si(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)qr(e,t,i,s[u],o);else oi(t,e,s,a[3],i,o,!0)}function ui(t,e,n){Mt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ci(t,e,n){Mt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function li(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function hi(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==li((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function fi(t){return 4===t.type&&"ng-template"!==t.value}function di(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function pi(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(De(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!di(t,u,n)||""===u&&1===e.length){if(vi(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!hi(t.attrs,c,n)){if(vi(r))return!1;a=!0}continue}var l=gi(8&r?"class":u,i,fi(t),n);if(-1===l){if(vi(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==li(f,c,0)||2&r&&c!==h){if(vi(r))return!1;a=!0}}}}else{if(!a&&!vi(r)&&!vi(u))return!1;if(a&&vi(u))continue;a=!1,r=u|1&r}}return vi(r)||a}function vi(t){return 0==(1&t)}function gi(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function yi(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(pi(t,e[r],n))return!0;return!1}function mi(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function bi(t,e){return t?":not("+e.trim()+")":e}function _i(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||vi(a)||(e+=bi(o,i),i=""),r=a,o=o||!vi(r);n++}return""!==i&&(e+=bi(o,i)),e}var wi={};function ki(t){Ci($t(),Jt(),Ce()+t,ae())}function Ci(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&Ie(e,i,n)}else{var o=t.preOrderHooks;null!==o&&xe(e,o,0,n)}Oe(n)}function Oi(t,e){return t<<17|e<<2}function Ei(t){return t>>17&32767}function Si(t){return 2|t}function Ti(t){return(131068&t)>>2}function Ii(t,e){return-131069&t|e<<2}function xi(t){return 1|t}function Pi(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];pe(i),a.contentQueries(2,e[o],o)}}}function Ai(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Qt(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ri(t,e,n,r,i){var o,a,s=t.data[e];if(null===s)s=function(t,e,n,r,i){var o=ne(),a=ie(),s=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,a?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=s),null!==o&&(a?null==o.child&&null!==s.parent&&(o.child=s):null===o.next&&(o.next=s)),s}(t,e,n,r,i),Xt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;var u=(o=Xt.lFrame,a=o.currentTNode,o.isParent?a:a.parent);s.injectorIndex=null===u?-1:u.injectorIndex}return re(s,!0),s}function Ni(t,e,n,r){if(0===n)return-1;for(var i=e.length,o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ji(t,e,n){ye(e);try{var r=t.viewQuery;null!==r&&lo(1,r,n);var i=t.template;null!==i&&Li(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Pi(t,e),t.staticViewQueries&&lo(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)oo(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,ke()}}function Di(t,e,n,r){var i=e[2];if(256!=(256&i)){ye(e);var o=ae();try{Qt(e),Xt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Li(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&Ie(e,s,null)}else{var u=t.preOrderHooks;null!==u&&xe(e,u,0,null),Pe(e,0)}if(function(t){for(var e=Vr(t);null!==e;e=Ur(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&Yt(o,1),i[2]|=1024}}(e),function(t){for(var e=Vr(t);null!==e;e=Ur(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Kt(r)&&Di(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Pi(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&Ie(e,c)}else{var l=t.contentHooks;null!==l&&xe(e,l,1),Pe(e,1)}!function(t,e){var n,r,i,o=t.hostBindingOpCodes;if(null!==o)try{for(var a=0;a<o.length;a++){var s=o[a];if(s<0)Oe(~s);else{var u=s,c=o[++a],l=o[++a];n=c,r=u,i=void 0,(i=Xt.lFrame).bindingIndex=i.bindingRootIndex=n,he(r),l(2,e[u])}}}finally{Oe(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)ro(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&lo(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&Ie(e,d)}else{var p=t.viewHooks;null!==p&&xe(e,p,2),Pe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Yt(e[3],-1))}finally{ke()}}}function Mi(t,e,n,r){var i=e[10],o=!ae(),a=Wt(e);try{o&&!a&&i.begin&&i.begin(),a&&ji(t,e,r),Di(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Li(t,e,n,r,i){var o=Ce();try{Oe(-1),2&r&&e.length>20&&Ci(t,e,20,ae()),n(r,i)}finally{Oe(o)}}function Fi(t,e,n){if(kt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function Vi(t,e,n){Zt()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||We(n,e),Ar(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Et(u);c&&$i(e,n,u);var l=rn(e,t,s,n);Ar(l,e),null!==a&&to(0,s-i,l,u,0,a),c&&(zt(n.index,e)[8]=l)}}(t,e,n,Ut(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=n.index,a=Xt.lFrame.currentDirectiveIndex;try{Oe(o);for(var s=r;s<i;s++){var u=t.data[s],c=e[s];he(s),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Qi(u,c)}}finally{Oe(-1),he(a)}}(t,e,n))}function Ui(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ut,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Bi(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=qi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function qi(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:wi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:s,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function zi(t,e,n,r){var i=fo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&po(t).push(r,i.length-1))}function Hi(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Wi(t,e,n,r,i,o,a,s){var u,c,l=Ut(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(yo(t,n,u,r,i),Ct(e)&&function(t,e){var n=zt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.value||"",r):i,Mt(o)?o.setProperty(l,r,i):Me(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function Ki(t,e,n,r){var i=!1;if(Zt()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];yi(n,a.selectors,!1)&&(i||(i=[]),Ye(We(n,e),t,a.type),Et(a)?(Yi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){i=!0,Zi(n,t.data.length,o.length);for(var s=0;s<o.length;s++){var u=o[s];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=Ni(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Le(n.mergedAttrs,d.hostAttrs),Ji(t,n,e,h,d),Xi(h,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||fi(e)?null:eo(l,i);o.push(h),a=Hi(l,u,a),s=Hi(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new I("301","Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Le(n.mergedAttrs,n.attrs),i}function Gi(t,e,n,r,i,o){var a=o.hostBindings;if(a){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=u&&s.push(u),s.push(r,i,a)}}function Qi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Yi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Xi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Et(e)&&(n[""]=t)}}function Zi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ji(t,e,n,r,i){t.data[r]=i;var o=i.factory||(i.factory=St(i.type)),a=new Ne(o,Et(i),null);t.blueprint[r]=a,n[r]=a,Gi(t,e,0,r,Ni(t,n,i.hostVars,wi),i)}function $i(t,e,n){var r=Ut(e,t),i=Bi(n),o=t[10],a=ao(t,Ai(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=a}function to(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function eo(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function no(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function ro(t,e){var n=zt(e,t);if(Kt(n)){var r=n[1];80&n[2]?Di(r,n,r.template,n[8]):n[5]>0&&io(n)}}function io(t){for(var e=Vr(t);null!==e;e=Ur(e))for(var n=10;n<e.length;n++){var r=e[n];if(1024&r[2]){var i=r[1];Di(i,r,i.template,r[8])}else r[5]>0&&io(r)}var o=t[1].components;if(null!==o)for(var a=0;a<o.length;a++){var s=zt(o[a],t);Kt(s)&&s[5]>0&&io(s)}}function oo(t,e){var n=zt(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),ji(r,n,n[8])}function ao(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function so(t){for(;t;){t[2]|=64;var e=Fr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function uo(t,e,n){var r=e[10];r.begin&&r.begin();try{Di(t,e,t.template,n)}catch(i){throw go(e,i),i}finally{r.end&&r.end()}}function co(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=Ht(n),i=r[1];Mi(i,r,i.template,n)}}(t[8])}function lo(t,e,n){pe(0),e(t,n)}var ho=Promise.resolve(null);function fo(t){return t[7]||(t[7]=[])}function po(t){return t.cleanup||(t.cleanup=[])}function vo(t,e,n){return(null===t||Et(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function go(t,e){var n=t[9],r=n?n.get(Pr,null):null;r&&r.handleError(e)}function yo(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function mo(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=C(i,s):2==o&&(r=C(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var bo,_o=new fn("INJECTOR",-1),wo=function(){function t(){f(this,t)}return p(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On;if(e===On){var n=new Error("NullInjectorError: No provider for ".concat(k(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),ko=new fn("Set Injector scope."),Co={},Oo={},Eo=[];function So(){return void 0===bo&&(bo=new wo),bo}function To(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new Io(t,n,e||So(),r)}var Io=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;f(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&gn(n,function(t){return i.processProvider(t,e,n)}),gn([e],function(t){return i.processInjectorType(t,[],a)}),this.records.set(_o,Ao(void 0,this));var s=this.records.get(ko);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:k(e))}return p(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:On,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.Default;this.assertNotDestroyed();var r,i=Tn(this);try{if(!(n&q.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof fn)&&j(t);o=a&&this.injectableDefInScope(a)?Ao(xo(t),Co):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&q.Self?So():this.parent).get(t,e=n&q.Optional&&e===On?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(k(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=k(e);if(Array.isArray(e))i=e.map(k).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):k(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(En,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{Tn(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(k(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=S(t)))return!1;var i=M(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=M(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{gn(i.imports,function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;gn(i,function(t){return r.processProvider(t,n,i||Eo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,Ao(i.factory,Co));var h=i.providers;if(null!=h&&!s){var f=t;gn(h,function(t){return r.processProvider(t,f,h)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=No(t=S(t))?t:S(t&&t.provide),i=function(t,e,n){return Ro(t)?Ao(void 0,t.useValue):Ao(Po(t),Co)}(t);if(No(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Ao(void 0,Co,!0)).factory=function(){return An(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===Co&&(e.value=Oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function xo(t){var e=j(t),n=null!==e?e.factory:St(t);if(null!==n)return n;var r=M(t);if(null!==r)return r.factory;if(t instanceof fn)throw new Error("Token ".concat(k(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=bn(e,"?");throw new Error("Can't resolve all parameters for ".concat(k(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[F]||t[U]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Po(t,e,n){var r,o;if(No(t)){var a=S(t);return St(a)||xo(a)}if(Ro(t))r=function(){return S(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(An(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return xn(S(t.useExisting))};else{var s=S(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return St(s)||xo(s);r=function(){return l(s,i(An(t.deps)))}}return r}function Ao(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Ro(t){return null!==t&&"object"==typeof t&&Sn in t}function No(t){return"function"==typeof t}var jo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=To(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Do=function(){var t=function(){function t(){f(this,t)}return p(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?jo(t,e,""):jo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=On,t.NULL=new wo,t.\u0275prov=R({token:t,providedIn:"any",factory:function(){return xn(_o)}}),t.__NG_ELEMENT_ID__=-1,t}();function Mo(t,e){Te(Ht(t)[1],ee())}function Lo(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Et(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=Fo(t.inputs),o.declaredInputs=Fo(t.declaredInputs),o.outputs=Fo(t.outputs);var a=i.hostBindings;a&&Bo(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Vo(t,s),u&&Uo(t,u),_(t.inputs,i.inputs),_(t.declaredInputs,i.declaredInputs),_(t.outputs,i.outputs),Et(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Lo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Le(i.hostAttrs,n=Le(n,i.hostAttrs))}}(r)}function Fo(t){return t===$?{}:t===tt?[]:t}function Vo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Uo(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Bo(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var qo=null;function zo(){if(!qo){var t=J.Symbol;if(t&&t.iterator)qo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(qo=r)}}return qo}var Ho=function(){function t(e){f(this,t),this.wrapped=e}return p(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Wo(t){return!!Ko(t)&&(Array.isArray(t)||!(t instanceof Map)&&zo()in t)}function Ko(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Go(t,e,n){return t[e]=n}function Qo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Yo(t,e,n,r){var i=Qo(t,e,n);return Qo(t,e+1,r)||i}function Xo(t,e,n,r){var i=Jt();return Qo(i,ce(),e)&&($t(),function(t,e,n,r,i,o){var a=Ut(t,e);!function(t,e,n,r,i,o,a){if(null==o)Mt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{var s=null==a?x(o):a(o,r||"",i);Mt(t)?t.setAttribute(e,i,s,n):n?e.setAttributeNS(n,i,s):e.setAttribute(i,s)}}(e[11],a,o,t.value,n,r,i)}(Ee(),i,t,e,n,r)),Xo}function Zo(t,e,n,r){return Qo(t,ce(),n)?e+x(n)+r:wi}function Jo(t,e,n,r,i,o,a,s){var u=Jt(),c=$t(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Ri(e,t,4,a||null,Gt(c,s));Ki(e,n,l,Gt(c,u)),Te(e,l);var h=l.tViews=qi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,a):c.data[l];re(h,!1);var f=u[11].createComment("");ei(c,u,f,h),Ar(f,u),ao(u,u[l]=no(f,u,f,h)),Ot(h)&&Vi(c,u,h),null!=a&&Ui(u,h,s)}function $o(t){return qt(Xt.lFrame.contextLView,20+t)}function ta(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Default,n=Jt();return null===n?xn(t,e):Je(ee(),n,S(t),e)}function ea(t,e,n){var r=Jt();return Qo(r,ce(),e)&&Wi($t(),Ee(),r,t,e,r[11],n,!1),ea}function na(t,e,n,r,i){var o=i?"class":"style";yo(t,n,e.inputs[o],o,r)}function ra(t,e,n,r){var i=Jt(),o=$t(),a=20+t,s=i[11],u=i[a]=zr(s,e,Xt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Ri(e,t,2,i,Gt(s,o));return Ki(e,n,u,Gt(s,a)),null!==u.attrs&&mo(u,u.attrs,!1),null!==u.mergedAttrs&&mo(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(a,o,i,0,e,n,r):o.data[a];re(c,!0);var l=c.mergedAttrs;null!==l&&je(s,u,l);var h=c.classes;null!==h&&ci(s,u,h);var f=c.styles;null!==f&&ui(s,u,f),64!=(64&c.flags)&&ei(o,i,u,c),0===Xt.lFrame.elementDepthCount&&Ar(u,i),Xt.lFrame.elementDepthCount++,Ot(c)&&(Vi(o,i,c),Fi(o,c,i)),null!==r&&Ui(i,c)}function ia(){var t=ee();ie()?oe():re(t=t.parent,!1);var e=t;Xt.lFrame.elementDepthCount--;var n=$t();n.firstCreatePass&&(Te(n,t),kt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&na(n,e,Jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&na(n,e,Jt(),e.stylesWithoutHost,!1)}function oa(t,e,n,r){ra(t,e,n,r),ia()}function aa(t,e,n){var r=Jt(),i=$t(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Gt(o,r),s=Ri(e,t,8,"ng-container",a);return null!==a&&mo(s,a,!0),Ki(e,n,s,Gt(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(o,i,r,e,n):i.data[o];re(a,!0);var s=r[o]=r[11].createComment("");ei(i,r,s,a),Ar(s,r),Ot(a)&&(Vi(i,r,a),Fi(i,a,r)),null!=n&&Ui(r,a)}function sa(){var t=ee(),e=$t();ie()?oe():re(t=t.parent,!1),e.firstCreatePass&&(Te(e,t),kt(t)&&e.queries.elementEnd(t))}function ua(){return Jt()}function ca(t){return!!t&&"function"==typeof t.then}function la(t){return!!t&&"function"==typeof t.subscribe}var ha=la;function fa(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=Jt(),o=$t(),a=ee();return pa(o,i,i[11],a,t,e,n,r),fa}function da(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=ee(),o=Jt(),a=$t();return pa(a,o,vo(fe(a.data),i,o),i,t,e,n,r),da}function pa(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Ot(r),c=t.firstCreatePass&&po(t),l=fo(e),h=!0;if(3&r.type){var f=Ut(r,e),d=s?s(f):$,p=d.target||f,v=l.length,g=s?function(t){return s(Ft(t[r.index])).target}:r.index;if(Mt(n)){var y=null;if(!s&&u&&(y=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==y)(y.__ngLastListenerFn__||y).__ngNextListenerFn__=o,y.__ngLastListenerFn__=o,h=!1;else{o=ga(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,g,v,v+1)}}else o=ga(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,g,v,a)}else o=ga(r,e,o,!1);var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var C=e[b[k]][b[k+1]].subscribe(o),O=l.length;l.push(o,C),c&&c.push(i,r.index,O,-(O+1))}}}function va(t,e,n){try{return!1!==e(n)}catch(r){return go(t,r),!1}}function ga(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?zt(t.index,e):e;0==(32&e[2])&&so(a);for(var s=va(e,n,o),u=i.__ngNextListenerFn__;u;)s=va(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ya(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Xt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Xt.lFrame.contextLView))[8]}(t)}function ma(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?yi(t,o,!0):mi(r,o))return i}else n=i}return n}function ba(t){var e=Jt()[16][6];if(!e.projection)for(var n=e.projection=bn(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?ma(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function _a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=Jt(),i=$t(),o=Ri(i,20+t,16,null,n||null);null===o.projection&&(o.projection=e),oe(),64!=(64&o.flags)&&function(t,e,n){si(e[11],0,e,n,Qr(t,n,e),$r(n.parent||e[6],n,e))}(i,r,o)}function wa(t,e,n){return ka(t,"",e,"",n),wa}function ka(t,e,n,r,i){var o=Jt(),a=Zo(o,e,n,r);return a!==wi&&Wi($t(),Ee(),o,t,a,o[11],i,!1),ka}var Ca=[];function Oa(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Ei(o):Ti(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];Ea(t[s],e)&&(u=!0,t[s+1]=r?xi(c):Si(c)),s=r?Ei(c):Ti(c)}u&&(t[n+1]=r?Si(o):xi(o))}function Ea(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&kn(t,e)>=0}var Sa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ta(t){return t.substring(Sa.key,Sa.keyEnd)}function Ia(t){return t.substring(Sa.value,Sa.valueEnd)}function xa(t,e){var n=Sa.textEnd;return n===e?-1:(e=Sa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Sa.key=e,n),Ra(t,e,n))}function Pa(t,e){var n=Sa.textEnd,r=Sa.key=Ra(t,e,n);return n===r?-1:(r=Sa.keyEnd=function(t,e,n){for(var r;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=Na(t,r,n),r=Sa.value=Ra(t,r,n),r=Sa.valueEnd=function(t,e,n){for(var r=-1,i=-1,o=-1,a=e,s=a;a<n;){var u=t.charCodeAt(a++);if(59===u)return s;34===u||39===u?s=a=ja(t,u,a,n):e===a-4&&85===o&&82===i&&76===r&&40===u?s=a=ja(t,41,a,n):u>32&&(s=a),o=i,i=r,r=-33&u}return s}(t,r,n),Na(t,r,n))}function Aa(t){Sa.key=0,Sa.keyEnd=0,Sa.value=0,Sa.valueEnd=0,Sa.textEnd=t.length}function Ra(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Na(t,e,n,r){return(e=Ra(t,e,n))<n&&e++,e}function ja(t,e,n,r){for(var i=-1,o=n;o<r;){var a=t.charCodeAt(o++);if(a==e&&92!==i)return o;i=92==a&&92===i?0:a}throw new Error}function Da(t,e,n){return Ua(t,e,n,!1),Da}function Ma(t,e){return Ua(t,e,null,!0),Ma}function La(t){Ba(Ka,Fa,t,!1)}function Fa(t,e){for(var n=function(t){return Aa(t),Pa(t,Ra(t,0,Sa.textEnd))}(e);n>=0;n=Pa(e,n))Ka(t,Ta(e),Ia(e))}function Va(t,e){for(var n=function(t){return Aa(t),xa(t,Ra(t,0,Sa.textEnd))}(e);n>=0;n=xa(e,n))_n(t,Ta(e),!0)}function Ua(t,e,n,r){var i=Jt(),o=$t(),a=le(2);o.firstUpdatePass&&za(o,t,a,r),e!==wi&&Qo(i,a,e)&&Ga(o,o.data[Ce()],i,i[11],t,i[a+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=k(Kn(t)))),t}(e,n),r,a)}function Ba(t,e,n,r){var i=$t(),o=le(2);i.firstUpdatePass&&za(i,null,o,r);var a=Jt();if(n!==wi&&Qo(a,o,n)){var s=i.data[Ce()];if(Xa(s,r)&&!qa(i,o)){var u=r?s.classesWithoutHost:s.stylesWithoutHost;null!==u&&(n=C(u,n||"")),na(i,s,a,n,r)}else!function(t,e,n,r,i,o,a,s){i===wi&&(i=Ca);for(var u=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;null!==l||null!==h;){var f=u<i.length?i[u+1]:void 0,d=c<o.length?o[c+1]:void 0,p=void 0,v=null;l===h?(u+=2,c+=2,f!==d&&(v=h,p=d)):null===h||null!==l&&l<h?(u+=2,v=l):(c+=2,v=h,p=d),null!==v&&Ga(t,e,n,r,v,p,a,s),l=u<i.length?i[u]:null,h=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return Ca;var r=[],i=Kn(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function qa(t,e){return e>=t.expandoStartIndex}function za(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ce()],a=qa(t,n);Xa(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=fe(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Wa(n=Ha(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Ha(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Ti(r))return t[Ei(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Ei(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Wa(s=Ha(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Wa(r,t[o].hostAttrs,n);return Wa(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Ei(a),u=Ti(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||kn(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Ei(t[s+1]);t[r+1]=Oi(f,s),0!==f&&(t[f+1]=Ii(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Oi(s,0),0!==s&&(t[s+1]=Ii(t[s+1],r)),s=r;else t[r+1]=Oi(u,0),0===s?s=r:t[u+1]=Ii(t[u+1],r),u=r;l&&(t[r+1]=Si(t[r+1])),Oa(t,c,r,!0),Oa(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&kn(o,e)>=0&&(n[r+1]=xi(n[r+1]))}(e,c,t,r,o),a=Oi(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Ha(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Wa(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Wa(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_n(t,a,!!n||e[++o]))}return void 0===t?null:t}function Ka(t,e,n){_n(t,e,Kn(n))}function Ga(t,e,n,r,i,o,a,s){if(3&e.type){var u=t.data,c=u[s+1];Ya(1==(1&c)?Qa(u,e,n,i,Ti(c),a):void 0)||(Ya(o)||2==(2&c)&&(o=Qa(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Mt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1===r.indexOf("-")?void 0:Mr.DashCase;if(null==i)o?t.removeStyle(n,r,a):n.style.removeProperty(r);else{var s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),a|=Mr.Important),o?t.setStyle(n,r,i,a):n.style.setProperty(r,i,s?"important":"")}}}(r,a,Vt(Ce(),n),i,o))}}function Qa(t,e,n,r,i,o){for(var a,s=null===e;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===wi&&(f=h?Ca:void 0);var d=h?wn(f,r):l===r?f:void 0;if(c&&!Ya(d)&&(d=wn(u,r)),Ya(d)&&(a=d,s))return a;var p=t[i+1];i=s?Ei(p):Ti(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(a=wn(v,r))}return a}function Ya(t){return void 0!==t}function Xa(t,e){return 0!=(t.flags&(e?16:32))}function Za(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Jt(),r=$t(),i=t+20,o=r.firstCreatePass?Ri(r,i,1,e,null):r.data[i],a=n[i]=function(t,e){return Mt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);ei(r,n,a,o),re(o,!1)}function Ja(t){return $a("",t,""),Ja}function $a(t,e,n){var r=Jt(),i=Zo(r,t,e,n);return i!==wi&&function(t,e,n){var r=Vt(e,t);!function(t,e,n){Mt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,Ce(),i),$a}function ts(t,e,n){Ba(_n,Va,Zo(Jt(),t,e,n),!0)}function es(t,e,n){var r=Jt();return Qo(r,ce(),e)&&Wi($t(),Ee(),r,t,e,r[11],n,!0),es}function ns(t,e,n){var r=Jt();if(Qo(r,ce(),e)){var i=$t(),o=Ee();Wi(i,o,r,t,e,vo(fe(i.data),o,r),n,!0)}return ns}var rs=void 0,is=["en",[["a","p"],["AM","PM"],rs],[["AM","PM"],rs,rs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],rs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],rs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",rs,"{1} 'at' {0}",rs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],os={};function as(t,e,n){"string"!=typeof e&&(n=e,e=t[hs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),os[e]=t,n&&(os[e][hs.ExtraData]=n)}function ss(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ls(e);if(n)return n;var r=e.split("-")[0];if(n=ls(r))return n;if("en"===r)return is;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function us(t){return ss(t)[hs.CurrencyCode]||null}function cs(t){return ss(t)[hs.PluralCase]}function ls(t){return t in os||(os[t]=J.ng&&J.ng.common&&J.ng.common.locales&&J.ng.common.locales[t]),os[t]}var hs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function fs(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function ds(t,e,n,r,i){if(t=S(t),Array.isArray(t))for(var o=0;o<t.length;o++)ds(t[o],e,n,r,i);else{var a=$t(),s=Jt(),u=No(t)?t:S(t.provide),c=Po(t),l=ee(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(No(t)||!t.multi){var p=new Ne(c,i,ta),v=gs(u,e,i?h:h+d,f);-1===v?(Ye(We(l,s),a,u),ps(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var g=gs(u,e,h+d,f),y=gs(u,e,h,h+d),m=g>=0&&n[g],b=y>=0&&n[y];if(i&&!b||!i&&!m){Ye(We(l,s),a,u);var _=function(t,e,n,r,i){var o=new Ne(t,n,ta);return o.multi=[],o.index=e,o.componentProviders=0,vs(o,i,r&&!n),o}(i?ms:ys,n.length,i,r,c);!i&&b&&(n[y].providerFactory=_),ps(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(_),s.push(_)}else ps(a,t,g>-1?g:y,vs(n[i?y:g],c,!i&&r));!i&&r&&b&&n[y].componentProviders++}}}function ps(t,e,n,r){var i=No(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gs(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function ys(t,e,n,r){return bs(this.multi,[])}function ms(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=rn(n,n[1],this.providerFactory.index,r);bs(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else bs(o,i=[]);return i}function bs(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function _s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=$t();if(r.firstCreatePass){var i=Et(t);ds(n,r.data,r.blueprint,i,!0),ds(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}var ws=function t(){f(this,t)},ks=function(){function t(){f(this,t)}return p(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(k(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Cs=function(){var t=function t(){f(this,t)};return t.NULL=new ks,t}();function Os(){}function Es(t,e){return new Ts(Ut(t,e))}var Ss=function(){return Es(ee(),Jt())},Ts=function(){var t=function t(e){f(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=Ss,t}();function Is(t){return t instanceof Ts?t.nativeElement:t}var xs=function t(){f(this,t)},Ps=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=function(){return As()},t}(),As=function(){var t=Jt(),e=zt(ee().index,t);return function(t){return t[11]}(_t(e)?e:t)},Rs=function(){var t=function t(){f(this,t)};return t.\u0275prov=R({token:t,providedIn:"root",factory:function(){return null}}),t}(),Ns=function t(e){f(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},js=new Ns("11.2.3"),Ds=function(){function t(){f(this,t)}return p(t,[{key:"supports",value:function(t){return Wo(t)}},{key:"create",value:function(t){return new Ls(t)}}]),t}(),Ms=function(t,e){return e},Ls=function(){function t(e){f(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ms}return p(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Bs(n,r,i)?e:n,a=Bs(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Wo(t))throw new Error("Error trying to diff '".concat(k(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&Object.is(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Object.is(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[zo()]();!(r=i.next()).done;)e(r.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Fs(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Us),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Us),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Fs=function t(e,n){f(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Vs=function(){function t(){f(this,t),this._head=null,this._tail=null}return p(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Us=function(){function t(){f(this,t),this.map=new Map}return p(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Vs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Bs(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var qs=function(){function t(){f(this,t)}return p(t,[{key:"supports",value:function(t){return t instanceof Map||Ko(t)}},{key:"create",value:function(){return new zs}}]),t}(),zs=function(){function t(){f(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return p(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Ko(t)))throw new Error("Error trying to diff '".concat(k(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Hs(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Hs=function t(e){f(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null};function Ws(){return new Ks([new Ds])}var Ks=function(){var t=function(){function t(e){f(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Ws())},deps:[[t,new Ln,new Mn]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:Ws}),t}();function Gs(){return new Qs([new qs])}var Qs=function(){var t=function(){function t(e){f(this,t),this.factories=e}return p(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Gs())},deps:[[t,new Ln,new Mn]]}}}]),t}();return t.\u0275prov=R({token:t,providedIn:"root",factory:Gs}),t}();function Ys(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&r.push(Ft(a)),wt(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&Ys(u[1],u,c,r)}var l=n.type;if(8&l)Ys(t,e,n.child,r);else if(32&l)for(var h=Lr(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=ri(e,n);if(Array.isArray(d))r.push.apply(r,i(d));else{var p=Fr(e[16]);Ys(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}var Xs=function(){function t(e,n){f(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return p(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return Ys(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(wt(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Wr(t,n),mn(e,n))}this._attachedToViewContainer=!1}Kr(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){zi(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){so(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){uo(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){se(!0);try{uo(t,e,n)}finally{se(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,ai(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Zs=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this,t))._view=t,r}return p(n,[{key:"detectChanges",value:function(){co(this._view)}},{key:"checkNoChanges",value:function(){!function(t){se(!0);try{co(t)}finally{se(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Xs),Js=tu,$s=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=Js,t.__ChangeDetectorRef__=!0,t}();function tu(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Ct(t)){var r=zt(t.index,e);return new Xs(r,r)}return 47&t.type?new Xs(e[16],e):null}(ee(),Jt(),t)}var eu=[new qs],nu=new Ks([new Ds]),ru=new Qs(eu),iu=function(){return su(ee(),Jt())},ou=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=iu,t}(),au=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=r,o.elementRef=i,o}return p(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Ai(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),ji(e,n,t),new Xs(n)}}]),n}(ou);function su(t,e){return 4&t.type?new au(e,t,Es(t,e)):null}var uu=function t(){f(this,t)},cu=function t(){f(this,t)},lu=function(){return vu(ee(),Jt())},hu=function(){var t=function t(){f(this,t)};return t.__NG_ELEMENT_ID__=lu,t}(),fu=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=r,o._hostLView=i,o}return p(n,[{key:"element",get:function(){return Es(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new sn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Qe(this._hostTNode,this._hostLView);if(Ve(t)){var e=Be(t,this._hostLView),n=Ue(t);return new sn(e[1].data[n+8],e)}return new sn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=du(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(uu,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var r=t._lView,i=r[1];if(wt(r[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var a=r[3],s=new n(a,a[6],a[3]);s.detach(s.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],yn(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(i,r,c,u);var l=ii(u,c),h=r[11],f=Jr(h,c[7]);return null!==f&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ai(t,r,n,1,i,o)}(i,c[6],h,r,f,l),t.attachToViewContainerRef(),yn(pu(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=du(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Wr(this._lContainer,e);n&&(mn(pu(this._lContainer),e),Kr(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Wr(this._lContainer,e);return n&&null!=mn(pu(this._lContainer),e)?new Xs(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(hu);function du(t){return t[8]}function pu(t){return t[8]||(t[8]=[])}function vu(t,e){var n,r=e[t.index];if(wt(r))n=r;else{var i;if(8&t.type)i=Ft(r);else{var o=e[11];i=o.createComment("");var a=Ut(t,e);Yr(o,Jr(o,a),i,function(t,e){return Mt(t)?t.nextSibling(e):e.nextSibling}(o,a),!1)}e[t.index]=n=no(r,e,i,t),ao(e,n)}return new fu(n,t,e)}var gu={},yu=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this)).ngModule=t,r}return p(n,[{key:"resolveComponentFactory",value:function(t){var e=mt(t);return new _u(e,this.ngModule)}}]),n}(Cs);function mu(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var bu=new fn("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Rr}}),_u=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(_i).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return p(n,[{key:"inputs",get:function(){return mu(this.componentDef.inputs)}},{key:"outputs",get:function(){return mu(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,gu,i);return o!==gu||r===gu?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(xs,Lt),u=a.get(Rs,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Mt(t))return t.selectRootElement(e,n===G.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):zr(s.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Rr,clean:ho,playerHandler:null,flags:0},p=qi(0,null,null,1,0,null,null,null,null,null),v=Ai(null,p,d,f,null,null,s,c,u,a);ye(v);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Ri(a,20,2,"#host",null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(mo(s,u,!0),null!==t&&(je(i,t,u),null!==s.classes&&ci(i,t,s.classes),null!==s.styles&&ui(i,t,s.styles)));var c=r.createRenderer(t,e),l=Ai(n,Bi(e),null,e.onPush?64:16,n[20],s,r,c,null,null);return a.firstCreatePass&&(Ye(We(s,n),a,e.type),Yi(a,s),Zi(s,n.length,1)),ao(n,l),n[20]=l}(h,this.componentDef,v,s,c);if(h)if(n)je(c,h,["ng-version",js.full]);else{var y=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),m=y.attrs,b=y.classes;m&&je(c,h,m),b&&b.length>0&&ci(c,h,b.join(" "))}if(o=Bt(p,20),void 0!==e)for(var _=o.projection=[],w=0;w<this.ngContentSelectors.length;w++){var k=e[w];_.push(null!=k?Array.from(k):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=ee();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ji(t,r,e,Ni(t,e,1,null),n));var i=rn(e,t,r.directiveStart,r);Ar(i,e);var o=Ut(r,e);return o&&Ar(o,e),i}(o,n,e);if(r.components.push(a),t[8]=a,i&&i.forEach(function(t){return t(a,e)}),e.contentQueries){var s=ee();e.contentQueries(1,a,s.directiveStart)}var u=ee();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(Oe(u.index),Gi(n[1],u,0,u.directiveStart,u.directiveEnd,e),Qi(e,a)),a}(g,this.componentDef,v,d,[Mo]),ji(p,v,null)}finally{ke()}return new wu(this.componentType,i,Es(o,v),v,o)}}]),n}(ws),wu=function(t){v(n,t);var e=y(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.instance=r,s.hostView=s.changeDetectorRef=new Zs(o),s.componentType=t,s}return p(n,[{key:"injector",get:function(){return new sn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return function t(){f(this,t)}}()),ku=new Map,Cu=function(t){v(n,t);var e=y(n);function n(t,r){var i;f(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=b(i),i.destroyCbs=[],i.componentFactoryResolver=new yu(b(i));var o=bt(t),a=t[ot]||null;return a&&fs(a),i._bootstrapComponents=Dr(o.bootstrap),i._r3Injector=To(t,r,[{provide:uu,useValue:b(i)},{provide:Cs,useValue:i.componentFactoryResolver}],k(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return p(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Do.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:q.Default;return t===Do||t===uu||t===_o?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(uu),Ou=function(t){v(n,t);var e=y(n);function n(t){var r,i,o;return f(this,n),(r=e.call(this)).moduleType=t,null!==bt(t)&&(i=t,o=new Set,function t(e){var n=bt(e,!0),r=n.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(k(e)," vs ").concat(k(e.name)))}(r,ku.get(r),e),ku.set(r,e));var i,s=a(Dr(n.imports));try{for(s.s();!(i=s.n()).done;){var u=i.value;o.has(u)||(o.add(u),t(u))}}catch(c){s.e(c)}finally{s.f()}}(i)),r}return p(n,[{key:"create",value:function(t){return new Cu(this.moduleType,t)}}]),n}(cu);function Eu(t,e,n){var r=ue()+t,i=Jt();return i[r]===wi?Go(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Su(t,e,n,r,i){return xu(Jt(),ue(),t,e,n,r,i)}function Tu(t,e,n,r,i,o){return function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=Yo(t,e,n,r);return Qo(t,e+2,i)||o}(t,u,i,o,a)?Go(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):Iu(t,u+3)}(Jt(),ue(),t,e,n,r,i,o)}function Iu(t,e){var n=t[e];return n===wi?void 0:n}function xu(t,e,n,r,i,o,a){var s=e+n;return Yo(t,s,i,o)?Go(t,s+2,a?r.call(a,i,o):r(i,o)):Iu(t,s+2)}function Pu(t,e){var n,r=$t(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new I("302","The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=St(n.type)),a=z(ta);try{var s=ze(!1),u=o();return ze(s),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(r,Jt(),i,u),u}finally{z(a)}}function Au(t,e,n){var r=t+20,i=Jt(),o=qt(i,r);return ju(i,Nu(i,r)?function(t,e,n,r,i,o){var a=e+n;return Qo(t,a,i)?Go(t,a+1,o?r.call(o,i):r(i)):Iu(t,a+1)}(i,ue(),e,o.transform,n,o):o.transform(n))}function Ru(t,e,n,r){var i=t+20,o=Jt(),a=qt(o,i);return ju(o,Nu(o,i)?xu(o,ue(),e,a.transform,n,r,a):a.transform(n,r))}function Nu(t,e){return t[1].data[e].pure}function ju(t,e){return Ho.isWrapped(e)&&(e=Ho.unwrap(e),t[Xt.lFrame.bindingIndex]=wi),e}var Du=function(t){v(n,t);var e=y(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f(this,n),(t=e.call(this)).__isAsync=r,t}return p(n,[{key:"emit",value:function(t){h(w(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var i,o=function(t){return null},a=function(){return null};t&&"object"==typeof t?(i=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(o=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(i=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},e&&(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)}),r&&(a=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=h(w(n.prototype),"subscribe",this).call(this,i,o,a);return t instanceof s.a&&t.add(u),u}}]),n}(o.a);function Mu(){return this._results[zo()]()}var Lu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];f(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=zo(),r=t.prototype;r[n]||(r[n]=Mu)}return p(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Du)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=vn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++){var i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Fu=function(){function t(e){f(this,t),this.queryList=e,this.matches=null}return p(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Vu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return p(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==$u(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Uu=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f(this,t),this.predicate=e,this.flags=n,this.read=r},Bu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];f(this,t),this.queries=e}return p(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),qu=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;f(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return p(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];this.matchTNodeWithReadOption(t,e,zu(e,i)),this.matchTNodeWithReadOption(t,e,nn(e,t,i,!1,!1))}else n===ou?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,nn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Ts||r===hu||r===ou&&4&e.type)this.addMatch(e.index,-2);else{var i=nn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function zu(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Hu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Es(t,e):4&t.type?su(t,e):null}(e,t):-2===n?function(t,e,n){return n===Ts?Es(e,t):n===ou?su(e,t):n===hu?vu(e,t):void 0}(t,e,r):rn(t,t[1],n,e)}function Wu(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Hu(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ku(t,e,n,r){var i=t.queries.getByIndex(n),o=i.matches;if(null!==o)for(var a=Wu(t,e,i,n),s=0;s<o.length;s+=2){var u=o[s];if(u>0)r.push(a[s/2]);else{for(var c=o[s+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&Ku(f[1],f,c,r)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Ku(v[1],v,c,r)}}}return r}function Gu(t){var e=Jt(),n=$t(),r=de();pe(r+1);var i=$u(n,r);if(t.dirty&&Wt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?Ku(n,e,r,[]):Wu(n,e,i,r);t.reset(o,Is),t.notifyOnChanges()}return!0}return!1}function Qu(t,e,n){var r=$t();r.firstCreatePass&&(Ju(r,new Uu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Zu(r,Jt(),e)}function Yu(t,e,n,r){var i=$t();if(i.firstCreatePass){var o=ee();Ju(i,new Uu(e,n,r),o.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Zu(i,Jt(),n)}function Xu(){return t=Jt(),e=de(),t[19].queries[e].queryList;var t,e}function Zu(t,e,n){var r=new Lu(4==(4&n));zi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Vu),e[19].queries.push(new Fu(r))}function Ju(t,e,n){null===t.queries&&(t.queries=new Bu),t.queries.track(new qu(e,n))}function $u(t,e){return t.queries.getByIndex(e)}function tc(t,e){return su(t,e)}function ec(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q.Default,e=tu(!0);if(null!=e||t&q.Optional)return e;A("ChangeDetectorRef")}var nc=new fn("Application Initializer"),rc=function(){var t=function(){function t(e){var n=this;f(this,t),this.appInits=e,this.resolve=Os,this.reject=Os,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return p(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();ca(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(xn(nc,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),ic=new fn("AppId"),oc={provide:ic,useFactory:function(){return"".concat(ac()).concat(ac()).concat(ac())},deps:[]};function ac(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var sc=new fn("Platform Initializer"),uc=new fn("Platform ID"),cc=new fn("appBootstrapListener"),lc=function(){var t=function(){function t(){f(this,t)}return p(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),hc=new fn("LocaleId"),fc=new fn("DefaultCurrencyCode"),dc=function t(e,n){f(this,t),this.ngModuleFactory=e,this.componentFactories=n},pc=function(t){return new Ou(t)},vc=pc,gc=function(t){return Promise.resolve(pc(t))},yc=function(t){var e=pc(t),n=Dr(bt(t).declarations).reduce(function(t,e){var n=mt(e);return n&&t.push(new _u(n)),t},[]);return new dc(e,n)},mc=yc,bc=function(t){return Promise.resolve(yc(t))},_c=function(){var t=function(){function t(){f(this,t),this.compileModuleSync=vc,this.compileModuleAsync=gc,this.compileModuleAndAllComponentsSync=mc,this.compileModuleAndAllComponentsAsync=bc}return p(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),wc=Promise.resolve(0);function kc(t){"undefined"==typeof Zone?wc.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Cc=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(f(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Du(!1),this.onMicrotaskEmpty=new Du(!1),this.onStable=new Du(!1),this.onError=new Du(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&s,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=J.requestAnimationFrame,e=J.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(J,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Sc(t),Ec(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Sc(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,i,o,a,s){try{return Tc(n),t.invokeTask(i,o,a,s)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&r(),Ic(n)}},onInvoke:function(t,e,i,o,a,s,u){try{return Tc(n),t.invoke(i,o,a,s,u)}finally{n.shouldCoalesceRunChangeDetection&&r(),Ic(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Sc(n),Ec(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular(function(){return n.onError.emit(i)}),!1}})}return p(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Oc,Os,Os);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Oc={};function Ec(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Sc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Tc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ic(t){t._nesting--,Ec(t)}var xc=function(){function t(){f(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Du,this.onMicrotaskEmpty=new Du,this.onStable=new Du,this.onError=new Du}return p(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Pc=function(){var t=function(){function t(e){var n=this;f(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return p(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Cc.assertNotInAngularZone(),kc(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())kc(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(xn(Cc))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}(),Ac=function(){var t=function(){function t(){f(this,t),this._applications=new Map,jc.addToWindow(this)}return p(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Rc(t){jc=t}var Nc,jc=new(function(){function t(){f(this,t)}return p(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Dc=!0,Mc=!1;function Lc(){return Mc=!0,Dc}function Fc(){if(Mc)throw new Error("Cannot enable prod mode after platform setup.");Dc=!1}var Vc=new fn("AllowMultipleToken"),Uc=function t(e,n){f(this,t),this.name=e,this.token=n};function Bc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: ".concat(e),i=new fn(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=qc();if(!o||o.injector.get(Vc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:ko,useValue:"platform"});!function(t){if(Nc&&!Nc.destroyed&&!Nc.injector.get(Vc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Nc=t.get(zc);var e=t.get(sc,null);e&&e.forEach(function(t){return t()})}(Do.create({providers:a,name:r}))}return function(t){var e=qc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function qc(){return Nc&&!Nc.destroyed?Nc:null}var zc=function(){var t=function(){function t(e){f(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return p(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new xc:("zone.js"===n?void 0:n)||new Cc({enableLongStackTrace:Lc(),shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)})),a=[{provide:Cc,useValue:o}];return o.run(function(){var e=Do.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Pr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){r.handleError(t)}});n.onDestroy(function(){Kc(i._modules,n),t.unsubscribe()})}),function(t,e,r){try{var o=((a=n.injector.get(rc)).runInitializers(),a.donePromise.then(function(){return fs(n.injector.get(hc,"en-US")||"en-US"),i._moduleDoBootstrap(n),n}));return ca(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(r,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Hc({},n);return function(t,e,n){var r=new Ou(n);return Promise.resolve(r)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,r)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Wc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(k(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(xn(Do))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Hc(t,e){return Array.isArray(e)?e.reduce(Hc,t):Object.assign(Object.assign({},t),e)}var Wc=function(){var t=function(){function t(e,n,r,i,o){var a=this;f(this,t),this._zone=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new u.a(function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){t.next(a._stable),t.complete()})}),c=new u.a(function(t){var e;a._zone.runOutsideAngular(function(){e=a._zone.onStable.subscribe(function(){Cc.assertNotInAngularZone(),kc(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Cc.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(d.a)(s,c.pipe(Object(g.a)()))}return p(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ws?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(uu),o=n.create(Do.NULL,[],e||n.selector,i),a=o.location.nativeElement,s=o.injector.get(Pc,null),u=s&&o.injector.get(Ac);return s&&u&&u.registerApplication(a,s),o.onDestroy(function(){r.detachView(o.hostView),Kc(r.components,o),u&&u.unregisterApplication(a)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=a(this._views);try{for(n.s();!(e=n.n()).done;){e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Kc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(cc,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(xn(Cc),xn(Do),xn(Pr),xn(Cs),xn(rc))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Kc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Gc=function t(){f(this,t)},Qc=function t(){f(this,t)},Yc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Xc=function(){var t=function(){function t(e,n){f(this,t),this._compiler=e,this._config=n||Yc}return p(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var n=this,i=e(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),r("zn8P")(o).then(function(t){return t[a]}).then(function(t){return Zc(t,o,a)}).then(function(t){return n._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var n=e(t.split("#"),2),i=n[0],o=n[1],a="NgFactory";return void 0===o&&(o="default",a=""),r("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Zc(t,i,o)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(xn(_c),xn(Qc,8))},t.\u0275prov=R({token:t,factory:t.\u0275fac}),t}();function Zc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var Jc=function(t){return null},$c=Bc(null,"core",[{provide:uc,useValue:"unknown"},{provide:zc,deps:[Do]},{provide:Ac,deps:[]},{provide:lc,deps:[]}]),tl=[{provide:Wc,useClass:Wc,deps:[Cc,Do,Pr,Cs,rc]},{provide:bu,deps:[Cc],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:rc,useClass:rc,deps:[[new Mn,nc]]},{provide:_c,useClass:_c,deps:[]},oc,{provide:Ks,useFactory:function(){return nu},deps:[]},{provide:Qs,useFactory:function(){return ru},deps:[]},{provide:hc,useFactory:function(t){return fs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new Dn(hc),new Mn,new Ln]]},{provide:fc,useValue:"USD"}],el=function(){var t=function t(e){f(this,t)};return t.\u0275mod=dt({type:t}),t.\u0275inj=N({factory:function(e){return new(e||t)(xn(Wc))},providers:tl}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){f(this,t),this.project=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||b(o),o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mxel:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},nbvr:function(t,e,n){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,o=new Promise(function(o,a){n(i=t[e].apply(t,r)).then(o,a)});return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function o(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function a(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function s(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function f(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function d(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new f(n)}function p(t){this._db=t}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(h,"_store",["name","keyPath","indexNames","autoIncrement"]),a(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(h,"_store",IDBObjectStore,["deleteIndex"]),f.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},o(f,"_tx",["objectStoreNames","mode"]),s(f,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new f(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new d(o.result,t.oldVersion,o.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),a=n("z6cu"),s=function(){var t=function(){function t(e,n,r){f(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return p(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(a.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new c(t,e))}}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}]),t}(),l=function(t){v(n,t);var e=y(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return f(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return p(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new h(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(s.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(s.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(s.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(r.a),h=function t(e,n){f(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",function(){return a}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return f}),n.d(e,"b",function(){return T}),n.d(e,"c",function(){return S}),n.d(e,"d",function(){return U}),n.d(e,"e",function(){return E}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return s}),n.d(e,"i",function(){return u}),n.d(e,"j",function(){return X}),n.d(e,"k",function(){return D}),n.d(e,"l",function(){return B}),n.d(e,"m",function(){return l}),n.d(e,"n",function(){return h}),n.d(e,"o",function(){return W}),n.d(e,"p",function(){return d}),n.d(e,"q",function(){return j}),n.d(e,"r",function(){return g}),n.d(e,"s",function(){return y}),n.d(e,"t",function(){return b}),n.d(e,"u",function(){return L}),n.d(e,"v",function(){return _}),n.d(e,"w",function(){return C}),n.d(e,"x",function(){return p}),n.d(e,"y",function(){return v}),n.d(e,"z",function(){return k}),n.d(e,"A",function(){return m}),n.d(e,"B",function(){return w}),n.d(e,"C",function(){return N}),n.d(e,"D",function(){return P}),n.d(e,"E",function(){return F}),n.d(e,"F",function(){return V}),n.d(e,"G",function(){return M}),n.d(e,"H",function(){return Y}),n.d(e,"I",function(){return Q}),n.d(e,"J",function(){return A}),n.d(e,"K",function(){return H}),n.d(e,"L",function(){return K}),n.d(e,"M",function(){return G}),n.d(e,"N",function(){return O});var r=n("mxel"),i=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){var e=a(t);return s.encodeByteArray(e,!0)},c=function(t){try{return s.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t){return h(void 0,t)}function h(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=h(t[n],e[n]));return t}var f=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function p(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function v(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function g(){return"object"==typeof self&&self.self===self}function y(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function b(){return d().indexOf("Electron/")>=0}function _(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function w(){return d().indexOf("MSAppHost/")>=0}function k(){return!1}function C(){return"indexedDB"in self&&null!=indexedDB}function O(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function E(){return!(!navigator||!navigator.cookieEnabled)}var S=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,T.prototype.create),o}return Object(r.c)(e,t),e}(Error),T=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?I(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new S(i,s,r);return u},t}();function I(t,e){return t.replace(x,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var x=/\{\$([^}]+)}/g;function P(t){return JSON.parse(t)}function A(t){return JSON.stringify(t)}var R=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=P(c(o[0])||""),n=P(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},N=function(t){var e=R(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},j=function(t){var e=R(t).claims;return"object"==typeof e&&!0===e.admin};function D(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function L(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function F(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function V(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}var U=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function B(t,e){var n=new q(t,e);return n.subscribe.bind(n)}var q=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=z),void 0===r.error&&(r.error=z),void 0===r.complete&&(r.complete=z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function z(){}var H=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function W(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}function K(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(W(t,e,r)+"must be a valid function.")}function G(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(W(t,e,r)+"must be a valid context object.")}var Q=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var o=t.charCodeAt(r);if(o>=55296&&o<=56319){var a=o-55296;r++,i(r<t.length,"Surrogate pair missing trail surrogate."),o=65536+(a<<10)+(t.charCodeAt(r)-56320)}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=63&o|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=63&o|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=63&o|128)}return e},Y=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};function X(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return p(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?h(w(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?h(w(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?h(w(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){f(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return p(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce(function(t,e){return t.concat(e instanceof u?e.errors:e)},[])}},spgP:function(t,e,a){"use strict";(function(t){a.d(e,"a",function(){return N}),a.d(e,"b",function(){return S}),a.d(e,"c",function(){return E}),a.d(e,"d",function(){return _}),a.d(e,"e",function(){return O}),a.d(e,"f",function(){return A}),a.d(e,"g",function(){return I}),a.d(e,"h",function(){return w}),a.d(e,"i",function(){return C}),a.d(e,"j",function(){return x});var u=a("qgXg"),c=a("D0XW"),l=a("vkgz"),h=a("tf+s"),d=a("pxpQ"),v=a("fXoL"),g=a("Jgta");function y(){}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.a;f(this,t),this.zone=e,this.delegate=n}return p(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule(function(e){var n=this;r.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),b=function(){function t(e){f(this,t),this.zone=e,this.task=null}return p(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",y,{},y,y)}),e.pipe(Object(l.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),_=function t(e){f(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new m(Zone.current)}),this.insideAngular=e.run(function(){return new m(Zone.current,c.a)})};function w(t){return function(e){return(e=e.lift(new b(t.ngZone))).pipe(Object(h.a)(t.outsideAngular),Object(d.b)(t.insideAngular))}}var k=["ngOnDestroy"],C=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(o,a){return n.runOutsideAngular(function(){var o;if(t[a])return(null===(o=null==r?void 0:r.spy)||void 0===o?void 0:o.get)&&r.spy.get(a,t[a]),t[a];if(k.indexOf(a)>-1)return function(){};var s=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return s[e]},apply:function(t,e,n){return s.then(function(t){var e,o=t&&t.apply(void 0,i(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(a,n,o),o})}})})}})},O=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},E=new v.r("angularfire2.app.options"),S=new v.r("angularfire2.app.nameOrConfig"),T=new v.Q("6.1.4");function I(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=g.a.apps.filter(function(t){return t&&t.name===i.name})[0]||n.runOutsideAngular(function(){return g.a.initializeApp(e,i)});try{JSON.stringify(e)!==JSON.stringify(o.options)&&P("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var x=function(){P("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},P=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(v.X)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function A(e,a,u,c,l){var h,f=globalThis.\u0275AngularfireInstanceCache.get(e)||[],d=r(h=f)||o(h)||s(h)||n(),p=d[0],v=d.slice(1);if(p){try{l.some(function(t,e){var n=v[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&P("error","".concat(a," was already initialized on the ").concat(u.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(y){}return p}var g=c();return globalThis.\u0275AngularfireInstanceCache.set(e,[g].concat(i(l))),g}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var R={provide:function t(){f(this,t)},useFactory:I,deps:[E,v.A,[new v.B,S]]},N=function(){var t=function(){function t(e){f(this,t),g.a.registerVersion("angularfire",T.full,e.toString()),g.a.registerVersion("angular",v.P.full)}return p(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:E,useValue:e},{provide:S,useValue:n}]}}}]),t}();return t.\u0275mod=v.Lb({type:t}),t.\u0275inj=v.Kb({factory:function(e){return new(e||t)(v.Wb(v.C))},providers:[R]}),t}()}).call(this,a("3UD+")(t))},t6oF:function(t,e,n){"use strict";var r=n("zIRd");(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function i(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function o(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:i(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in i||(i[a]={}),i=i[a]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function i(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var a=n.setTimeout;r.prototype.c=function(t){a(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new r;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e(function(t,e){i=t,o=e});return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=i,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=o(t),a=r.next();!a.done;a=r.next())i(a.value).Qa(e,n)})},e.all=function(t){var n=o(t),r=n.next();return r.done?i([]):new e(function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Qa(o(a.length-1),e),r=n.next()}while(!r.done)})},e});var a=a||{},s=this||self,u=/^[\w+/_-]+[=]{0,2}$/,c=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&u.test(t)?t:""}function h(){}function f(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function d(t){var e=f(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"function"==f(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:_).apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now;function O(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t){return t}function S(t,e,n){this.code=x+t,this.message=e||P[t]||"",this.a=n||null}function T(t){var e=t&&t.code;return e?new S(e.substring(x.length),t.message,t.serverResponse):null}O(S,Error),S.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},S.prototype.toJSON=function(){return this.w()};var I,x="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in A)if(A[e].id===t)return{firebaseEndpoint:(t=A[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function N(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function j(t){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function D(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");j.call(this,n+t[r])}function M(t,e){throw new D("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function L(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function F(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function V(){this.b=this.a=null}I=R("__EID__")?"__EID__":void 0,O(j,Error),j.prototype.name="CustomError",O(D,j),D.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var U=new L(function(){return new q},function(t){t.reset()});function B(){var t=me,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}V.prototype.add=function(t,e){var n=U.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var z=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},H=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},W=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},K=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},G=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Q(t,e){return 0<=z(t,e)}function Y(t,e){var n;return(n=0<=(e=z(t,e)))&&Array.prototype.splice.call(t,e,1),n}function X(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function Z(t){return Array.prototype.concat.apply([],arguments)}function J(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var $,tt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},et=/&/g,nt=/</g,rt=/>/g,it=/"/g,ot=/'/g,at=/\x00/g,st=/[\x00&<>"']/;function ut(t,e){return-1!=t.indexOf(e)}function ct(t,e){return t<e?-1:t>e?1:0}t:{var lt=s.navigator;if(lt){var ht=lt.userAgent;if(ht){$=ht;break t}}$=""}function ft(t){return ut($,t)}function dt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function pt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function mt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function bt(t,e){this.a=t===Ct&&e||"",this.b=kt}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===kt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}bt.prototype.sa=!0,bt.prototype.ra=function(){return this.a},bt.prototype.toString=function(){return"Const{"+this.a+"}"};var wt,kt={},Ct={};function Ot(){if(void 0===wt){var t=null,e=s.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:E,createScript:E,createScriptURL:E})}catch(n){s.console&&s.console.error(n.message)}wt=t}else wt=t}return wt}function Et(t,e){this.a=e===Pt?t:""}function St(t){return t instanceof Et&&t.constructor===Et?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+f(t)),"type_error:TrustedResourceUrl")}function Tt(t,e){var n=_t(t);if(!xt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=Ot();return new Et(t=e?e.createScriptURL(t):t,Pt)}(t=n.replace(It,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof bt?_t(t):encodeURIComponent(String(t))}))}Et.prototype.sa=!0,Et.prototype.ra=function(){return this.a.toString()},Et.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var It=/%{(\w+)}/g,xt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pt={};function At(t,e){this.a=e===Ft?t:""}function Rt(t){return t instanceof At&&t.constructor===At?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+f(t)),"type_error:SafeUrl")}At.prototype.sa=!0,At.prototype.ra=function(){return this.a.toString()},At.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Nt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,jt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Dt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof At)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Dt.test(t))t=new At(t,Ft);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(jt);t=e&&Nt.test(e[1])?new At(t,Ft):null}return t}function Lt(t){return t instanceof At?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Dt.test(t)||(t="about:invalid#zClosurez"),new At(t,Ft))}var Ft={},Vt=new At("about:invalid#zClosurez",Ft);function Ut(t,e,n){this.a=n===Bt?t:""}Ut.prototype.sa=!0,Ut.prototype.ra=function(){return this.a.toString()},Ut.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Bt={};function qt(t,e,n,r){return t=t instanceof At?t:Lt(t),e=e||s,n=n instanceof bt?_t(n):n||"",e.open(Rt(t),n,r,void 0)}function zt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ht(t){return st.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(et,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(nt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(rt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(it,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ot,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(at,"&#0;"))),t}function Wt(t){return Wt[" "](t),t}Wt[" "]=h;var Kt,Gt,Qt=ft("Opera"),Yt=ft("Trident")||ft("MSIE"),Xt=ft("Edge"),Zt=Xt||Yt,Jt=ft("Gecko")&&!(ut($.toLowerCase(),"webkit")&&!ft("Edge"))&&!(ft("Trident")||ft("MSIE"))&&!ft("Edge"),$t=ut($.toLowerCase(),"webkit")&&!ft("Edge");function te(){var t=s.document;return t?t.documentMode:void 0}t:{var ee="",ne=(Gt=$,Jt?/rv:([^\);]+)(\)|;)/.exec(Gt):Xt?/Edge\/([\d\.]+)/.exec(Gt):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Gt):$t?/WebKit\/(\S+)/.exec(Gt):Qt?/(?:Version)[ \/]?(\S+)/.exec(Gt):void 0);if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){Kt=String(re);break t}}Kt=ee}var ie={};function oe(t){return function(t,e){var n=ie;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tt(String(Kt)).split("."),r=tt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ct(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ct(0==a[2].length,0==s[2].length)||ct(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ae=s.document&&Yt&&(te()||parseInt(Kt,10))||void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Gt){}var se=!Yt||9<=Number(ae);function ue(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ce(t,e){dt(e,function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:fe.hasOwnProperty(n)?t.setAttribute(fe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var le,he,fe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function de(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!d(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(p(o)){a="function"==typeof o.item;break t}}a=!1}H(a?J(o):o,r)}}}function pe(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ve(t){s.setTimeout(function(){throw t},0)}function ge(t,e){he||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);he=function(){t.then(be)}}else he=function(){var t=be;!p(s.setImmediate)||s.Window&&s.Window.prototype&&!ft("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(le||(le=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ft("Presto")&&(t=function(){var t=pe(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=w(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ft("Trident")&&!ft("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}()),le(t)):s.setImmediate(t)}}(),ye||(he(),ye=!0),me.add(t,e)}var ye=!1,me=new V;function be(){for(var t;t=B();){try{t.a.call(t.b)}catch(e){ve(e)}F(U,t)}ye=!1}function _e(t,e){if(this.a=we,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){je(n,ke,t)},function(t){if(!(t instanceof Be))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}je(n,Ce,t)})}catch(r){je(this,Ce,r)}}var we=0,ke=2,Ce=3;function Oe(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Oe.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new L(function(){return new Oe},function(t){t.reset()});function Se(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Te(t){if(t instanceof _e)return t;var e=new _e(h);return je(e,ke,t),e}function Ie(t){return new _e(function(e,n){n(t)})}function xe(t,e,n){De(t,e,n,null)||ge(k(e,t))}function Pe(t){return new _e(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)xe(t[o],k(i,o,!0),k(i,o,!1));else e(r)})}function Ae(t,e){if(t.a==we)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==we&&1==r?Ae(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Le(n),Fe(n,i,Ce,e)))}t.c=null}else je(t,Ce,e)}function Re(t,e){t.b||t.a!=ke&&t.a!=Ce||Me(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ne(t,e,n,r){var i=Se(null,null,null);return i.a=new _e(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Be?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Re(t,i),i.a}function je(t,e,n){t.a==we&&(t===n&&(e=Ce,n=new TypeError("Promise cannot resolve to itself")),t.a=1,De(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Me(t),e!=Ce||n instanceof Be||function(t,e){t.g=!0,ge(function(){t.g&&Ue.call(null,e)})}(t,n)))}function De(t,e,n,r){if(t instanceof _e)return Re(t,Se(e||h,n||null,r)),!0;if(N(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(p(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Me(t){t.h||(t.h=!0,ge(t.gc,t))}function Le(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Ce&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){Ue.call(null,i)}F(Ee,e)}function Ve(t,e,n){e==ke?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}_e.prototype.then=function(t,e,n){return Ne(this,p(t)?t:null,p(e)?e:null,n)},_e.prototype.$goog_Thenable=!0,(t=_e.prototype).oa=function(t,e){return(t=Se(t,t,e)).c=!0,Re(this,t),this},t.o=function(t,e){return Ne(this,null,t,e)},t.cancel=function(t){if(this.a==we){var e=new Be(t);ge(function(){Ae(this,e)},this)}},t.$c=function(t){this.a=we,je(this,ke,t)},t.ad=function(t){this.a=we,je(this,Ce,t)},t.gc=function(){for(var t;t=Le(this);)Fe(this,t,this.a,this.i);this.h=!1};var Ue=ve;function Be(t){j.call(this,t)}function qe(){0!=ze&&(He[g(this)]=this),this.xa=this.xa,this.pa=this.pa}O(Be,j),Be.prototype.name="cancel";var ze=0,He={};function We(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=ze)){var e=g(t);if(0!=ze&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete He[e]}}qe.prototype.xa=!1,qe.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ke=Object.freeze||function(t){return t},Ge=!Yt||9<=Number(ae),Qe=Yt&&!oe("9"),Ye=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function Xe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Xe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Jt){t:{try{Wt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Je[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Xe.prototype.preventDefault=function(){this.defaultPrevented=!0},O(Ze,Xe);var Je=Ke({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Qe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var $e="closure_listenable_"+(1e6*Math.random()|0),tn=0;function en(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++tn,this.va=this.Pa=!1}function nn(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function rn(t){this.src=t,this.a={},this.b=0}function on(t,e){var n=e.type;n in t.a&&Y(t.a[n],e)&&(nn(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function an(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}rn.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=an(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new en(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var sn="closure_lm_"+(1e6*Math.random()|0),un={};function cn(t,e,n,r,i){if(r&&r.once)hn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)cn(t,e[o],n,r,i);else n=_n(n),t&&t[$e]?kn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!1,r,i)}function ln(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=mn(t);if(s||(t[sn]=s=new rn(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=yn,e=Ge?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function hn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=_n(n),t&&t[$e]?Cn(t,e,n,v(r)?!!r.capture:!!r,i):ln(t,e,n,!0,r,i)}function fn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)fn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=_n(n),t&&t[$e]?(t=t.v,(e=String(e).toString())in t.a&&-1<(n=an(o=t.a[e],n,r,i))&&(nn(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=mn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=an(e,n,r,i)),(n=-1<t?e[t]:null)&&dn(n))}function dn(t){if("number"!=typeof t&&t&&!t.va){var e=t.src;if(e&&e[$e])on(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=mn(e))?(on(n,t),0==n.b&&(n.src=null,e[sn]=null)):nn(t)}}}function pn(t){return t in un?un[t]:un[t]="on"+t}function vn(t,e,n,r){var i=!0;if((t=mn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=gn(o,r),i=i&&!1!==o)}return i}function gn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&dn(t),n.call(r,e)}function yn(t,e){if(t.va)return!0;if(!Ge){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=vn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=vn(r[i],t,!1,e),n=n&&o}return n}return gn(t,new Ze(e,this))}function mn(t){return(t=t[sn])instanceof rn?t:null}var bn="__closure_events_fn_"+(1e9*Math.random()>>>0);function _n(t){return p(t)?t:(t[bn]||(t[bn]=function(e){return t.handleEvent(e)}),t[bn])}function wn(){qe.call(this),this.v=new rn(this),this.ac=this,this.gb=null}function kn(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Cn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function On(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&on(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function En(t,e,n){if(p(t))n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function Sn(t){var e=null;return new _e(function(n,r){-1==(e=En(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).o(function(t){throw s.clearTimeout(e),t})}function Tn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"==typeof t)return t.split("");if(d(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function In(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(d(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function xn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];An(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)An(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function An(t,e){return Object.prototype.hasOwnProperty.call(t,e)}O(wn,qe),wn.prototype[$e]=!0,wn.prototype.addEventListener=function(t,e,n,r){cn(this,t,e,n,r)},wn.prototype.removeEventListener=function(t,e,n,r){fn(this,t,e,n,r)},wn.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"==typeof t)t=new Xe(t,n);else if(t instanceof Xe)t.target=t.target||n;else{var i=t;yt(t=new Xe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=On(a,r,!0,t)&&i}if(i=On(a=t.b=n,r,!0,t)&&i,i=On(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=On(a=t.b=e[o],r,!1,t)&&i;return i},wn.prototype.Da=function(){if(wn.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)nn(n[r]);delete e.a[t],e.b--}}this.gb=null},(t=xn.prototype).W=function(){Pn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Pn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return An(this.b,t)?this.b[t]:e},t.set=function(t,e){An(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Nn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Nn?(this.i=void 0!==e?e:t.i,jn(this,t.c),this.l=t.l,this.a=t.a,Dn(this,t.g),this.f=t.f,Mn(this,er(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,jn(this,n[1]||"",!0),this.l=Bn(n[2]||""),this.a=Bn(n[3]||"",!0),Dn(this,n[4]),this.f=Bn(n[5]||"",!0),Mn(this,n[6]||"",!0),this.h=Bn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function jn(t,e,n){t.c=n?Bn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Dn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Mn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&(Xn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Jn(this,e),tr(this,n,t))},t)),t.f=e}(t.b,t.i)):(n||(e=qn(e,Gn)),t.b=new Yn(e,t.i))}function Ln(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Nn?new Nn(t):new Nn(t,void 0)}function Un(t,e,n,r){var i=new Nn(null,void 0);return t&&jn(i,t),e&&(i.a=e),n&&Dn(i,n),r&&(i.f=r),i}function Bn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qn(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,zn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function zn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Nn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(qn(e,Hn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(qn(e,Hn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(qn(n,"/"==n.charAt(0)?Kn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",qn(n,Qn)),t.join("")},Nn.prototype.resolve=function(t){var e=new Nn(this),n=!!t.c;n?jn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Dn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ut(i,"./")||ut(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Mn(e,er(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Hn=/[#\/\?@]/g,Wn=/[#\?:]/g,Kn=/[#\?]/g,Gn=/[#\?@]/g,Qn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Xn(t){t.a||(t.a=new xn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Zn(t){var e=In(t);if(void 0===e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=Tn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?tr(n,i,o):n.add(i,o)}return n}function Jn(t,e){Xn(t),e=nr(t,e),An(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,An((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pn(t)))}function $n(t,e){return Xn(t),e=nr(t,e),An(t.a.b,e)}function tr(t,e,n){Jn(t,e),0<n.length&&(t.c=null,t.a.set(nr(t,e),J(n)),t.b+=n.length)}function er(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new xn(t.a),e.b=t.b),e}function nr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function rr(t){var e=[];return or(new ir,t,e),e.join("")}function ir(){}function or(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),or(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),ur(r,n),n.push(":"),or(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ur(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){Xn(this),this.c=null,t=nr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Xn(this),this.a.forEach(function(n,r){H(n,function(n){t.call(e,n,r,this)},this)},this)},t.Y=function(){Xn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.W=function(t){Xn(this);var e=[];if("string"==typeof t)$n(this,t)&&(e=Z(e,this.a.get(nr(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Z(e,t[n])}return e},t.set=function(t,e){return Xn(this),this.c=null,$n(this,t=nr(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ar={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},sr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ur(t,e){e.push('"',t.replace(sr,function(t){var e=ar[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ar[t]=e),e}),'"')}function cr(){var t=Ir();return Yt&&!!ae&&11==ae||/Edge\/\d+/.test(t)}function lr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function hr(t,e){e=e||s.window;var n="about:blank";t&&(n=Rt(Mt(t)||Vt)),e.location.href=n}function fr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<fr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function dr(t){return!!((t=(t||Ir()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function pr(t){t=t||s.window;try{t.close()}catch(e){}}function vr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Ir().toLowerCase(),r&&(e.target=r,ut(n,"crios/")&&(e.target="_blank")),Er(Ir())==Or&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof At?n:Mt(void 0!==n.href?n.href:String(n))||Vt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((ft("iPhone")&&!ft("iPod")&&!ft("iPad")||ft("iPad")||ft("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(mt(a=pe(document,"A"),"HTMLAnchorElement"),e=e instanceof At?e:Lt(e),a.href=Rt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Rt(e),a&&(Zt&&ut(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ht(t)+'">',t=new Ut(t=(r=Ot())?r.createHTML(t):t,null,Bt),r=a.document)&&(r.write(function(t){return t instanceof Ut&&t.constructor===Ut?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+f(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var gr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yr=/^[^@]+@[^@]+$/;function mr(){var t=null;return new _e(function(e){"complete"==s.document.readyState?e():(t=function(){e()},hn(window,"load",t))}).o(function(e){throw fn(window,"load",t),e})}function br(t){return t=t||Ir(),!("file:"!==Nr()&&"ionic:"!==Nr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function _r(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function wr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function kr(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":wr()?"Worker":"Browser"}function Cr(){var t=kr();return"ReactNative"===t||"Node"===t}var Or="Firefox";function Er(t){var e=t.toLowerCase();return ut(e,"opera/")||ut(e,"opr/")||ut(e,"opios/")?"Opera":ut(e,"iemobile")?"IEMobile":ut(e,"msie")||ut(e,"trident/")?"IE":ut(e,"edge/")?"Edge":ut(e,"firefox/")?Or:ut(e,"silk/")?"Silk":ut(e,"blackberry")?"Blackberry":ut(e,"webos")?"Webos":!ut(e,"safari/")||ut(e,"chrome/")||ut(e,"crios/")||ut(e,"android")?!ut(e,"chrome/")&&!ut(e,"crios/")||ut(e,"edge/")?ut(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":"Chrome":"Safari"}var Sr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Tr(t,e){e=e||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=kr())?r=Er(i=Ir()):"Worker"===r&&(r=Er(i=Ir())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Ir(){return s.navigator&&s.navigator.userAgent||""}function xr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Pr(){try{var t=s.localStorage,e=Fr();if(t)return t.setItem(e,"1"),t.removeItem(e),!cr()||!!s.indexedDB}catch(n){return wr()&&!!s.indexedDB}return!1}function Ar(){return(Rr()||"chrome-extension:"===Nr()||br())&&!Cr()&&Pr()&&!wr()}function Rr(){return"http:"===Nr()||"https:"===Nr()}function Nr(){return s.location&&s.location.protocol||null}function jr(t){return!dr(t=t||Ir())&&Er(t)!=Or}function Dr(t){return void 0===t?null:rr(t)}function Mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Lr(t){if(null!==t)return JSON.parse(t)}function Fr(t){return t||Math.floor(1e9*Math.random()).toString()}function Vr(t){return"Safari"!=Er(t=t||Ir())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ur(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Br(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Ir(),e=kr(),this.b=dr(t)||"ReactNative"===e}function qr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Hr(){return!(!xr("fireauth.oauthhelper",s)&&!xr("fireauth.iframe",s))}Br.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Rr()&&"chrome-extension:"!==Nr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Wr,Kr={};function Gr(t){Kr[t]||(Kr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Wr=2==Qr.abcd}catch(Gt){Wr=!1}function Yr(t,e,n){Wr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Xr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Yr(t,n,e[n])}function Zr(t){var e={};return Xr(e,t),e}function Jr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Yr(e,n,Jr(t[n]));return e}function $r(t){var e=t&&(t[ii]?"phone":null);if(!(e&&t&&t[ri]))throw new S("internal-error","Internal assert: invalid MultiFactorInfo object");Yr(this,"uid",t[ri]),Yr(this,"displayName",t[ei]||null);var n=null;t[ni]&&(n=new Date(t[ni]).toUTCString()),Yr(this,"enrollmentTime",n),Yr(this,"factorId",e)}function ti(t){try{var e=new oi(t)}catch(n){e=null}return e}$r.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ei="displayName",ni="enrolledAt",ri="mfaEnrollmentId",ii="phoneInfo";function oi(t){$r.call(this,t),Yr(this,"phoneNumber",t[ii])}function ai(t){var e={},n=t[li],r=t[fi],i=t[di];if(t=ti(t[hi]),!i||i!=ui&&i!=ci&&!n||i==ci&&!r||i==si&&!t)throw Error("Invalid checkActionCode response!");i==ci?(e[vi]=n||null,e[yi]=n||null,e[pi]=r):(e[vi]=r||null,e[yi]=r||null,e[pi]=n||null),e[gi]=t||null,Yr(this,bi,i),Yr(this,mi,Jr(e))}O(oi,$r),oi.prototype.w=function(){var t=oi.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var si="REVERT_SECOND_FACTOR_ADDITION",ui="EMAIL_SIGNIN",ci="VERIFY_AND_CHANGE_EMAIL",li="email",hi="mfaInfo",fi="newEmail",di="requestType",pi="email",vi="fromEmail",gi="multiFactorInfo",yi="previousEmail",mi="data",bi="operation";function _i(t){var e=Fn(t=Vn(t),wi)||null,n=Fn(t,ki)||null,r=Fn(t,Ei)||null;if(r=r&&Ti[r]||null,!e||!n||!r)throw new S("argument-error",wi+", "+ki+"and "+Ei+" are required in a valid action code URL.");Xr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Ci)||null,languageCode:Fn(t,Oi)||null,tenantId:Fn(t,Si)||null})}var wi="apiKey",ki="oobCode",Ci="continueUrl",Oi="languageCode",Ei="mode",Si="tenantId",Ti={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:si,signIn:ui,verifyAndChangeEmail:ci,verifyEmail:"VERIFY_EMAIL"};function Ii(t){try{return new _i(t)}catch(e){return null}}function xi(t){var e=t[ji];if(void 0===e)throw new S("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new S("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Pi];if(n&&"object"==typeof n){e=n[Li];var r=n[Di];if(n=n[Mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new S("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new S("argument-error",Mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new S("argument-error",Li+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new S("missing-android-pkg-name")}}else if(void 0!==n)throw new S("argument-error",Pi+" property must be a non null object when specified.");if(this.f=null,(e=t[Ni])&&"object"==typeof e){if("string"==typeof(e=e[Fi])&&e.length)this.f=e;else if(void 0!==e)throw new S("argument-error",Fi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new S("argument-error",Ni+" property must be a non null object when specified.");if(void 0!==(e=t[Ri])&&"boolean"!=typeof e)throw new S("argument-error",Ri+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ai])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new S("argument-error",Ai+" property must be a non empty string when specified.");this.i=t||null}var Pi="android",Ai="dynamicLinkDomain",Ri="handleCodeInApp",Ni="iOS",ji="url",Di="installApp",Mi="minimumVersion",Li="packageName",Fi="bundleId";function Vi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Ui=null;function Bi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function qi(t){try{return new Bi(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=function(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Ui[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Ui){Ui={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ui[o]&&(Ui[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e.push(t)}),e}(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Bi.prototype.T=function(){return this.f},Bi.prototype.l=function(){return this.c},Bi.prototype.toString=function(){return this.h};var Hi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Wi=["client_id","response_type","scope","redirect_uri","state"],Ki={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Wi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Wi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Wi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Hi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Gi(t){for(var e in Ki)if(Ki[e].fa==t)return Ki[e];return null}function Qi(t){var e={};e["facebook.com"]=$i,e["google.com"]=eo,e["github.com"]=to,e["twitter.com"]=no;var n=t&&t[Xi];try{if(n)return e[n]?new e[n](t):new Ji(t);if(void 0!==t[Yi])return new Zi(t)}catch(r){}return null}var Yi="idToken",Xi="providerId";function Zi(t){var e=t[Xi];if(!e&&t[Yi]){var n=qi(t[Yi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Yr(this,"providerId",e),Yr(this,"isNewUser",n)}function Ji(t){Zi.call(this,t),Yr(this,"profile",Jr((t=Lr(t.rawUserInfo||"{}"))||{}))}function $i(t){if(Ji.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function to(t){if(Ji.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",this.profile&&this.profile.login||null)}function eo(t){if(Ji.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function no(t){if(Ji.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Yr(this,"username",t.screenName||null)}function ro(t){var e=Vn(t),n=Fn(e,"link"),r=Fn(Vn(n),"link");return e=Fn(e,"deep_link_id"),Fn(Vn(e),"link")||e||r||n||t}function io(t,e){if(!t&&!e)throw new S("internal-error","Internal assert: no raw session string available");if(t&&e)throw new S("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?oo:ao}O(Ji,Zi),O($i,Ji),O(to,Ji),O(eo,Ji),O(no,Ji);var oo="enroll",ao="signin";function so(){}function uo(t,e){return t.then(function(t){if(t[Ya]){var n=qi(t[Ya]);if(!n||e!=n.i)throw new S("user-mismatch");return t}throw new S("user-mismatch")}).o(function(t){throw t&&t.code&&t.code==x+"user-not-found"?new S("user-mismatch"):t})}function co(t,e){if(!e)throw new S("internal-error","failed to construct a credential");this.a=e,Yr(this,"providerId",t),Yr(this,"signInMethod",t)}function lo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function ho(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new co(t.providerId,t.pendingToken)}catch(e){}return null}function fo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Yr(this,"idToken",e.idToken),e.accessToken&&Yr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Yr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new S("internal-error","failed to construct a credential");Yr(this,"accessToken",e.oauthToken),Yr(this,"secret",e.oauthTokenSecret)}Yr(this,"providerId",t),Yr(this,"signInMethod",n)}function po(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function vo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new fo(t.providerId,e,t.signInMethod)}catch(n){}}return null}function go(t,e){this.Qc=e||[],Xr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Gi(t)||{}).Ja||null,this.ob=null}function yo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new S("argument-error",'SAML provider IDs must be prefixed with "saml."');go.call(this,t,[])}function mo(t){go.call(this,t,Wi),this.a=[]}function bo(){mo.call(this,"facebook.com")}function _o(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new bo).credential({accessToken:e})}function wo(){mo.call(this,"github.com")}function ko(t){if(!t)throw new S("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new wo).credential({accessToken:e})}function Co(){mo.call(this,"google.com"),this.Ca("profile")}function Oo(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Co).credential({idToken:n,accessToken:e})}function Eo(){go.call(this,"twitter.com",Hi)}function So(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new S("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new fo("twitter.com",n,"twitter.com")}function To(t,e,n){this.a=t,this.f=e,Yr(this,"providerId","password"),Yr(this,"signInMethod",n===xo.EMAIL_LINK_SIGN_IN_METHOD?xo.EMAIL_LINK_SIGN_IN_METHOD:xo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Io(t){return t&&t.email&&t.password?new To(t.email,t.password,t.signInMethod):null}function xo(){Xr(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(!(e=Ao(e)))throw new S("argument-error","Invalid email link!");return new To(t,e.code,xo.EMAIL_LINK_SIGN_IN_METHOD)}function Ao(t){return(t=Ii(t=ro(t)))&&t.operation===ui?t:null}function Ro(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new S("internal-error");this.a=t,Yr(this,"providerId","phone"),this.fa="phone",Yr(this,"signInMethod","phone")}function No(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return H(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new Ro(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Do(t){try{this.a=t||r.a.auth()}catch(e){throw new S("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Xr(this,{providerId:"phone",isOAuthProvider:!1})}function Mo(t,e){if(!t)throw new S("missing-verification-id");if(!e)throw new S("missing-verification-code");return new Ro({eb:t,cb:e})}function Lo(t){if(t.temporaryProof&&t.phoneNumber)return new Ro({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Oo(o,n);case"facebook.com":return _o(n);case"github.com":return ko(n);case"twitter.com":return So(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new co(e,a):new fo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new mo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Fo(t){if(!t.isOAuthProvider)throw new S("invalid-oauth-provider")}function Vo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new S("invalid-auth-event");if(this.g&&this.a)throw new S("invalid-auth-event");if(this.g&&!this.f)throw new S("invalid-auth-event")}function Uo(t){return(t=t||{}).type?new Vo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&T(t.error),t.postBody,t.tenantId):null}function Bo(){this.b=null,this.a=[]}io.prototype.Ha=function(){return Te(this.a?this.a:this.b)},io.prototype.w=function(){return this.type==oo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},so.prototype.ka=function(){},so.prototype.b=function(){},so.prototype.c=function(){},so.prototype.w=function(){},co.prototype.ka=function(t){return gs(t,lo(this))},co.prototype.b=function(t,e){var n=lo(this);return n.idToken=e,ys(t,n)},co.prototype.c=function(t,e){return uo(ms(t,lo(this)),e)},co.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},fo.prototype.ka=function(t){return gs(t,po(this))},fo.prototype.b=function(t,e){var n=po(this);return n.idToken=e,ys(t,n)},fo.prototype.c=function(t,e){return uo(ms(t,po(this)),e)},fo.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},go.prototype.Ka=function(t){return this.Ib=vt(t),this},O(yo,go),O(mo,go),mo.prototype.Ca=function(t){return Q(this.a,t)||this.a.push(t),this},mo.prototype.Qb=function(){return J(this.a)},mo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new S("argument-error","credential failed: must provide the ID token and/or the access token.");return new fo(this.providerId,n,this.providerId)},O(bo,mo),Yr(bo,"PROVIDER_ID","facebook.com"),Yr(bo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),O(wo,mo),Yr(wo,"PROVIDER_ID","github.com"),Yr(wo,"GITHUB_SIGN_IN_METHOD","github.com"),O(Co,mo),Yr(Co,"PROVIDER_ID","google.com"),Yr(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),O(Eo,go),Yr(Eo,"PROVIDER_ID","twitter.com"),Yr(Eo,"TWITTER_SIGN_IN_METHOD","twitter.com"),To.prototype.ka=function(t){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?$s(t,Ss,{email:this.a,oobCode:this.f}):$s(t,Qs,{email:this.a,password:this.f})},To.prototype.b=function(t,e){return this.signInMethod==xo.EMAIL_LINK_SIGN_IN_METHOD?$s(t,Ts,{idToken:e,email:this.a,oobCode:this.f}):$s(t,Us,{idToken:e,email:this.a,password:this.f})},To.prototype.c=function(t,e){return uo(this.ka(t),e)},To.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Xr(xo,{PROVIDER_ID:"password"}),Xr(xo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Xr(xo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ro.prototype.ka=function(t){return t.fb(jo(this))},Ro.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,$s(t,Xs,n)},Ro.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",uo(t=$s(t,Zs,n),e)},Ro.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Do.prototype.fb=function(t,e){var n=this.a.a;return Te(e.verify()).then(function(r){if("string"!=typeof r)throw new S("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=v(t)?t.session:null,o=v(t)?t.phoneNumber:t;return(i&&i.type==oo?i.Ha().then(function(t){return function(t,e){return $s(t,qs,e).then(function(t){return t.phoneSessionInfo.sessionInfo})}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})}):i&&i.type==ao?i.Ha().then(function(e){return function(t,e){return $s(t,zs,e).then(function(t){return t.phoneResponseInfo.sessionInfo})}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})}):function(t,e){return $s(t,Fs,e)}(n,{phoneNumber:o,recaptchaToken:r})).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new S("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Xr(Do,{PROVIDER_ID:"phone"}),Xr(Do,{PHONE_SIGN_IN_METHOD:"phone"}),Vo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Vo.prototype.T=function(){return this.h},Vo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var qo,zo=null;function Ho(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=zt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=zt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",S.call(this,e,n)}function Wo(t,e,n){S.call(this,t,n),(t=e||{}).Jb&&Yr(this,"email",t.Jb),t.ea&&Yr(this,"phoneNumber",t.ea),t.credential&&Yr(this,"credential",t.credential),t.Zb&&Yr(this,"tenantId",t.Zb)}function Ko(t){if(t.code){var e=t.code||"";0==e.indexOf(x)&&(e=e.substring(x.length));var n={credential:Lo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new S(e,t.message||void 0);return new Wo(e,n,t.message)}return null}function Go(){}function Qo(){}function Yo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Xo(){}function Zo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=w(this.qc,this),this.a.onerror=w(this.Sb,this),this.a.onprogress=w(this.rc,this),this.a.ontimeout=w(this.vc,this)}function Jo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function $o(t,e,n){this.reset(t,e,n,void 0,void 0)}function ta(t){this.f=t,this.b=this.c=this.a=null}function ea(t,e){this.name=t,this.value=e}O(Ho,S),O(Wo,S),Wo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Wo.prototype.toJSON=function(){return this.w()},Go.prototype.c=null,O(Qo,Go),Qo.prototype.a=function(){var t=Yo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return Yo(this)&&(t[0]=!0,t[1]=!0),t},qo=new Qo,O(Xo,Go),Xo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Zo;throw Error("Unsupported browser")},Xo.prototype.b=function(){return{}},(t=Zo.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Jo(this,4)},t.Sb=function(){this.status=500,this.response=this.responseText="",Jo(this,4)},t.vc=function(){this.Sb()},t.rc=function(){this.status=200,Jo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},$o.prototype.a=null,$o.prototype.reset=function(t,e,n,r,i){r||C(),delete this.a},ea.prototype.toString=function(){return this.name};var na=new ea("SEVERE",1e3),ra=new ea("WARNING",900),ia=new ea("CONFIG",700),oa=new ea("FINE",500);function aa(t){return t.c?t.c:t.a?aa(t.a):(M("Root logger has no level set."),null)}ta.prototype.log=function(t,e,n){if(t.value>=aa(this).value)for(p(e)&&(e=e()),t=new $o(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var sa={},ua=null;function ca(t){var e;if(ua||(ua=new ta(""),sa[""]=ua,ua.c=ia),!(e=sa[t])){e=new ta(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=ca(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,sa[t]=e}return e}function la(t,e){t&&t.log(oa,e,void 0)}function ha(t){this.f=t}function fa(t){wn.call(this),this.u=t,this.h=void 0,this.readyState=da,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ca("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}O(ha,Go),ha.prototype.a=function(){return new fa(this.f)},ha.prototype.b=function(t){return function(){return t}}({}),O(fa,wn);var da=0;function pa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function va(t){t.readyState=4,t.g=null,t.c=null,t.m=null,ga(t)}function ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ya(t){wn.call(this),this.headers=new xn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=ma,this.u=this.S=!1}(t=fa.prototype).open=function(t,e){if(this.readyState!=da)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,ga(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,va(this)),this.readyState=da},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,ga(this)),this.a&&(this.readyState=3,ga(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,pa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?va(this):ga(this),3==this.readyState&&pa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,va(this))},t.sc=function(t){this.a&&(this.response=t,va(this))},t.Ua=function(t){var e=this.i;e&&e.log(ra,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&va(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ra,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ra,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),O(ya,wn);var ma="";ya.prototype.b=ca("goog.net.XhrIo");var ba=/^https?$/i,_a=["POST","PUT"];function wa(t){return"content-type"==t.toLowerCase()}function ka(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ca(t),Ea(t)}function Ca(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Oa(t){if(t.c&&void 0!==a)if(t.C[1]&&4==Ta(t)&&2==Ia(t))la(t.b,xa(t,"Local request error detected and ignored"));else if(t.i&&4==Ta(t))En(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ta(t)){la(t.b,xa(t,"Request complete")),t.c=!1;try{var e,n=Ia(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&s.self&&s.self.location){var u=s.self.location.protocol;o=u.substr(0,u.length-1)}i=!ba.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ta(t)?t.a.statusText:""}catch(l){la(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Ia(t)+"]",Ca(t)}}finally{Ea(t)}}}function Ea(t,e){if(t.a){Sa(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(na,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Sa(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Ta(t){return t.a?t.a.readyState:0}function Ia(t){try{return 2<Ta(t)?t.a.status:-1}catch(e){return-1}}function xa(t,e){return e+" ["+t.R+" "+t.l+" "+Ia(t)+"]"}function Pa(t){var e=Ba;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Aa(t,e,n){t.a=!0,t.c=n,t.f=!e,Da(t)}function Ra(t){if(t.a){if(!t.v)throw new Ma(t);t.v=!1}}function Na(t,e,n,r){t.g.push([e,n,r]),t.a&&Da(t)}function ja(t){return G(t.g,function(t){return p(t[1])})}function Da(t){if(t.h&&t.a&&ja(t)){var e=t.h,n=Va[e];n&&(s.clearTimeout(n.a),delete Va[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(N(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,ja(t)||(n=!0)}}t.c=e,r&&(u=w(t.m,t,!0),r=w(t.m,t,!1),e instanceof Pa?(Na(e,u,r),e.C=!0):e.then(u,r)),n&&(e=new Fa(e),Va[e.a]=e,t.h=e.a)}function Ma(){j.call(this)}function La(){j.call(this)}function Fa(t){this.a=s.setTimeout(w(this.c,this),0),this.b=t}(t=ya.prototype).Ma=function(){void 0!==a&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",la(this.b,xa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(la(this.b,xa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ea(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ea(this,!0)),ya.ab.Da.call(this)},t.Vb=function(){this.xa||(this.O||this.i||this.f?Oa(this):this.Jc())},t.Jc=function(){Oa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ma:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(na,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return la(this.b,"Can not get response: "+e.message),null}},Pa.prototype.cancel=function(t){if(this.a)this.c instanceof Pa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new La(this),Ra(this),Aa(this,!1,t))}},Pa.prototype.m=function(t,e){this.i=!1,Aa(this,t,e)},Pa.prototype.then=function(t,e,n){var r,i,o=new _e(function(t,e){r=t,i=e});return Na(this,r,function(t){t instanceof La?o.cancel():i(t)}),o.then(t,e,n)},Pa.prototype.$goog_Thenable=!0,O(Ma,j),Ma.prototype.message="Deferred has already fired",Ma.prototype.name="AlreadyCalledError",O(La,j),La.prototype.message="Deferred was canceled",La.prototype.name="CanceledError",Fa.prototype.c=function(){throw delete Va[this.a],this.b};var Va={};function Ua(t){var e={},n=e.document||document,r=St(t).toString(),i=pe(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Pa(o),u=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(u=window.setTimeout(function(){qa(i,!0);var t=new Wa(Ha,"Timeout reached for loading script "+r);Ra(a),Aa(a,!1,t)},h),o.Ma=u),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(qa(i,e.xd||!1,u),Ra(a),Aa(a,!0,null))},i.onerror=function(){qa(i,!0,u);var t=new Wa(za,"Error while loading script "+r);Ra(a),Aa(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ce(i,o),function(t,e){mt(t,"HTMLScriptElement"),t.src=St(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=s?e=l(e.document):(null===c&&(c=l(s.document)),e=c),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Ba(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&qa(t,!0,this.Ma)}}function qa(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var za=0,Ha=1;function Wa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),j.call(this,n),this.code=t}function Ka(t){this.f=t}function Ga(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Xa,this.g=vt(t.secureTokenHeaders||Za),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Ja,this.a=vt(t.firebaseHeaders||$a),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==kr(),!(n=s.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!wr())throw new S("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=wr()?new ha(self):Cr()?new Ka(n):new Xo,this.b=null}O(Wa,j),O(Ka,Go),Ka.prototype.a=function(){return new this.f},Ka.prototype.b=function(){return{}};var Qa,Ya="idToken",Xa=new Br(3e4,6e4),Za={"Content-Type":"application/x-www-form-urlencoded"},Ja=new Br(3e4,6e4),$a={"Content-Type":"application/json"};function ts(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function es(t,e){e&&(t.l=ns("https://securetoken.googleapis.com/v1/token",e),t.h=ns("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=ns("https://identitytoolkit.googleapis.com/v2/",e))}function ns(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,jn(t,e.c),t.a=e.a,Dn(t,e.g),t.toString()}function rs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function is(t,e,n,r,i,o,a){(function(){var t=Ir();return!((t="Chrome"!=Er(t)?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Yt&&ae&&!(9<ae))})()||wr()?t=w(t.u,t):(Qa||(Qa=new _e(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[as]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Na(t,null,e,void 0)}(Ua(Tt(os,{onload:as})),function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=w(t.s,t)),t(e,n,r,i,o,a)}Ga.prototype.T=function(){return this.b},Ga.prototype.u=function(t,e,n,r,i,o){if(wr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new S("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new ya(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout(function(){a.dispatchEvent("timeout")},o)}kn(a,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return la(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Cn(a,"ready",function(){u&&clearTimeout(u),We(this)}),Cn(a,"timeout",function(){u&&clearTimeout(u),We(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():qo.a(),t.C=function(t){return t.c||(t.c=t.b())}(t.D?t.D:qo),t.a.onreadystatechange=w(t.Vb,t);try{la(t.b,xa(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return la(t.b,xa(t,"Error opening Xhr: "+a.message)),void ka(t,a)}e=r||"";var o=new xn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(d(t)||"string"==typeof t)H(t,e,void 0);else for(var n=In(t),r=Tn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=wa,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.Y()),r=s.FormData&&e instanceof s.FormData,!Q(_a,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Sa(t),0<t.g&&(t.u=function(t){return Yt&&oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),la(t.b,xa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=w(t.Ma,t)):t.s=En(t.Ma,t.g,t)),la(t.b,xa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){la(t.b,xa(t,"Send error: "+a.message)),ka(t,a)}}(a,t,n,r,i)};var os=new bt(Ct,"https://apis.google.com/js/client.js?onload=%{onload}"),as="__fcb"+Math.floor(1e6*Math.random()).toString();function ss(t){if("string"!=typeof(t=t.email)||!yr.test(t))throw new S("invalid-email")}function us(t){"email"in t&&ss(t)}function cs(t){if(!t[Ya]){if(t.mfaPendingCredential)throw new S("multi-factor-auth-required",null,vt(t));throw new S("internal-error")}}function ls(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new S("internal-error")}else{if(!t.sessionInfo)throw new S("missing-verification-id");if(!t.code)throw new S("missing-verification-code")}}Ga.prototype.s=function(t,e,n,r,i){var o=this;Qa.then(function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).o(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ga.prototype.zb=function(){return $s(this,Bs,{})},Ga.prototype.Bb=function(t,e){return $s(this,Vs,{idToken:t,email:e})},Ga.prototype.Cb=function(t,e){return $s(this,Us,{idToken:t,password:e})};var hs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fs(t){if(!t.phoneVerificationInfo)throw new S("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new S("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new S("missing-verification-code")}function ds(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new S("internal-error")}function ps(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&$n(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function vs(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ko(t)):t.errorMessage&&(e=tu(t.errorMessage)),e)throw e;cs(t)}function gs(t,e){return e.returnIdpCredential=!0,$s(t,Hs,e)}function ys(t,e){return e.returnIdpCredential=!0,$s(t,Ks,e)}function ms(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,$s(t,Ws,e)}function bs(t){if(!t.oobCode)throw new S("invalid-action-code")}(t=Ga.prototype).Db=function(t,e){var n={idToken:t},r=[];return dt(hs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),$s(this,Vs,n)},t.vb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),$s(this,js,t)},t.wb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),$s(this,As,t)},t.ub=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),$s(this,Rs,t)},t.Eb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),$s(this,Ns,t)},t.fb=function(t){return $s(this,Ys,t)},t.nb=function(t,e){return $s(this,Ls,{oobCode:t,newPassword:e})},t.Ra=function(t){return $s(this,ws,{oobCode:t})},t.jb=function(t){return $s(this,_s,{oobCode:t})};var _s={endpoint:"setAccountInfo",A:bs,Z:"email",B:!0},ws={endpoint:"resetPassword",A:bs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new S("internal-error")},B:!0},ks={endpoint:"signupNewUser",A:function(t){if(ss(t),!t.password)throw new S("weak-password")},G:cs,V:!0,B:!0},Cs={endpoint:"createAuthUri",B:!0},Os={endpoint:"deleteAccount",N:["idToken"]},Es={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new S("internal-error")}},Ss={endpoint:"emailLinkSignin",N:["email","oobCode"],A:ss,G:cs,V:!0,B:!0},Ts={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:ss,G:cs,V:!0},Is={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:fs,G:cs,B:!0,Na:!0},xs={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:fs,G:cs,B:!0,Na:!0},Ps={endpoint:"getAccountInfo"},As={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new S("internal-error");ss(t)},Z:"email",B:!0},Rs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},Ns={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new S("internal-error")},Z:"email",B:!0},js={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new S("internal-error");ss(t)},Z:"email",B:!0},Ds={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Ms={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new S("internal-error")}},Ls={endpoint:"resetPassword",A:bs,Z:"email",B:!0},Fs={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Vs={endpoint:"setAccountInfo",N:["idToken"],A:us,V:!0},Us={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(us(t),!t.password)throw new S("weak-password")},G:cs,V:!0},Bs={endpoint:"signupNewUser",G:cs,V:!0,B:!0},qs={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new S("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new S("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},zs={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new S("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new S("internal-error")},B:!0,Na:!0},Hs={endpoint:"verifyAssertion",A:ds,Ya:ps,G:vs,V:!0,B:!0},Ws={endpoint:"verifyAssertion",A:ds,Ya:ps,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new S("user-not-found");if(t.errorMessage)throw tu(t.errorMessage);cs(t)},V:!0,B:!0},Ks={endpoint:"verifyAssertion",A:function(t){if(ds(t),!t.idToken)throw new S("internal-error")},Ya:ps,G:vs,V:!0},Gs={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new S("invalid-custom-token")},G:cs,V:!0,B:!0},Qs={endpoint:"verifyPassword",A:function(t){if(ss(t),!t.password)throw new S("wrong-password")},G:cs,V:!0,B:!0},Ys={endpoint:"verifyPhoneNumber",A:ls,G:cs,B:!0},Xs={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new S("internal-error");ls(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ko(t);cs(t)}},Zs={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ls,G:cs,B:!0},Js={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ya]^!!t.refreshToken)throw new S("internal-error")},B:!0,Na:!0};function $s(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.N))return Ie(new S("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return Te(n).then(e.A).then(function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o,a){var s=Vn(e+n);Ln(s,"key",t.c),a&&Ln(s,"cb",C().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Ln(s,c,i[c]);return new _e(function(e,n){is(t,s.toString(),function(t){t?t.error?n(eu(t,o||{})):e(t):n(new S("network-request-failed"))},r,u?void 0:rr(Mr(i)),t.a,t.v.get())})}(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)}).then(function(t){return r=t,e.Ya?e.Ya(n,r):r}).then(e.G).then(function(){if(!e.Z)return r;if(!(e.Z in r))throw new S("internal-error");return r[e.Z]})}function tu(t){return eu({error:{errors:[{message:t}],code:400,message:t}})}function eu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new S(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new S(r[i],e);return!e&&t&&(e=Dr(t)),new S("internal-error",e)}function nu(t){this.b=t,this.a=null,this.rb=function(t){return(au||(au=new _e(function(t,e){function n(){Ur(),xr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ur(),e(Error("Network Error"))},timeout:iu.get()})}if(xr("gapi.iframes.Iframe"))t();else if(xr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){xr("gapi.load")?n():e(Error("Network Error"))},Te(Ua(r=Tt(ru,{onload:r}))).o(function(){e(Error("Network Error"))})}}).o(function(t){throw au=null,t}))).then(function(){return new _e(function(e,n){xr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},ou.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var ru=new bt(Ct,"https://apis.google.com/js/api.js?onload=%{onload}"),iu=new Br(3e4,6e4),ou=new Br(5e3,15e3),au=null;function su(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,t=this.g?Un((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):Un("https",this.l,null,"/__/auth/iframe"),this.a=t,Ln(this.a,"apiKey",this.h),Ln(this.a,"appName",this.i),this.b=null,this.c=[]}function uu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cu(t){try{return r.a.app(t).auth().Ga()}catch(e){return[]}}function lu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function hu(t){var e=lr();return function(t){return $s(t,Ds,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:gr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Ho(lr())})}function fu(t){return t.m||(t.m=mr().then(function(){if(!t.u){var e=t.c,n=t.i,r=cu(t.b),i=new su(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=J(r||[]),t.u=i.toString()}t.v=new nu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then(function(){t.a.register("authEvent",e,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.v,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Uo(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Te(n)}return n.status="ERROR",Te(n)})}(t)})),t.m}function du(t){return t.l||(t.C=t.c?Tr(t.c,cu(t.b)):null,t.l=new Ga(t.g,R(t.i),t.C),t.f&&es(t.l,t.f)),t.l}function pu(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new uu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.yb(l).toString()}function vu(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new S("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function gu(t){this.b=t,this.a={},this.f=w(this.c,this)}su.prototype.toString=function(){return this.f?Ln(this.a,"v",this.f):Jn(this.a.b,"v"),this.b?Ln(this.a,"eid",this.b):Jn(this.a.b,"eid"),this.c.length?Ln(this.a,"fw",this.c.join(",")):Jn(this.a.b,"fw"),this.a.toString()},uu.prototype.yb=function(t){return this.h=t,this},uu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Un(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Un("https",this.u,null,"/__/auth/handler");if(Ln(t,"apiKey",this.s),Ln(t,"appName",this.c),Ln(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().la()}catch(u){n=null}for(var i in e.ob=n,Ln(t,"providerId",this.a.providerId),e=Mr((n=this.a).Ib))e[i]=e[i].toString();i=n.Qc,e=vt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.pb&&n.ob&&!e[n.pb]&&(e[n.pb]=n.ob),pt(e)||Ln(t,"customParameters",Dr(e))}if("function"==typeof this.a.Qb&&(n=this.a.Qb()).length&&Ln(t,"scopes",n.join(",")),this.l?Ln(t,"redirectUrl",this.l):Jn(t.b,"redirectUrl"),this.g?Ln(t,"eventId",this.g):Jn(t.b,"eventId"),this.i?Ln(t,"v",this.i):Jn(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Ln(t,s,this.b[s]);return this.h?Ln(t,"tid",this.h):Jn(t.b,"tid"),this.f?Ln(t,"eid",this.f):Jn(t.b,"eid"),(s=cu(this.c)).length&&Ln(t,"fw",s.join(",")),t.toString()},(t=lu.prototype).Ob=function(t,e,n){var r=new S("popup-closed-by-user"),i=new S("web-storage-unsupported"),o=this,a=!1;return this.ma().then(function(){(function(t){var e={type:"webStorageSupport"};return fu(t).then(function(){return function(t,e){return t.rb.then(function(){return new _e(function(n){t.a.send(e.type,e,n,xr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.v,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&pr(t),e(i),a=!0)})}).o(function(){}).then(function(){if(!a)return function(t){return new _e(function(e){return function n(){Sn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Sn(n).then(function(){e(r)})})},t.Xb=function(){var t=Ir();return!jr(t)&&!Vr(t)},t.Tb=function(){return!1},t.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ie(new S("popup-blocked"));if(a&&!jr())return this.ma().o(function(e){pr(t),i(e)}),r(),Te();this.a||(this.a=hu(du(this)));var u=this;return this.a.then(function(){var e=u.ma().o(function(e){throw pr(t),i(e),e});return r(),e}).then(function(){Fo(n),a||hr(pu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)}).o(function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t})},t.Nb=function(t,e,n,r){this.a||(this.a=hu(du(this)));var i=this;return this.a.then(function(){Fo(e),hr(pu(i.s,i.g,i.b,t,e,lr(),n,i.c,void 0,i.i,r,i.f))}).o(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ma=function(){var t=this;return fu(this).then(function(){return t.v.rb}).o(function(){throw t.a=null,new S("network-request-failed")})},t.$b=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Sa=function(t){X(this.h,function(e){return e==t})},(t=vu.prototype).get=function(t){return Te(this.a.getItem(t)).then(function(t){return t&&Lr(t)})},t.set=function(t,e){return Te(this.a.setItem(t,Dr(e)))},t.U=function(t){return Te(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var yu,mu=[];function bu(t,e,n){pt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function _u(t){this.a=t}function wu(t){this.c=t,this.b=!1,this.a=[]}function ku(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ie(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new _e(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Cu(t,c),e}).o(function(e){throw Cu(t,c),e})}function Cu(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),X(t.a,function(t){return t==e})}}function Ou(){if(!Iu())throw new S("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=s.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;wr()&&self?(this.v=function(){var t=wr()?self:null;if(H(mu,function(n){n.b==t&&(e=n)}),!e){var e=new gu(t);mu.push(e)}return e}(),bu(this.v,"keyChanged",function(e,n){return Nu(t).then(function(e){return 0<e.length&&H(t.a,function(t){t(e)}),{keyProcessed:Q(e,n.key)}})}),bu(this.v,"ping",function(){return Te(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?Te().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).o(function(){return null}):Te(null)}().then(function(e){(t.h=e)&&(t.g=new wu(new _u(e)),ku(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&Q(e[0].value,"keyChanged")&&(t.s=!0)}).o(function(){}))})}function Eu(t){return new _e(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new _e(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(t).then(function(){return Eu(t)}).then(function(t){e(t)}).o(function(t){n(t)})}})}function Su(t){return t.i||(t.i=Eu(t)),t.i}function Tu(t,e){var n=0;return new _e(function r(i,o){Su(t).then(e).then(i).o(function(e){if(!(3<++n))return Su(t).then(function(e){return e.close(),t.i=void 0,r(i,o)}).o(function(t){o(t)});o(e)})})}function Iu(){try{return!!s.indexedDB}catch(Gt){return!1}}function xu(t){return t.objectStore("firebaseLocalStorage")}function Pu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Au(t){return new _e(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Ru(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?ku(t.g,"keyChanged",{key:e},t.s).then(function(){}).o(function(){}):Te()}function Nu(t){return Su(t).then(function(t){var e=xu(Pu(t,!1));return e.getAll?Au(e.getAll()):new _e(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=fr(t.c,n),t.c=n}return r})}function ju(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Du(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Te().then(function(){if(Iu()){var t=Fr(),r="__sak"+t;return yu||(yu=new Ou),(n=yu).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)}).then(function(){return n}).o(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.ca(function(t){H(e.a,function(e){e(t)})}),t})}function Mu(){this.a={},this.type="inMemory"}function Lu(){if(!function(){var t="Node"==kr();if(!(t=Fu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==kr())throw new S("internal-error","The LocalStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Fu()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Fu(){try{var t=s.localStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Vu(){this.type="nullStorage"}function Uu(){if(!function(){var t="Node"==kr();if(!(t=Bu()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==kr())throw new S("internal-error","The SessionStorage compatibility library was not found.");throw new S("web-storage-unsupported")}this.a=Bu()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Bu(){try{var t=s.sessionStorage,e=Fr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function qu(){var t={};t.Browser=Wu,t.Node=Ku,t.ReactNative=Gu,t.Worker=Qu,this.a=t[kr()]}gu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];H(r,function(e){i.push(Te().then(function(){return e(t.origin,t.data.data)}))}),Pe(i).then(function(r){var i=[];H(r,function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})}),H(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},_u.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},wu.prototype.close=function(){for(;0<this.a.length;)Cu(this,this.a[0]);this.b=!0},(t=Ou.prototype).set=function(t,e){var n=this,r=!1;return Tu(this,function(e){return Au((e=xu(Pu(e,!0))).get(t))}).then(function(i){return Tu(n,function(o){if(o=xu(Pu(o,!0)),i)return i.value=e,Au(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Au(o.add(a))})}).then(function(){return n.c[t]=e,Ru(n,t)}).oa(function(){r&&n.b--})},t.get=function(t){return Tu(this,function(e){return Au(xu(Pu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.U=function(t){var e=this,n=!1;return Tu(this,function(r){return n=!0,e.b++,Au(xu(Pu(r,!0)).delete(t))}).then(function(){return delete e.c[t],Ru(e,t)}).oa(function(){n&&e.b--})},t.ca=function(t){0==this.a.length&&function(t){ju(t),function e(){t.f=setTimeout(function(){t.l=Nu(t).then(function(e){0<e.length&&H(t.a,function(t){t(e)})}).then(function(){e()}).o(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ia=function(t){X(this.a,function(e){return e==t}),0==this.a.length&&ju(this)},(t=Du.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.U=function(t){return this.b.then(function(e){return e.U(t)})},t.ca=function(t){this.a.push(t)},t.ia=function(t){X(this.a,function(e){return e==t})},(t=Mu.prototype).get=function(t){return Te(this.a[t])},t.set=function(t,e){return this.a[t]=e,Te()},t.U=function(t){return delete this.a[t],Te()},t.ca=function(){},t.ia=function(){},(t=Lu.prototype).get=function(t){var e=this;return Te().then(function(){return Lr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(t){s.window&&cn(s.window,"storage",t)},t.ia=function(t){s.window&&fn(s.window,"storage",t)},(t=Vu.prototype).get=function(){return Te(null)},t.set=function(){return Te()},t.U=function(){return Te()},t.ca=function(){},t.ia=function(){},(t=Uu.prototype).get=function(t){var e=this;return Te().then(function(){return Lr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Te().then(function(){var r=Dr(e);null===r?n.U(t):n.a.setItem(t,r)})},t.U=function(t){var e=this;return Te().then(function(){e.a.removeItem(t)})},t.ca=function(){},t.ia=function(){};var zu,Hu,Wu={F:Lu,bb:Uu},Ku={F:Lu,bb:Uu},Gu={F:vu,bb:Vu},Qu={F:Lu,bb:Vu},Yu={rd:"local",NONE:"none",td:"session"};function Xu(){var t=!(Vr(Ir())||!_r()),e=jr(),n=Pr();this.m=t,this.h=e,this.l=n,this.a={},zu||(zu=new qu),t=zu;try{this.g=!cr()&&Hr()||!s.indexedDB?new t.a.F:new Du(wr()?new Mu:new t.a.F)}catch(r){this.g=new Mu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Mu}this.v=new Mu,this.f=w(this.Yb,this),this.b={}}function Zu(){return Hu||(Hu=new Xu),Hu}function Ju(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function $u(t,e){return"firebase:"+t.name+(e?":"+e:"")}function tc(t,e,n){return n=$u(e,n),"local"==e.F&&(t.b[n]=null),Ju(t,e.F).U(n)}function ec(t){t.c&&(clearInterval(t.c),t.c=null)}function nc(t){this.a=t,this.b=Zu()}(t=Xu.prototype).get=function(t,e){return Ju(this,t.F).get($u(t,e))},t.set=function(t,e,n){var r=$u(t,n),i=this,o=Ju(this,t.F);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.F&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=$u(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),pt(this.a)&&(Ju(this,"local").ca(this.f),this.h||(cr()||!Hr())&&s.indexedDB||!this.l||function(t){ec(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=$u(t,e),this.a[t]&&(X(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),pt(this.a)&&(Ju(this,"local").ia(this.f),ec(this))},t.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Ju(this,"local").ia(this.f):ec(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.mb(e))},Yt&&ae&&10==ae&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else H(t,w(this.mb,this))},t.mb=function(t){this.a[t]&&H(this.a[t],function(t){t()})};var rc,ic={name:"authEvent",F:"local"};function oc(){this.a=Zu()}function ac(t,e){this.b=sc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===rc&&(rc=s.Int32Array?new Int32Array(pc):pc),this.reset()}O(ac,function(){this.b=-1});for(var sc=64,uc=sc-1,cc=[],lc=0;lc<uc;lc++)cc[lc]=0;var hc=Z(128,cc);function fc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|rc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function dc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(fc(t),i=0);else{if(!d(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(fc(t),i=0)}}t.c=i,t.g+=n}ac.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):J(this.h)};var pc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function vc(){ac.call(this,8,gc)}O(vc,ac);var gc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function yc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new oc,this.g=new nc(this.h),this.f=null,this.b=[],this.a=this.c=null}function mc(t){return new S("invalid-cordova-configuration",t)}function bc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function _c(t){return t.f||(t.f=t.ma().then(function(){return new _e(function(e){t.Ea(function n(r){return e(r),t.Sa(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),wc(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=ro(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Lr(Fn(o=Vn(i),"firebaseError")||null))?T(o):null)?new Vo(r.c,r.b,null,null,o,null,r.T()):new Vo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}bc(t,i)})}var n=new Vo("unknown",null,null,null,new S("no-auth-event")),r=!1,i=Sn(500).then(function(){return wc(t).then(function(){r||bc(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(xr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new Bo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=xr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function wc(t){var e=null;return function(t){return t.b.get(ic,t.a).then(function(t){return Uo(t)})}(t.g).then(function(n){return e=n,tc((n=t.g).b,ic,n.a)}).then(function(){return e})}function kc(t){this.a=t,this.b=Zu()}(t=yc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(br(void 0)?mr().then(function(){return new _e(function(t,e){var n=s.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Ie(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof xr("universalLinks.subscribe",s))throw mc("cordova-universal-links-plugin-fix is not installed");if(void 0===xr("BuildInfo.packageName",s))throw mc("cordova-plugin-buildinfo is not installed");if("function"!=typeof xr("cordova.plugins.browsertab.openUrl",s))throw mc("cordova-plugin-browsertab is not installed");if("function"!=typeof xr("cordova.InAppBrowser.open",s))throw mc("cordova-plugin-inappbrowser is not installed")},function(){throw new S("cordova-not-ready")})},t.Ob=function(t,e){return e(new S("operation-not-supported-in-this-environment")),Te()},t.Mb=function(){return Ie(new S("operation-not-supported-in-this-environment"))},t.$b=function(){return!1},t.Xb=function(){return!0},t.Tb=function(){return!0},t.Nb=function(t,e,n,r){if(this.c)return Ie(new S("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Te().then(function(){return Fo(e),_c(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Vo(e,r,null,o,new S("no-auth-event"),null,i),u=xr("BuildInfo.packageName",s);if("string"!=typeof u)throw new S("invalid-cordova-configuration");var c=xr("BuildInfo.displayName",s),l={};if(Ir().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!Ir().toLowerCase().match(/android/))return Ie(new S("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=function(t){var e=new vc;dc(e,t),t=[];var n=8*e.g;dc(e,hc,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(fc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return K(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),l.sessionId=o;var h=pu(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then(function(){var e=t.h;return t.C.a.set(ic,a.w(),e)}).then(function(){var e=xr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new S("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=xr("cordova.plugins.browsertab.openUrl",s)))throw new S("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=xr("cordova.InAppBrowser.open",s)))throw new S("invalid-cordova-configuration");e=Ir(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new _e(function(t,e){u=function(){var e=xr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(u),l=function(){qr()&&c()},o.addEventListener("resume",c=function(){a||(a=Sn(2e3).then(function(){e(new S("redirect-cancelled-by-user"))}))},!1),Ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)}).o(function(t){return wc(i).then(function(){throw t})})}).oa(function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Sa(u),i.c=null})},t.Ea=function(t){this.b.push(t),_c(this).o(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Vo("unknown",null,null,null,new S("no-auth-event")),t(e))})},t.Sa=function(t){X(this.b,function(e){return e==t})};var Cc={name:"pendingRedirect",F:"session"};function Oc(t){return tc(t.b,Cc,t.a)}function Ec(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=w(this.s,this),this.b=new Uc,this.C=new Wc,this.g=new kc(Fc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Sc(this.D,this.v,this.m,I,this.J)}function Sc(t,e,n,i,o){var a=r.a.SDK_VERSION||null;return br()?new yc(t,e,n,a,i,o):new lu(t,e,n,a,i,o)}function Tc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o(function(n){throw t.a==e&&t.reset(),n})}function Ic(t){t.a.Xb()&&Tc(t).o(function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)}),t.a.Tb()||Bc(t.b)}function xc(t,e){Q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Cc,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Oc(t.g).then(function(){Tc(t).o(function(e){var n=new Vo("unknown",null,null,null,new S("operation-not-supported-in-this-environment"));jc(e)&&t.s(n)})}):Ic(t)}).o(function(){Ic(t)})}function Pc(t,e){X(t.h,function(t){return t==e})}Ec.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Sc(this.D,this.v,this.m,null,this.J),this.i={}},Ec.prototype.s=function(t){if(!t)throw new S("invalid-auth-event");if(6e5<=C()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=C())),e=!0;break}}return Bc(this.b),e};var Ac=new Br(2e3,1e4),Rc=new Br(3e4,6e4);function Nc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,function(){t.f||(t.f=!0,t.a.Ea(t.l))},function(){t.reset()},i,o,a)}function jc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Dc(t,e,n,r,i){var o;return function(t){return t.b.set(Cc,"pending",t.a)}(t.g).then(function(){return t.a.Nb(e,n,r,i).o(function(e){if(jc(e))throw new S("operation-not-supported-in-this-environment");return o=e,Oc(t.g).then(function(){throw o})}).then(function(){return t.a.$b()?new _e(function(){}):Oc(t.g).then(function(){return t.qa()}).then(function(){}).o(function(){})})})}function Mc(t,e,n,r,i){return t.a.Ob(r,function(t){e.na(n,null,t,i)},Ac.get())}Ec.prototype.qa=function(){return this.b.qa()};var Lc={};function Fc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Vc(t,e,n,r){var i=Fc(e,n,r);return Lc[i]||(Lc[i]=new Ec(t,e,n,r)),Lc[i]}function Uc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Bc(t){t.g||(t.g=!0,Hc(t,!1,null,null))}function qc(t){t.g&&!t.i&&Hc(t,!1,null,null)}function zc(t,e){if(t.b=function(){return Te(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Hc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ie(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):zc(t,n):zc(t,{user:null}),t.f=[],t.c=[]}function Wc(){}function Kc(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function Gc(t,e){this.a=e,Yr(this,"verificationId",t)}function Qc(t,e,n,r){return new Do(t).fb(e,n).then(function(t){return new Gc(t,r)})}function Yc(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new S("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Xr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function Xc(t,e,n){var r=e&&e[Jc];if(!r)throw new S("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new io(null,r),this.b=[];var i=this;H(e[Zc]||[],function(t){(t=ti(t))&&i.b.push(t)}),Yr(this,"auth",this.a),Yr(this,"session",this.c),Yr(this,"hints",this.b)}Uc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Uc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Hc(this,!0,null,t.a),Te()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then(function(e){Hc(t,s,e,null)}).o(function(e){Hc(t,s,null,e)})}(this,t,e):Ie(new S("invalid-auth-event")):(Hc(this,!1,null,null),Te())}else Ie(new S("invalid-auth-event"))},Uc.prototype.qa=function(){var t=this;return new _e(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new S("timeout");t.a&&t.a.cancel(),t.a=Sn(Rc.get()).then(function(){t.b||(t.g=!0,Hc(t,!0,null,e))})}(t))})},Wc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),Te()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then(function(t){e.na(r,t,null,n)}).o(function(t){e.na(r,null,t,n)})}(t,e):Ie(new S("invalid-auth-event"))}else Ie(new S("invalid-auth-event"))},Gc.prototype.confirm=function(t){return t=Mo(this.verificationId,t),this.a(t)};var Zc="mfaInfo",Jc="mfaPendingCredential";function $c(t,e,n,r){S.call(this,"multi-factor-auth-required",r,e),this.b=new Xc(t,e,n),Yr(this,"resolver",this.b)}function tl(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new $c(e,t.serverResponse,n,t.message)}catch(r){}return null}function el(){}function nl(t){Yr(this,"factorId",t.fa),this.a=t}function rl(t){if(nl.call(this,t),this.a.fa!=Do.PROVIDER_ID)throw new S("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function il(t,e){for(var n in Xe.call(this,t),e)this[n]=e[n]}function ol(t,e){this.a=t,this.b=[],this.c=w(this.yc,this),cn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&H(e.multiFactor.enrolledFactors,function(t){var e=null,r={};if(t){t.uid&&(r[ri]=t.uid),t.displayName&&(r[ei]=t.displayName),t.enrollmentTime&&(r[ni]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[ii]=t.phoneNumber);try{e=new oi(r)}catch(i){}t=e}else t=null;t&&n.push(t)}),al(this,n)}function al(t,e){t.b=e,Yr(t,"enrolledFactors",e)}function sl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(t,e){t.stop(),t.b=Sn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then(function(){return function(){var t=s.document,e=null;return qr()||!t?Te():new _e(function(n){e=function(){qr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).o(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return t.h()}).then(function(){ul(t,!0)}).o(function(e){t.i(e)&&ul(t,!1)})}function cl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function ll(t,e){void 0===e&&(e=t.b?(e=t.b).a-e.g:0),t.c=Date.now()+1e3*e}function hl(t,e){t.b=qi(e[Ya]||""),t.a=e.refreshToken,ll(t,void 0!==(e=e.expiresIn)?Number(e):void 0)}function fl(t,e){this.a=t||null,this.b=e||null,Xr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function dl(t,e,n,r,i,o){Xr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function pl(t,e,n){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.a.SDK_VERSION?Tr(r.a.SDK_VERSION):null;this.a=new Ga(this.l,R(I),i),t.emulatorConfig&&es(this.a,t.emulatorConfig),this.b=new cl(this.a),kl(this,e[Ya]),hl(this.b,e),Yr(this,"refreshToken",this.b.a),El(this,n||{}),wn.call(this),this.R=!1,this.s&&Ar()&&(this.i=Vc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new sl(function(){return t.I(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0})}(this),this.aa=w(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){es(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){yl(o,t.f)},this.ba=null,this.O=new ol(this,n),Yr(this,"multiFactor",this.O)}function vl(t,e){t.ja&&fn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&cn(e,"languageCodeChanged",t.Oa)}function gl(t,e){t.X&&fn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&cn(e,"emulatorConfigChanged",t.Aa)}function yl(t,e){t.$=e,rs(t.a,r.a.SDK_VERSION?Tr(r.a.SDK_VERSION,t.$):null)}function ml(t,e){t.ba&&fn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&cn(e,"frameworkChanged",t.Ba)}function bl(t){try{return r.a.app(t.m).auth()}catch(e){throw new S("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function _l(t){t.D||t.u.b||(t.u.start(),fn(t,"tokenChanged",t.aa),cn(t,"tokenChanged",t.aa))}function wl(t){fn(t,"tokenChanged",t.aa),t.u.stop()}function kl(t,e){t.za=e,Yr(t,"_lat",e)}function Cl(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Pe(e).then(function(){return t})}function Ol(t){t.i&&!t.R&&(t.R=!0,xc(t.i,t))}function El(t,e){Xr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new fl(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Sl(){}function Tl(t){return Te().then(function(){if(t.D)throw new S("app-deleted")})}function Il(t){return K(t.providerData,function(t){return t.providerId})}function xl(t,e){e&&(Pl(t,e.providerId),t.providerData.push(e))}function Pl(t,e){X(t.providerData,function(t){return t.providerId==e})}function Al(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Yr(t,e,n)}function Rl(t,e){t!=e&&(Xr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Yr(t,"metadata",e.metadata?function(t){return new fl(t.a,t.b)}(e.metadata):new fl),H(e.providerData,function(e){xl(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Yr(t,"refreshToken",t.b.a),al(t.O,e.O.b))}function Nl(t){return t.I().then(function(e){var n=t.isAnonymous;return function(t,e){return $s(t.a,Ps,{idToken:e}).then(w(t.Kc,t))}(t,e).then(function(){return n||Al(t,"isAnonymous",!1),e})})}function jl(t,e){e[Ya]&&t.za!=e[Ya]&&(hl(t.b,e),t.dispatchEvent(new il("tokenChanged")),kl(t,e[Ya]),Al(t,"refreshToken",t.b.a))}function Dl(t,e){return Nl(t).then(function(){if(Q(Il(t),e))return Cl(t).then(function(){throw new S("provider-already-linked")})})}function Ml(t,e,n){return Zr({user:t,credential:Lo(e),additionalUserInfo:e=Qi(e),operationType:n})}function Ll(t,e){return jl(t,e),t.reload().then(function(){return t})}function Fl(t,e,n,i,o){if(!Ar())return Ie(new S("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ie(t.h);var a=Gi(n.providerId),s=Fr(t.uid+":::"),u=null;(!jr()||_r())&&t.s&&n.isOAuthProvider&&(u=pu(t.s,t.l,t.m,e,n,null,s,r.a.SDK_VERSION||null,null,null,t.tenantId));var c=vr(u,a&&a.ua,a&&a.ta);return i=i().then(function(){if(Ul(t),!o)return t.I().then(function(){})}).then(function(){return Nc(t.i,c,e,n,s,!!u,t.tenantId)}).then(function(){return new _e(function(n,r){t.na(e,null,new S("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Mc(t.i,t,e,c,s)})}).then(function(t){return c&&pr(c),t?Zr(t):null}).o(function(t){throw c&&pr(c),t}),Bl(t,i,o)}function Vl(t,e,n,r,i){if(!Ar())return Ie(new S("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ie(t.h);var o=null,a=Fr(t.uid+":::");return r=r().then(function(){if(Ul(t),!i)return t.I().then(function(){})}).then(function(){return t.ga=a,Cl(t)}).then(function(e){return t.ha&&(e=(e=t.ha).b.set(Hl,t.w(),e.a)),e}).then(function(){return Dc(t.i,e,n,a,t.tenantId)}).o(function(e){if(o=e,t.ha)return Wl(t.ha);throw o}).then(function(){if(o)throw o}),Bl(t,r,i)}function Ul(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new S("internal-error");throw new S("auth-domain-config-required")}}function Bl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ie(t.h)):e.o(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new il("userInvalidated")),t.h=e),e})}(t,e,n);return t.J.push(r),r.oa(function(){Y(t.J,r)}),r.o(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),bl(t),w(t.jc,t))),n||e})}function ql(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ya]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new pl(e,n,t);return t.providerData&&H(t.providerData,function(t){t&&xl(i,Zr(t))}),t.redirectEventId&&(i.ga=t.redirectEventId),i}function zl(t){this.a=t,this.b=Zu()}Xc.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then(function(t){var n=vt(e.f);return delete n[Zc],delete n[Jc],yt(n,t),e.g(n)})},O($c,S),el.prototype.sb=function(t,e,n){return e.type==oo?function(t,e,n,r){return n.Ha().then(function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),yt(n,{phoneVerificationInfo:jo(t.a)}),$s(e,Is,n)})}(this,t,e,n):function(t,e,n){return n.Ha().then(function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),$s(e,xs,n)})}(this,t,e)},O(nl,el),O(rl,nl),O(il,Xe),(t=ol.prototype).yc=function(t){al(this,function(t){var e=[];return H(t.mfaInfo||[],function(t){(t=ti(t))&&e.push(t)}),e}(t.hd))},t.Rb=function(){return this.a.I().then(function(t){return new io(t,null)})},t.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then(function(n){return t.sb(r,n,e)}).then(function(t){return jl(n.a,t),n.a.reload()})},t.bd=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then(function(t){return $s(r,Js,{idToken:t,mfaEnrollmentId:n})}).then(function(t){var r=W(e.b,function(t){return t.uid!=n});return al(e,r),jl(e.a,t),e.a.reload().o(function(t){if("auth/user-token-expired"!=t.code)throw t})})},t.w=function(){return{multiFactor:{enrolledFactors:K(this.b,function(t){return t.w()})}}},sl.prototype.start=function(){this.a=this.c,ul(this,!0)},sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},cl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},cl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ie(new S("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?function(t,e){return function(t,e){return new _e(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?is(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(eu(t)):t.access_token&&t.refresh_token?n(t):r(new S("internal-error")):r(new S("network-request-failed"))},"POST",Zn(e).toString(),t.g,t.m.get()):r(new S("internal-error"))})}(t.f,e).then(function(e){return t.b=qi(e.access_token),t.a=e.refresh_token,ll(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}}).o(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Te(null):Te({accessToken:this.b.toString(),refreshToken:this.a})},fl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},O(pl,wn),pl.prototype.wa=function(t){this.ya=t,ts(this.a,t)},pl.prototype.la=function(){return this.ya},pl.prototype.Ga=function(){return J(this.$)},pl.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Yr(pl.prototype,"providerId","firebase"),(t=pl.prototype).reload=function(){var t=this;return Bl(this,Tl(this).then(function(){return Nl(t).then(function(){return Cl(t)}).then(Sl)}))},t.oc=function(t){return this.I(t).then(function(t){return new Yc(t)})},t.I=function(t){var e=this;return Bl(this,Tl(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new S("internal-error");return t.accessToken!=e.za&&(kl(e,t.accessToken),e.dispatchEvent(new il("tokenChanged"))),Al(e,"refreshToken",t.refreshToken),t.accessToken}))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new S("internal-error");El(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?K(t,function(t){return new dl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)xl(this,e[n]);Al(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new il("userReloaded",{hd:t}))},t.Lc=function(t){return Gr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},t.tb=function(t){var e=this,n=null;return Bl(this,t.c(this.a,this.uid).then(function(t){return jl(e,t),n=Ml(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.Cc=function(t){return Gr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},t.qb=function(t){var e=this,n=null;return Bl(this,Dl(this,t.providerId).then(function(){return e.I()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ml(e,t,"link"),Ll(e,t)}).then(function(){return n}))},t.Dc=function(t,e){var n=this;return Bl(this,Dl(this,"phone").then(function(){return Qc(bl(n),t,e,w(n.qb,n))}))},t.Mc=function(t,e){var n=this;return Bl(this,Te().then(function(){return Qc(bl(n),t,e,w(n.tb,n))}),!0)},t.Bb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Bb(n,t)}).then(function(t){return jl(e,t),e.reload()}))},t.ed=function(t){var e=this;return Bl(this,this.I().then(function(n){return t.b(e.a,n)}).then(function(t){return jl(e,t),e.reload()}))},t.Cb=function(t){var e=this;return Bl(this,this.I().then(function(n){return e.a.Cb(n,t)}).then(function(t){return jl(e,t),e.reload()}))},t.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Tl(this);var e=this;return Bl(this,this.I().then(function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return jl(e,t),Al(e,"displayName",t.displayName||null),Al(e,"photoURL",t.photoUrl||null),H(e.providerData,function(t){"password"===t.providerId&&(Yr(t,"displayName",e.displayName),Yr(t,"photoURL",e.photoURL))}),Cl(e)}).then(Sl))},t.cd=function(t){var e=this;return Bl(this,Nl(this).then(function(n){return Q(Il(e),t)?function(t,e,n){return $s(t,Es,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return H(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),H(Il(e),function(t){n[t]||Pl(e,t)}),n[Do.PROVIDER_ID]||Yr(e,"phoneNumber",null),Cl(e)}):Cl(e).then(function(){throw new S("no-such-provider")})}))},t.delete=function(){var t=this;return Bl(this,this.I().then(function(e){return $s(t.a,Os,{idToken:e})}).then(function(){t.dispatchEvent(new il("userDeleted"))})).then(function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");vl(t,null),gl(t,null),ml(t,null),t.J=[],t.D=!0,wl(t),Yr(t,"refreshToken",null),t.i&&Pc(t.i,t)})},t.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?w(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?w(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?w(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?w(this.Lb,this):null},t.Ec=function(t){var e=this;return Fl(this,"linkViaPopup",t,function(){return Dl(e,t.providerId).then(function(){return Cl(e)})},!1)},t.Nc=function(t){return Fl(this,"reauthViaPopup",t,function(){return Te()},!0)},t.Fc=function(t){var e=this;return Vl(this,"linkViaRedirect",t,function(){return Dl(e,t.providerId)},!1)},t.Oc=function(t){return Vl(this,"reauthViaRedirect",t,function(){return Te()},!0)},t.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,this.I().then(function(n){return ys(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ml(i,t,"link"),Ll(i,t)}).then(function(){return o}))},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Bl(this,Te().then(function(){return uo(ms(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ml(i,t,"reauthenticate"),jl(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.ub=function(t){var e=this,n=null;return Bl(this,this.I().then(function(e){return n=e,void 0===t||pt(t)?{}:Vi(new xi(t))}).then(function(t){return e.a.ub(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.Eb=function(t,e){var n=this,r=null;return Bl(this,this.I().then(function(t){return r=t,void 0===e||pt(e)?{}:Vi(new xi(e))}).then(function(e){return n.a.Eb(r,t,e)}).then(function(t){if(n.email!=t)return n.reload()}).then(function(){}))},t.jc=function(t){var e=null,n=this;return Bl(this,t=uo(Te(t),n.uid).then(function(t){return e=Ml(n,t,"reauthenticate"),jl(n,t),n.h=null,n.reload()}).then(function(){return e}),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),H(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),yt(t,this.O.w()),t};var Hl={name:"redirectUser",F:"session"};function Wl(t){return tc(t.b,Hl,t.a)}function Kl(t){this.a=t,this.b=Zu(),this.c=null,this.f=function(t){var e=Yl("local"),n=Yl("session"),r=Yl("none");return function(t,e,n){var r=$u(e,n),i=Ju(t,e.F);return t.get(e,n).then(function(o){var a=null;try{a=Lr(s.localStorage.getItem(r))}catch(u){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Ql,t.a).then(function(t){return t?Yl(t):e})})})}).then(function(e){return t.c=e,Gl(t,e.F)}).o(function(){t.c||(t.c=e)})}(this),this.b.addListener(Yl("local"),this.a,w(this.g,this))}function Gl(t,e){var n,r=[];for(n in Yu)Yu[n]!==e&&r.push(tc(t.b,Yl(Yu[n]),t.a));return r.push(tc(t.b,Ql,t.a)),function(t){return new _e(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)xe(t[s],k(o,s),a);else e(i)})}(r)}Kl.prototype.g=function(){var t=this,e=Yl("local");$l(this,function(){return Te().then(function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null}).then(function(n){if(n)return Gl(t,"local").then(function(){t.c=e})})})};var Ql={name:"persistence",F:"session"};function Yl(t){return{name:"authUser",F:t}}function Xl(t,e){return $l(t,function(){return t.b.set(t.c,e.w(),t.a)})}function Zl(t){return $l(t,function(){return tc(t.b,t.c,t.a)})}function Jl(t,e,n){return $l(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),ql(t||{})})})}function $l(t,e){return t.f=t.f.then(e,e),t.f}function th(t){if(this.l=!1,Yr(this,"settings",new Kc),Yr(this,"app",t),!uh(this).options||!uh(this).options.apiKey)throw new S("invalid-api-key");t=r.a.SDK_VERSION?Tr(r.a.SDK_VERSION):null,this.a=new Ga(uh(this).options&&uh(this).options.apiKey,R(I),t),this.R=[],this.s=[],this.O=[],this.hb=r.a.INTERNAL.createSubscribe(w(this.zc,this)),this.X=void 0,this.bc=r.a.INTERNAL.createSubscribe(w(this.Ac,this)),ah(this,null),this.i=new Kl(uh(this).options.apiKey+":"+uh(this).name),this.D=new zl(uh(this).options.apiKey+":"+uh(this).name),this.$=fh(this,function(t){var e=uh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Hl,t.a).then(function(t){return t&&e&&(t.authDomain=e),ql(t||{})})}(t.D,uh(t).options.authDomain).then(function(e){return(t.m=e)&&(e.ha=t.D),Wl(t.D)});return fh(t,e)}(t).then(function(){return Jl(t.i,e,t.P)}).then(function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then(function(){return Xl(t.i,e).then(function(){return e})}).o(function(n){return"auth/network-request-failed"==n.code?e:Zl(t.i)})):null}).then(function(e){ah(t,e||null)});return fh(t,n)}(this)),this.h=fh(this,function(t){return t.$.then(function(){return oh(t)}).o(function(){}).then(function(){if(!t.l)return t.ja()}).o(function(){}).then(function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Yl("local"),e.a,t.ja)}})}(this)),this.ba=!1,this.ja=w(this.Zc,this),this.Ba=w(this.da,this),this.ya=w(this.mc,this),this.za=w(this.wc,this),this.Aa=w(this.xc,this),this.b=null,function(t){var e=uh(t).options.authDomain,n=uh(t).options.apiKey;e&&Ar()&&(t.Oa=t.$.then(function(){if(!t.l){if(t.b=Vc(e,n,uh(t).name,t.P),xc(t.b,t),ch(t)&&Ol(ch(t)),t.m){Ol(t.m);var r=t.m;r.wa(t.la()),vl(r,t),yl(r=t.m,t.J),ml(r,t),es((r=t.m).a,t.P),gl(r,t),t.m=null}return t.b}}))}(this),this.INTERNAL={},this.INTERNAL.delete=w(this.delete,this),this.INTERNAL.logFramework=w(this.Gc,this),this.u=0,wn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=Zr({protocol:t.c,host:t.a,port:t.g,options:Zr({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function eh(t){Xe.call(this,"languageCodeChanged"),this.h=t}function nh(t){Xe.call(this,"emulatorConfigChanged"),this.c=t}function rh(t){Xe.call(this,"frameworkChanged"),this.f=t}function ih(t){return t.Oa||Ie(new S("auth-domain-config-required"))}function oh(t){if(!Ar())return Ie(new S("operation-not-supported-in-this-environment"));var e=ih(t).then(function(){return t.b.qa()}).then(function(t){return t?Zr(t):null});return fh(t,e)}function ah(t,e){ch(t)&&(function(t,e){X(t.S,function(t){return t==e})}(ch(t),t.Ba),fn(ch(t),"tokenChanged",t.ya),fn(ch(t),"userDeleted",t.za),fn(ch(t),"userInvalidated",t.Aa),wl(ch(t))),e&&(e.S.push(t.Ba),cn(e,"tokenChanged",t.ya),cn(e,"userDeleted",t.za),cn(e,"userInvalidated",t.Aa),0<t.u&&_l(e)),Yr(t,"currentUser",e),e&&(e.wa(t.la()),vl(e,t),yl(e,t.J),ml(e,t),es(e.a,t.P),gl(e,t))}function sh(t,e){var n=null,r=null;return fh(t,e.then(function(e){return n=Lo(e),r=Qi(e),function(t,e){var n={};return n.apiKey=uh(t).options.apiKey,n.authDomain=uh(t).options.authDomain,n.appName=uh(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then(function(){return function(t,e,n,r){var i=new pl(t,e);return n&&(i.ha=n),r&&yl(i,r),i.reload().then(function(){return i})}(n,e,t.D,t.Ga())}).then(function(e){return ch(t)&&e.uid==ch(t).uid?(Rl(ch(t),e),t.da(e)):(ah(t,e),Ol(e),t.da(e))}).then(function(){hh(t)})}(t,e)},function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=tl(e.w(),t,w(t.kc,t))),n||e}).then(function(){return Zr({user:ch(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function uh(t){return t.app}function ch(t){return t.currentUser}function lh(t){return ch(t)&&ch(t)._lat||null}function hh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](lh(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](lh(t))}}function fh(t,e){return t.R.push(e),e.oa(function(){Y(t.R,e)}),e}function dh(){}function ph(){this.a={},this.b=1e12}Kl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new S("invalid-persistence-type"),n=new S("unsupported-persistence-type");t:{for(r in Yu)if(Yu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(kr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Iu()&&"none"!==t)throw n;break;default:if(!Pr()&&"none"!==t)throw n}}(t),$l(this,function(){return t!=n.c.F?n.b.get(n.c,n.a).then(function(r){return e=r,Gl(n,t)}).then(function(){if(n.c=Yl(t),e)return n.b.set(n.c,e,n.a)}):Te()})},O(th,wn),O(eh,Xe),O(nh,Xe),O(rh,Xe),(t=th.prototype).xb=function(t){return fh(this,t=this.i.xb(t))},t.wa=function(t){this.aa===t||this.l||(this.aa=t,ts(this.a,this.aa),this.dispatchEvent(new eh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=s.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new S("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),s.document&&!t&&mr().then(function(){var t=s.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),s.document.body.appendChild(t)})})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,es(this.a,this.P),this.dispatchEvent(new nh(this.P))}},t.Gc=function(t){this.J.push(t),rs(this.a,r.a.SDK_VERSION?Tr(r.a.SDK_VERSION,this.J):null),this.dispatchEvent(new rh(this.J))},t.Ga=function(){return J(this.J)},t.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:uh(this).options.apiKey,authDomain:uh(this).options.authDomain,appName:uh(this).name,currentUser:ch(this)&&ch(this).w()}},t.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?w(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then(function(){return sh(i,gs(i.a,o))})},t.Xc=function(t){if(!Ar())return Ie(new S("operation-not-supported-in-this-environment"));var e=this,n=Gi(t.providerId),i=Fr(),o=null;(!jr()||_r())&&uh(this).options.authDomain&&t.isOAuthProvider&&(o=pu(uh(this).options.authDomain,uh(this).options.apiKey,uh(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null,null,null,this.T(),this.P));var a=vr(o,n&&n.ua,n&&n.ta);return fh(this,n=ih(this).then(function(n){return Nc(n,a,"signInViaPopup",t,i,!!o,e.T())}).then(function(){return new _e(function(t,n){e.na("signInViaPopup",null,new S("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Mc(e.b,e,"signInViaPopup",a,i)})}).then(function(t){return a&&pr(a),t?Zr(t):null}).o(function(t){throw a&&pr(a),t}))},t.Yc=function(t){if(!Ar())return Ie(new S("operation-not-supported-in-this-environment"));var e=this;return fh(this,ih(this).then(function(){return function(t){return $l(t,function(){return t.b.set(Ql,t.c.F,t.a)})}(e.i)}).then(function(){return Dc(e.b,"signInViaRedirect",t,void 0,e.T())}))},t.qa=function(){var t=this;return oh(this).then(function(e){return t.b&&qc(t.b.b),e}).o(function(e){throw t.b&&qc(t.b.b),e})},t.dd=function(t){if(!t)return Ie(new S("null-user"));if(this.S!=t.tenantId)return Ie(new S("tenant-id-mismatch"));var e=this,n={};n.apiKey=uh(this).options.apiKey,n.authDomain=uh(this).options.authDomain,n.appName=uh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[Ya]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new pl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&yl(e,r),Rl(e,t),e}(t,n,e.D,e.Ga());return fh(this,this.h.then(function(){if(uh(e).options.apiKey!=t.l)return r.reload()}).then(function(){return ch(e)&&t.uid==ch(e).uid?(Rl(ch(e),t),e.da(t)):(ah(e,r),Ol(r),e.da(r))}).then(function(){hh(e)}))},t.Ab=function(){var t=this;return fh(this,this.h.then(function(){return t.b&&qc(t.b.b),ch(t)?(ah(t,null),Zl(t.i).then(function(){hh(t)})):Te()}))},t.Zc=function(){var t=this;return Jl(this.i,uh(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=ch(t)&&e){n=ch(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Rl(ch(t),e),ch(t).I();(ch(t)||e)&&(ah(t,e),e&&(Ol(e),e.ha=t.D),t.b&&xc(t.b,t),hh(t))}})},t.da=function(t){return Xl(this.i,t)},t.mc=function(){hh(this),this.da(ch(this))},t.wc=function(){this.Ab()},t.xc=function(){this.Ab()},t.kc=function(t){var e=this;return this.h.then(function(){return sh(e,Te(t))})},t.zc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(ch(e))})},t.Ac=function(t){var e=this;!function(t,e){t.O.push(e),fh(t,t.h.then(function(){!t.l&&Q(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(lh(t)))}))}(this,function(){t.next(ch(e))})},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){"function"==typeof t?t(ch(r)):"function"==typeof t.next&&t.next(ch(r))}),this.hb(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then(function(){r.X=r.getUid(),"function"==typeof t?t(ch(r)):"function"==typeof t.next&&t.next(ch(r))}),this.bc(t,e,n)},t.nc=function(t){var e=this;return fh(this,this.h.then(function(){return ch(e)?ch(e).I(t).then(function(t){return{accessToken:t}}):null}))},t.Tc=function(t){var e=this;return this.h.then(function(){return sh(e,$s(e.a,Gs,{token:t}))}).then(function(t){var n=t.user;return Al(n,"isAnonymous",!1),e.da(n),t})},t.Uc=function(t,e){var n=this;return this.h.then(function(){return sh(n,$s(n.a,Qs,{email:t,password:e}))})},t.dc=function(t,e){var n=this;return this.h.then(function(){return sh(n,$s(n.a,ks,{email:t,password:e}))})},t.$a=function(t){var e=this;return this.h.then(function(){return sh(e,t.ka(e.a))})},t.Sc=function(t){return Gr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},t.zb=function(){var t=this;return this.h.then(function(){var e=ch(t);if(e&&e.isAnonymous){var n=Zr({providerId:null,isNewUser:!1});return Zr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return sh(t,t.a.zb()).then(function(e){var n=e.user;return Al(n,"isAnonymous",!0),t.da(n),e})})},t.getUid=function(){return ch(this)&&ch(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&ch(this)&&_l(ch(this))},t.Pc=function(t){var e=this;H(this.s,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&ch(this)&&wl(ch(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),fh(this,this.h.then(function(){e.l||Q(e.s,t)&&t(lh(e))}))},t.removeAuthTokenListener=function(t){X(this.s,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(Yl("local"),t.a,this.ja),this.b&&(Pc(this.b,this),qc(this.b.b)),Promise.resolve()},t.hc=function(t){return fh(this,function(t,e){return $s(t,Cs,{identifier:e,continueUri:Rr()?lr():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.a,t))},t.Bc=function(t){return!!Ao(t)},t.wb=function(t,e){var n=this;return fh(this,Te().then(function(){var t=new xi(e);if(!t.c)throw new S("argument-error",Ri+" must be true when sending sign in link to email");return Vi(t)}).then(function(e){return n.a.wb(t,e)}).then(function(){}))},t.jd=function(t){return this.Ra(t).then(function(t){return t.data.email})},t.nb=function(t,e){return fh(this,this.a.nb(t,e).then(function(){}))},t.Ra=function(t){return fh(this,this.a.Ra(t).then(function(t){return new ai(t)}))},t.jb=function(t){return fh(this,this.a.jb(t).then(function(){}))},t.vb=function(t,e){var n=this;return fh(this,Te().then(function(){return void 0===e||pt(e)?{}:Vi(new xi(e))}).then(function(e){return n.a.vb(t,e)}).then(function(){}))},t.Wc=function(t,e){return fh(this,Qc(this,t,e,w(this.$a,this)))},t.Vc=function(t,e){var n=this;return fh(this,Te().then(function(){var r=e||lr(),i=Po(t,r);if(!(r=Ao(r)))throw new S("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new S("tenant-id-mismatch");return n.$a(i)}))},dh.prototype.render=function(){},dh.prototype.reset=function(){},dh.prototype.getResponse=function(){},dh.prototype.execute=function(){};var vh=null;function gh(t,e){return(e=yh(e))&&t.a[e]||null}function yh(t){return(t=void 0===t?1e12:t)?t.toString():null}function mh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ue(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():cn(this.f,"click",this.i)}function bh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function _h(){}function wh(){}ph.prototype.render=function(t,e){return this.a[this.b.toString()]=new mh(t,e),this.b++},ph.prototype.reset=function(t){var e=gh(this,t);t=yh(t),e&&t&&(e.delete(),delete this.a[t])},ph.prototype.getResponse=function(t){return(t=gh(this,t))?t.getResponse():null},ph.prototype.execute=function(t){(t=gh(this,t))&&t.execute()},mh.prototype.getResponse=function(){return bh(this),this.b},mh.prototype.execute=function(){bh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},mh.prototype.delete=function(){bh(this),this.g=!0,clearTimeout(this.a),this.a=null,fn(this.f,"click",this.i)},Yr(_h,"FACTOR_ID","phone"),wh.prototype.g=function(){return vh||(vh=new ph),Te(vh)},wh.prototype.c=function(){};var kh=null;function Ch(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Oh=new bt(Ct,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Eh=new Br(3e4,6e4);Ch.prototype.g=function(t){var e=this;return new _e(function(n,r){var i=setTimeout(function(){r(new S("network-request-failed"))},Eh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new S("internal-error"));delete s[e.a]},Te(Ua(Tt(Oh,{onload:e.a,hl:t||""}))).o(function(){clearTimeout(i),r(new S("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},Ch.prototype.c=function(){this.b--};var Sh=null;function Th(t,e,n,r,i,o,a){if(Yr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(kh||(kh=new wh),a=kh):(Sh||(Sh=new Ch),a=Sh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ph])throw new S("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ah],!s.document)throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ue(e)||!this.i&&ue(e).hasChildNodes())throw new S("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ga(t,o||null,i||null),this.u=r||function(){return null};var u=this;this.l=[];var c=this.a[Ih];this.a[Ih]=function(t){if(Rh(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=xr(c,s);"function"==typeof e&&e(t)}};var l=this.a[xh];this.a[xh]=function(){if(Rh(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=xr(l,s);"function"==typeof t&&t()}}}var Ih="callback",xh="expired-callback",Ph="sitekey",Ah="size";function Rh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Nh(t,e){return t.h.push(e),e.oa(function(){Y(t.h,e)}),e}function jh(t){if(t.D)throw new S("internal-error","RecaptchaVerifier instance has been destroyed.")}function Dh(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(s){throw new S("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new S("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.a.SDK_VERSION?Tr(r.a.SDK_VERSION,a):null,Th.call(this,n,t,e,function(){try{var t=o.b.auth().la()}catch(e){t=null}return t},a,R(I),i)}function Mh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new S("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Lh.length)throw new S("internal-error","Argument validator received an unsupported number of arguments.");n=Lh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new S("argument-error",t+" failed: "+r)}(t=Th.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Nh(this,Te().then(function(){if(Rr()&&!wr())return mr();throw new S("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.u())}).then(function(e){return t.g=e,$s(t.s,Ms,{})}).then(function(e){t.a[Ph]=e.recaptchaSiteKey}).o(function(e){throw t.f=null,e}))},t.render=function(){jh(this);var t=this;return Nh(this,this.Ia().then(function(){if(null===t.c){var e=t.v;if(!t.i){var n=ue(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!se&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ht(a.name),'"'),a.type){o.push(' type="',Ht(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=pe(i,o),a&&("string"==typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ce(o,a)),2<r.length&&de(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){jh(this);var t=this;return Nh(this,this.render().then(function(e){return new _e(function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push(function e(r){r&&(function(t,e){X(t.l,function(t){return t==e})}(t,e),n(r))}),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){jh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){jh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ue(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},O(Dh,Th);var Lh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Fh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"==typeof t}}}function Vh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"==typeof t}}}function Uh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function Bh(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"==typeof t}}}function qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function zh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.ka||t&&e.providerId!==t)}}}function Hh(t,e){return v(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Ha}function Wh(t){return v(t)&&"string"==typeof t.uid}function Kh(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Gh(t,e){for(var n in e){var r=e[n].name;t[r]=Xh(r,t[n],e[n].j)}}function Qh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k(function(t){return this[t]},n),set:k(function(t,e,n,r){Mh(t,[n],[r],!0),this[e]=r},r,n,e[n].kb),enumerable:!0})}}function Yh(t,e,n,r){t[e]=Xh(e,n,r)}function Xh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Mh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Gh(th.prototype,{jb:{name:"applyActionCode",j:[Fh("code")]},Ra:{name:"checkActionCode",j:[Fh("code")]},nb:{name:"confirmPasswordReset",j:[Fh("code"),Fh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Fh("email"),Fh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Fh("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Fh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[Kh(Uh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[Kh(Uh(),Bh(),"nextOrObserver"),Bh("opt_error",!0),Bh("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[Fh("email"),Kh(Uh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[Fh("email"),Uh("actionCodeSettings")]},xb:{name:"setPersistence",j:[Fh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[zh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[zh()]},Tc:{name:"signInWithCustomToken",j:[Fh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Fh("email"),Fh("password")]},Vc:{name:"signInWithEmailLink",j:[Fh("email"),Fh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Fh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[Kh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof pl)}},qh(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Fh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Fh("url"),Uh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Fh("code")]}}),Qh(th.prototype,{lc:{name:"languageCode",kb:Kh(Fh(),qh(),"languageCode")},ti:{name:"tenantId",kb:Kh(Fh(),qh(),"tenantId")}}),(th.Persistence=Yu).LOCAL="local",th.Persistence.SESSION="session",th.Persistence.NONE="none",Gh(pl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Vh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Vh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[zh()]},qb:{name:"linkWithCredential",j:[zh()]},Dc:{name:"linkWithPhoneNumber",j:[Fh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[zh()]},tb:{name:"reauthenticateWithCredential",j:[zh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Fh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[Kh(Uh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Fh(null,!0)]},cd:{name:"unlink",j:[Fh("provider")]},Bb:{name:"updateEmail",j:[Fh("email")]},Cb:{name:"updatePassword",j:[Fh("password")]},ed:{name:"updatePhoneNumber",j:[zh("phone")]},Db:{name:"updateProfile",j:[Uh("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[Fh("email"),Kh(Uh("opt_actionCodeSettings",!0),qh(null,!0),"opt_actionCodeSettings",!0)]}}),Gh(ph.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(dh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Gh(_e.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qh(Kc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Vh("appVerificationDisabledForTesting")}}),Gh(Gc.prototype,{confirm:{name:"confirm",j:[Fh("verificationCode")]}}),Yh(so,"fromJSON",function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[vo,Io,No,ho],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[Kh(Fh(),Uh(),"json")]),Yh(xo,"credential",function(t,e){return new To(t,e)},[Fh("email"),Fh("password")]),Gh(To.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Gh(bo.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Yh(bo,"credential",_o,[Kh(Fh(),Uh(),"token")]),Yh(xo,"credentialWithLink",Po,[Fh("email"),Fh("emailLink")]),Gh(wo.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Yh(wo,"credential",ko,[Kh(Fh(),Uh(),"token")]),Gh(Co.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Yh(Co,"credential",Oo,[Kh(Fh(),Kh(Uh(),qh()),"idToken"),Kh(Fh(),qh(),"accessToken",!0)]),Gh(Eo.prototype,{Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Yh(Eo,"credential",So,[Kh(Fh(),Uh(),"token"),Fh("secret",!0)]),Gh(mo.prototype,{Ca:{name:"addScope",j:[Fh("scope")]},credential:{name:"credential",j:[Kh(Fh(),Kh(Uh(),qh()),"optionsOrIdToken"),Kh(Fh(),qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Uh("customOAuthParameters")]}}),Gh(fo.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Gh(co.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Yh(Do,"credential",Mo,[Fh("verificationId"),Fh("verificationCode")]),Gh(Do.prototype,{fb:{name:"verifyPhoneNumber",j:[Kh(Fh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?Hh(t.session,oo)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Hh(t.session,ao)&&Wh(t.multiFactorHint):t.session&&t.multiFactorUid?Hh(t.session,ao)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Gh(Ro.prototype,{w:{name:"toJSON",j:[Fh(null,!0)]}}),Gh(S.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Gh(Wo.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Gh(Ho.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Gh($c.prototype,{toJSON:{name:"toJSON",j:[Fh(null,!0)]}}),Gh(Xc.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),Gh(ol.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},Fh("displayName",!0)]},bd:{name:"unenroll",j:[Kh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Wh},Fh(),"multiFactorInfoIdentifier")]}}),Gh(Dh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yh(_i,"parseLink",Ii,[Fh("link")]),Yh(_h,"assertion",function(t){return new rl(t)},[zh("phone")]),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ui,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:si,VERIFY_AND_CHANGE_EMAIL:ci,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:th,AuthCredential:so,Error:S};Yh(t,"EmailAuthProvider",xo,[]),Yh(t,"FacebookAuthProvider",bo,[]),Yh(t,"GithubAuthProvider",wo,[]),Yh(t,"GoogleAuthProvider",Co,[]),Yh(t,"TwitterAuthProvider",Eo,[]),Yh(t,"OAuthProvider",mo,[Fh("providerId")]),Yh(t,"SAMLAuthProvider",yo,[Fh("providerId")]),Yh(t,"PhoneAuthProvider",Do,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof th)}}]),Yh(t,"RecaptchaVerifier",Dh,[Kh(Fh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Uh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}]),Yh(t,"ActionCodeURL",_i,[]),Yh(t,"PhoneMultiFactorGenerator",_h,[]),r.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new th(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),r.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:w((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:w(t.nc,t),addAuthTokenListener:w(t.cc,t),removeAuthTokenListener:w(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.a.registerVersion("@firebase/auth","0.16.4"),r.a.INTERNAL.extendNamespace({User:pl})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),a=function(t){v(n,t);var e=y(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return f(this,n),(r=e.call(this)).source=t,r.delayTime=a,r.scheduler=s,(!Object(o.a)(a)||a<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=i.a),r}return p(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e,n){f(this,t),this.scheduler=e,this.delay=n}return p(t,[{key:"call",value:function(t,e){return new a(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){f(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){v(n,t);var e=y(n);function n(t,r,a,s){var u;return f(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=b(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return p(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EQ5u"),i=n("x+ZX"),o=n("XNiG");function a(){return new o.a}function s(){return function(t){return Object(i.a)()((e=a,function(t){var n;n="function"==typeof e?e:function(){return e};var i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new o(t))}}var o=function(){function t(e){f(this,t),this.connectable=e}return p(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),a=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).connectable=r,i}return p(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?function(n){return e.schedule(o,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function o(t){var e=t.error;t.subscriber.error(e)}},zIRd:function(t,e,n){"use strict";var r,i,o=n("mxel"),a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h="@firebase/app",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.b("@firebase/app"),p=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.m)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){d.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();p.prototype.name&&p.prototype.options||p.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.k)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void d.warn(c.join(" "))}o(new s.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.9",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.k)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return d.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.n)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(p);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.n)(e,t)},createSubscribe:a.l,ErrorFactory:a.b,deepExtend:a.n}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(a.r)()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.y)()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),m.apply(void 0,t)};var b=v;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",function(t){return new g(t)},"PRIVATE")),t.registerVersion(h,"0.6.15",void 0),t.registerVersion("fire-js","")}(b),e.a=b},zUnb:function(n,r,o){"use strict";o.r(r);var s=o("fXoL"),u=null;function c(){return u}var l,d=new s.r("DocumentToken"),g=((l=function t(){f(this,t)}).\u0275fac=function(t){return new(t||l)},l.\u0275prov=Object(s.Jb)({factory:_,token:l,providedIn:"platform"}),l);function _(){return Object(s.Wb)(O)}var k,C=new s.r("Location Initialized"),O=((k=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._init(),r}return p(n,[{key:"_init",value:function(){this.location=c().getLocation(),this._history=c().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return c().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){c().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){E()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){E()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(g)).\u0275fac=function(t){return new(t||k)(s.Wb(d))},k.\u0275prov=Object(s.Jb)({factory:S,token:k,providedIn:"platform"}),k);function E(){return!!window.history.pushState}function S(){return new O(Object(s.Wb)(d))}function T(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function I(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function x(t){return t&&"?"!==t[0]?"?"+t:t}var P,A=((P=function t(){f(this,t)}).\u0275fac=function(t){return new(t||P)},P.\u0275prov=Object(s.Jb)({factory:R,token:P,providedIn:"root"}),P);function R(t){var e=Object(s.Wb)(d).location;return new L(Object(s.Wb)(g),e&&e.origin||"")}var N,j,D,M=new s.r("appBaseHref"),L=((D=function(t){v(n,t);var e=y(n);function n(t,r){var i;if(f(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,m(i)}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return T(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+x(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(A)).\u0275fac=function(t){return new(t||D)(s.Wb(g),s.Wb(M,8))},D.\u0275prov=s.Jb({token:D,factory:D.\u0275fac}),D),F=((j=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return p(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=T(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+x(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(A)).\u0275fac=function(t){return new(t||j)(s.Wb(g),s.Wb(M,8))},j.\u0275prov=s.Jb({token:j,factory:j.\u0275fac}),j),V=((N=function(){function t(e,n){var r=this;f(this,t),this._subject=new s.n,this._urlChangeListeners=[],this._platformStrategy=e;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=I(B(i)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return p(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+x(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,B(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+x(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||N)(s.Wb(A),s.Wb(g))},N.normalizeQueryParams=x,N.joinWithSlash=T,N.stripTrailingSlash=I,N.\u0275prov=Object(s.Jb)({factory:U,token:N,providedIn:"root"}),N);function U(){return new V(Object(s.Wb)(A),Object(s.Wb)(g))}function B(t){return t.replace(/\/index.html$/,"")}var q=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),z=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),H=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),W=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),K=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function G(t,e){return $(Object(s.lb)(t)[s.cb.DateFormat],e)}function Q(t,e){return $(Object(s.lb)(t)[s.cb.TimeFormat],e)}function Y(t,e){return $(Object(s.lb)(t)[s.cb.DateTimeFormat],e)}function X(t,e){var n=Object(s.lb)(t),r=n[s.cb.NumberSymbols][e];if(void 0===r){if(e===K.CurrencyDecimal)return n[s.cb.NumberSymbols][K.Decimal];if(e===K.CurrencyGroup)return n[s.cb.NumberSymbols][K.Group]}return r}var Z=s.ob;function J(t){if(!t[s.cb.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(t[s.cb.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function $(t,e){for(var n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function tt(t){var n=e(t.split(":"),2);return{hours:+n[0],minutes:+n[1]}}var et=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nt={},rt=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,it=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),ot=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),at=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function st(t,n,r,i){var o=function(t){if(_t(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){var n=e(t.split("-").map(function(t){return+t}),3),r=n[0],i=n[1],o=void 0===i?1:i,a=n[2];return ut(r,o-1,void 0===a?1:a)}var s,u=parseFloat(t);if(!isNaN(t-u))return new Date(u);if(s=t.match(et))return function(t){var e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var a=Number(t[4]||0)-n,s=Number(t[5]||0)-r,u=Number(t[6]||0),c=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return o.call(e,a,s,u,c),e}(s)}var c=new Date(t);if(!_t(c))throw new Error('Unable to convert "'.concat(t,'" into a date'));return c}(t);n=ct(r,n)||n;for(var a,s=[];n;){if(!(a=rt.exec(n))){s.push(n);break}var u=(s=s.concat(a.slice(1))).pop();if(!u)break;n=u}var c=o.getTimezoneOffset();i&&(c=bt(i,c),o=function(t,e,n){var r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(bt(e,r)-r))}(o,i));var l="";return s.forEach(function(t){var e=function(t){if(mt[t])return mt[t];var e;switch(t){case"G":case"GG":case"GGG":e=dt(at.Eras,H.Abbreviated);break;case"GGGG":e=dt(at.Eras,H.Wide);break;case"GGGGG":e=dt(at.Eras,H.Narrow);break;case"y":e=ft(ot.FullYear,1,0,!1,!0);break;case"yy":e=ft(ot.FullYear,2,0,!0,!0);break;case"yyy":e=ft(ot.FullYear,3,0,!1,!0);break;case"yyyy":e=ft(ot.FullYear,4,0,!1,!0);break;case"Y":e=yt(1);break;case"YY":e=yt(2,!0);break;case"YYY":e=yt(3);break;case"YYYY":e=yt(4);break;case"M":case"L":e=ft(ot.Month,1,1);break;case"MM":case"LL":e=ft(ot.Month,2,1);break;case"MMM":e=dt(at.Months,H.Abbreviated);break;case"MMMM":e=dt(at.Months,H.Wide);break;case"MMMMM":e=dt(at.Months,H.Narrow);break;case"LLL":e=dt(at.Months,H.Abbreviated,z.Standalone);break;case"LLLL":e=dt(at.Months,H.Wide,z.Standalone);break;case"LLLLL":e=dt(at.Months,H.Narrow,z.Standalone);break;case"w":e=gt(1);break;case"ww":e=gt(2);break;case"W":e=gt(1,!0);break;case"d":e=ft(ot.Date,1);break;case"dd":e=ft(ot.Date,2);break;case"E":case"EE":case"EEE":e=dt(at.Days,H.Abbreviated);break;case"EEEE":e=dt(at.Days,H.Wide);break;case"EEEEE":e=dt(at.Days,H.Narrow);break;case"EEEEEE":e=dt(at.Days,H.Short);break;case"a":case"aa":case"aaa":e=dt(at.DayPeriods,H.Abbreviated);break;case"aaaa":e=dt(at.DayPeriods,H.Wide);break;case"aaaaa":e=dt(at.DayPeriods,H.Narrow);break;case"b":case"bb":case"bbb":e=dt(at.DayPeriods,H.Abbreviated,z.Standalone,!0);break;case"bbbb":e=dt(at.DayPeriods,H.Wide,z.Standalone,!0);break;case"bbbbb":e=dt(at.DayPeriods,H.Narrow,z.Standalone,!0);break;case"B":case"BB":case"BBB":e=dt(at.DayPeriods,H.Abbreviated,z.Format,!0);break;case"BBBB":e=dt(at.DayPeriods,H.Wide,z.Format,!0);break;case"BBBBB":e=dt(at.DayPeriods,H.Narrow,z.Format,!0);break;case"h":e=ft(ot.Hours,1,-12);break;case"hh":e=ft(ot.Hours,2,-12);break;case"H":e=ft(ot.Hours,1);break;case"HH":e=ft(ot.Hours,2);break;case"m":e=ft(ot.Minutes,1);break;case"mm":e=ft(ot.Minutes,2);break;case"s":e=ft(ot.Seconds,1);break;case"ss":e=ft(ot.Seconds,2);break;case"S":e=ft(ot.FractionalSeconds,1);break;case"SS":e=ft(ot.FractionalSeconds,2);break;case"SSS":e=ft(ot.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=pt(it.Short);break;case"ZZZZZ":e=pt(it.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=pt(it.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=pt(it.Long);break;default:return null}return mt[t]=e,e}(t);l+=e?e(o,r,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function ut(t,e,n){var r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function ct(t,e){var n=function(t){return Object(s.lb)(t)[s.cb.LocaleId]}(t);if(nt[n]=nt[n]||{},nt[n][e])return nt[n][e];var r="";switch(e){case"shortDate":r=G(t,W.Short);break;case"mediumDate":r=G(t,W.Medium);break;case"longDate":r=G(t,W.Long);break;case"fullDate":r=G(t,W.Full);break;case"shortTime":r=Q(t,W.Short);break;case"mediumTime":r=Q(t,W.Medium);break;case"longTime":r=Q(t,W.Long);break;case"fullTime":r=Q(t,W.Full);break;case"short":var i=ct(t,"shortTime"),o=ct(t,"shortDate");r=lt(Y(t,W.Short),[i,o]);break;case"medium":var a=ct(t,"mediumTime"),u=ct(t,"mediumDate");r=lt(Y(t,W.Medium),[a,u]);break;case"long":var c=ct(t,"longTime"),l=ct(t,"longDate");r=lt(Y(t,W.Long),[c,l]);break;case"full":var h=ct(t,"fullTime"),f=ct(t,"fullDate");r=lt(Y(t,W.Full),[h,f])}return r&&(nt[n][e]=r),r}function lt(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function ht(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,o=n));for(var a=String(t);a.length<e;)a="0"+a;return r&&(a=a.substr(a.length-e)),o+a}function ft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(o,a){var s,u=function(t,e){switch(t){case ot.FullYear:return e.getFullYear();case ot.Month:return e.getMonth();case ot.Date:return e.getDate();case ot.Hours:return e.getHours();case ot.Minutes:return e.getMinutes();case ot.Seconds:return e.getSeconds();case ot.FractionalSeconds:return e.getMilliseconds();case ot.Day:return e.getDay();default:throw new Error('Unknown DateType value "'.concat(t,'".'))}}(t,o);if((n>0||u>-n)&&(u+=n),t===ot.Hours)0===u&&-12===n&&(u=12);else if(t===ot.FractionalSeconds)return s=e,ht(u,3).substr(0,s);var c=X(a,K.MinusSign);return ht(u,e,c,r,i)}}function dt(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(o,a){return function(t,n,r,i,o,a){switch(r){case at.Months:return function(t,e,n){var r=Object(s.lb)(t),i=$([r[s.cb.MonthsFormat],r[s.cb.MonthsStandalone]],e);return $(i,n)}(n,o,i)[t.getMonth()];case at.Days:return function(t,e,n){var r=Object(s.lb)(t),i=$([r[s.cb.DaysFormat],r[s.cb.DaysStandalone]],e);return $(i,n)}(n,o,i)[t.getDay()];case at.DayPeriods:var u=t.getHours(),c=t.getMinutes();if(a){var l=function(t){var e=Object(s.lb)(t);return J(e),(e[s.cb.ExtraData][2]||[]).map(function(t){return"string"==typeof t?tt(t):[tt(t[0]),tt(t[1])]})}(n),h=function(t,e,n){var r=Object(s.lb)(t);J(r);var i=$([r[s.cb.ExtraData][0],r[s.cb.ExtraData][1]],e)||[];return $(i,n)||[]}(n,o,i),f=l.findIndex(function(t){if(Array.isArray(t)){var n=e(t,2),r=n[0],i=n[1],o=u>=r.hours&&c>=r.minutes,a=u<i.hours||u===i.hours&&c<i.minutes;if(r.hours<i.hours){if(o&&a)return!0}else if(o||a)return!0}else if(t.hours===u&&t.minutes===c)return!0;return!1});if(-1!==f)return h[f]}return function(t,e,n){var r=Object(s.lb)(t),i=$([r[s.cb.DayPeriodsFormat],r[s.cb.DayPeriodsStandalone]],e);return $(i,n)}(n,o,i)[u<12?0:1];case at.Eras:return function(t,e){return $(Object(s.lb)(t)[s.cb.Eras],e)}(n,i)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type ".concat(r))}}(o,a,t,n,r,i)}}function pt(t){return function(e,n,r){var i=-1*r,o=X(n,K.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case it.Short:return(i>=0?"+":"")+ht(a,2,o)+ht(Math.abs(i%60),2,o);case it.ShortGMT:return"GMT"+(i>=0?"+":"")+ht(a,1,o);case it.Long:return"GMT"+(i>=0?"+":"")+ht(a,2,o)+":"+ht(Math.abs(i%60),2,o);case it.Extended:return 0===r?"Z":(i>=0?"+":"")+ht(a,2,o)+":"+ht(Math.abs(i%60),2,o);default:throw new Error('Unknown zone width "'.concat(t,'"'))}}}function vt(t){return ut(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function gt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i,o,a;if(e){var s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();i=1+Math.floor((u+s)/7)}else{var c=vt(n),l=(o=c.getFullYear(),a=ut(o,0,1).getDay(),ut(o,0,1+(a<=4?4:11)-a)),h=c.getTime()-l.getTime();i=1+Math.round(h/6048e5)}return ht(i,t,X(r,K.MinusSign))}}function yt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return ht(vt(n).getFullYear(),t,X(r,K.MinusSign),e)}}var mt={};function bt(t,e){t=t.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function _t(t){return t instanceof Date&&!isNaN(t.valueOf())}var wt,kt,Ct,Ot,Et=function t(){f(this,t)},St=((kt=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this)).locale=t,r}return p(n,[{key:"getPluralCategory",value:function(t,e){switch(Z(e||this.locale)(t)){case q.Zero:return"zero";case q.One:return"one";case q.Two:return"two";case q.Few:return"few";case q.Many:return"many";default:return"other"}}}]),n}(Et)).\u0275fac=function(t){return new(t||kt)(s.Wb(s.v))},kt.\u0275prov=s.Jb({token:kt,factory:kt.\u0275fac}),kt),Tt=((wt=function(){function t(e,n,r,i){f(this,t),this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return p(t,[{key:"klass",set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(s.rb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}},{key:"_applyKeyValueChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._toggleClass(t.key,t.currentValue)}),t.forEachRemovedItem(function(t){t.previousValue&&e._toggleClass(t.key,!1)})}},{key:"_applyIterableChanges",value:function(t){var e=this;t.forEachAddedItem(function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got ".concat(Object(s.xb)(t.item)));e._toggleClass(t.item,!0)}),t.forEachRemovedItem(function(t){return e._toggleClass(t.item,!1)})}},{key:"_applyClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!0)}):Object.keys(t).forEach(function(n){return e._toggleClass(n,!!t[n])}))}},{key:"_removeClasses",value:function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach(function(t){return e._toggleClass(t,!1)}):Object.keys(t).forEach(function(t){return e._toggleClass(t,!1)}))}},{key:"_toggleClass",value:function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach(function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)})}}]),t}()).\u0275fac=function(t){return new(t||wt)(s.Nb(s.t),s.Nb(s.u),s.Nb(s.l),s.Nb(s.F))},wt.\u0275dir=s.Ib({type:wt,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),wt),It=function(){function t(e,n,r,i){f(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return p(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),xt=((Ct=function(){function t(e,n,r){f(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return p(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new It(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new Pt(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new Pt(t,s);n.push(u)}});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Ct)(s.Nb(s.R),s.Nb(s.M),s.Nb(s.t))},Ct.\u0275dir=s.Ib({type:Ct,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Ct),Pt=function t(e,n){f(this,t),this.record=e,this.view=n},At=((Ot=function(){function t(e,n){f(this,t),this._viewContainer=e,this._context=new Rt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return p(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Nt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Nt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||Ot)(s.Nb(s.R),s.Nb(s.M))},Ot.\u0275dir=s.Ib({type:Ot,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Ot),Rt=function t(){f(this,t),this.$implicit=null,this.ngIf=null};function Nt(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(s.xb)(e),"'."))}var jt,Dt,Mt,Lt,Ft,Vt=function(){function t(e,n){f(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return p(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),Ut=((Ft=function(){function t(){f(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return p(t,[{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}]),t}()).\u0275fac=function(t){return new(t||Ft)},Ft.\u0275dir=s.Ib({type:Ft,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Ft),Bt=((Lt=function(){function t(e,n,r){f(this,t),this.ngSwitch=r,r._addCase(),this._view=new Vt(e,n)}return p(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||Lt)(s.Nb(s.R),s.Nb(s.M),s.Nb(Ut,1))},Lt.\u0275dir=s.Ib({type:Lt,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Lt),qt=((Mt=function t(e,n,r){f(this,t),r._addDefault(new Vt(e,n))}).\u0275fac=function(t){return new(t||Mt)(s.Nb(s.R),s.Nb(s.M),s.Nb(Ut,1))},Mt.\u0275dir=s.Ib({type:Mt,selectors:[["","ngSwitchDefault",""]]}),Mt),zt=((Dt=function(){function t(e,n,r){f(this,t),this._ngEl=e,this._differs=n,this._renderer=r,this._ngStyle=null,this._differ=null}return p(t,[{key:"ngStyle",set:function(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}},{key:"_setStyle",value:function(t,n){var r=e(t.split("."),2),i=r[0],o=r[1];null!=(n=null!=n&&o?"".concat(n).concat(o):n)?this._renderer.setStyle(this._ngEl.nativeElement,i,n):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(t){var e=this;t.forEachRemovedItem(function(t){return e._setStyle(t.key,null)}),t.forEachAddedItem(function(t){return e._setStyle(t.key,t.currentValue)}),t.forEachChangedItem(function(t){return e._setStyle(t.key,t.currentValue)})}}]),t}()).\u0275fac=function(t){return new(t||Dt)(s.Nb(s.l),s.Nb(s.u),s.Nb(s.F))},Dt.\u0275dir=s.Ib({type:Dt,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),Dt),Ht=((jt=function(){function t(e){f(this,t),this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return p(t,[{key:"ngOnChanges",value:function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}},{key:"_hasContextShapeChanged",value:function(t){var e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){var r,i=a(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(-1===e.indexOf(o))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(t){for(var e=0,n=Object.keys(t);e<n.length;e++){var r=n[e];this._viewRef.context[r]=this.ngTemplateOutletContext[r]}}}]),t}()).\u0275fac=function(t){return new(t||jt)(s.Nb(s.R))},jt.\u0275dir=s.Ib({type:jt,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[s.Ab]}),jt);function Wt(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(s.xb)(t),"'"))}var Kt,Gt,Qt,Yt=function(){function t(){f(this,t)}return p(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),Xt=new(function(){function t(){f(this,t)}return p(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Zt=new Yt,Jt=((Qt=function(){function t(e){f(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return p(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if(Object(s.tb)(e))return Xt;if(Object(s.ub)(e))return Zt;throw Wt(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||Qt)(s.Yb())},Qt.\u0275pipe=s.Mb({name:"async",type:Qt,pure:!1}),Qt),$t=((Gt=function(){function t(e){f(this,t),this.locale=e}return p(t,[{key:"transform",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if(null==e||""===e||e!=e)return null;try{return st(e,n,i||this.locale,r)}catch(o){throw Wt(t,o.message)}}}]),t}()).\u0275fac=function(t){return new(t||Gt)(s.Nb(s.v))},Gt.\u0275pipe=s.Mb({name:"date",type:Gt,pure:!0}),Gt),te=((Kt=function t(){f(this,t)}).\u0275mod=s.Lb({type:Kt}),Kt.\u0275inj=s.Kb({factory:function(t){return new(t||Kt)},providers:[{provide:Et,useClass:St}]}),Kt);function ee(t){return"server"===t}var ne,re=((ne=function t(){f(this,t)}).\u0275prov=Object(s.Jb)({token:ne,providedIn:"root",factory:function(){return new ie(Object(s.Wb)(d),window)}}),ne),ie=function(){function t(e,n){f(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return p(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){var e;if(this.supportsScrolling()){var n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=oe(this.window.history)||oe(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(e){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function oe(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var ae,se,ue,ce,le=function(t){v(r,t);var n=y(r);function r(){return f(this,r),n.apply(this,arguments)}return p(r,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=he||(he=document.querySelector("base"))?he.getAttribute("href"):null;return null==n?null:(e=n,ae||(ae=document.createElement("a")),ae.setAttribute("href",e),"/"===ae.pathname.charAt(0)?ae.pathname:"/"+ae.pathname)}},{key:"resetBaseElement",value:function(){he=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return function(t,n){n=encodeURIComponent(n);var r,i=a(t.split(";"));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.indexOf("="),u=e(-1==s?[o,""]:[o.slice(0,s),o.slice(s+1)],2),c=u[0],l=u[1];if(c.trim()===n)return decodeURIComponent(l)}}catch(h){i.e(h)}finally{i.f()}return null}(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new r,u||(u=t)}}]),r}(function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.call(this)}return p(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){f(this,t)}}())),he=null,fe=new s.r("TRANSITION_ID"),de=[{provide:s.d,useFactory:function(t,e,n){return function(){n.get(s.e).donePromise.then(function(){var n=c();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[fe,d,s.s],multi:!0}],pe=function(){function t(){f(this,t)}return p(t,[{key:"addToWindow",value:function(t){s.qb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},s.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},s.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},s.qb.frameworkStabilizers||(s.qb.frameworkStabilizers=[]),s.qb.frameworkStabilizers.push(function(t){var e=s.qb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?c().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(s.Z)(new t)}}]),t}(),ve=new s.r("EventManagerPlugins"),ge=((se=function(){function t(e,n){var r=this;f(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=r}),this._plugins=e.slice().reverse()}return p(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||se)(s.Wb(ve),s.Wb(s.A))},se.\u0275prov=s.Jb({token:se,factory:se.\u0275fac}),se),ye=function(){function t(e){f(this,t),this._doc=e}return p(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=c().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),me=((ce=function(){function t(){f(this,t),this._stylesSet=new Set}return p(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||ce)},ce.\u0275prov=s.Jb({token:ce,factory:ce.\u0275fac}),ce),be=((ue=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return p(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach(function(t){return c().remove(t)})}}]),n}(me)).\u0275fac=function(t){return new(t||ue)(s.Wb(d))},ue.\u0275prov=s.Jb({token:ue,factory:ue.\u0275fac}),ue),_e={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},we=/%COMP%/g;function ke(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?ke(t,i,n):(i=i.replace(we,t),n.push(i))}return n}function Ce(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Oe,Ee,Se,Te,Ie,xe,Pe=((Oe=function(){function t(e,n,r){f(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ae(e)}return p(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case s.S.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new Re(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case s.S.ShadowDom:return new Ne(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=ke(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||Oe)(s.Wb(ge),s.Wb(be),s.Wb(s.c))},Oe.\u0275prov=s.Jb({token:Oe,factory:Oe.\u0275fac}),Oe),Ae=function(){function t(e){f(this,t),this.eventManager=e,this.data=Object.create(null)}return p(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(_e[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=_e[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=_e[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(s.H.DashCase|s.H.Important)?t.style.setProperty(e,n,r&s.H.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&s.H.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ce(n)):this.eventManager.addEventListener(t,e,Ce(n))}}]),t}(),Re=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).component=i;var s=ke(o+"-"+i.id,i.styles,[]);return r.addStyles(s),a.contentAttr="_ngcontent-%COMP%".replace(we,o+"-"+i.id),a.hostAttr="_nghost-%COMP%".replace(we,o+"-"+i.id),a}return p(n,[{key:"applyToHost",value:function(t){h(w(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=h(w(n.prototype),"createElement",this).call(this,t,e);return h(w(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Ae),Ne=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;f(this,n),(a=e.call(this,t)).sharedStylesHost=r,a.hostEl=i,a.shadowRoot=i.attachShadow({mode:"open"}),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=ke(o.id,o.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return p(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return h(w(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return h(w(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return h(w(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(h(w(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(Ae),je=((Ee=function(t){v(n,t);var e=y(n);function n(t){return f(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(ye)).\u0275fac=function(t){return new(t||Ee)(s.Wb(d))},Ee.\u0275prov=s.Jb({token:Ee,factory:Ee.\u0275fac}),Ee),De=["alt","control","meta","shift"],Me={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Le={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fe={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},Ve=((Ie=function(t){v(n,t);var e=y(n);function n(t){return f(this,n),e.call(this,t)}return p(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return c().onAndCancel(t,i.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(De.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Le.hasOwnProperty(e)&&(e=Le[e]))}return Me[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),De.forEach(function(r){r!=n&&(0,Fe[r])(t)&&(e+=r+".")}),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(ye)).\u0275fac=function(t){return new(t||Ie)(s.Wb(d))},Ie.\u0275prov=s.Jb({token:Ie,factory:Ie.\u0275fac}),Ie),Ue=((Te=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Te)},Te.\u0275prov=Object(s.Jb)({factory:function(){return Object(s.Wb)(Be)},token:Te,providedIn:"root"}),Te),Be=((Se=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this))._doc=t,r}return p(n,[{key:"sanitize",value:function(t,e){if(null==e)return null;switch(t){case s.J.NONE:return e;case s.J.HTML:return Object(s.fb)(e,"HTML")?Object(s.yb)(e):Object(s.db)(this._doc,String(e)).toString();case s.J.STYLE:return Object(s.fb)(e,"Style")?Object(s.yb)(e):e;case s.J.SCRIPT:if(Object(s.fb)(e,"Script"))return Object(s.yb)(e);throw new Error("unsafe value used in a script context");case s.J.URL:return Object(s.pb)(e),Object(s.fb)(e,"URL")?Object(s.yb)(e):Object(s.eb)(String(e));case s.J.RESOURCE_URL:if(Object(s.fb)(e,"ResourceURL"))return Object(s.yb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(t," (see https://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(t){return Object(s.gb)(t)}},{key:"bypassSecurityTrustStyle",value:function(t){return Object(s.jb)(t)}},{key:"bypassSecurityTrustScript",value:function(t){return Object(s.ib)(t)}},{key:"bypassSecurityTrustUrl",value:function(t){return Object(s.kb)(t)}},{key:"bypassSecurityTrustResourceUrl",value:function(t){return Object(s.hb)(t)}}]),n}(Ue)).\u0275fac=function(t){return new(t||Se)(s.Wb(d))},Se.\u0275prov=Object(s.Jb)({factory:function(){return t=Object(s.Wb)(s.o),new Be(t.get(d));var t},token:Se,providedIn:"root"}),Se),qe=[{provide:s.C,useValue:"browser"},{provide:s.D,useValue:function(){le.makeCurrent(),pe.init()},multi:!0},{provide:d,useFactory:function(){return Object(s.wb)(document),document},deps:[]}],ze=Object(s.T)(s.Y,"browser",qe),He=[[],{provide:s.bb,useValue:"root"},{provide:s.m,useFactory:function(){return new s.m},deps:[]},{provide:ve,useClass:je,multi:!0,deps:[d,s.A,s.C]},{provide:ve,useClass:Ve,multi:!0,deps:[d]},[],{provide:Pe,useClass:Pe,deps:[ge,be,s.c]},{provide:s.G,useExisting:Pe},{provide:me,useExisting:be},{provide:be,useClass:be,deps:[d]},{provide:s.N,useClass:s.N,deps:[s.A]},{provide:ge,useClass:ge,deps:[ve,s.A]},[]],We=((xe=function(){function t(e){if(f(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return p(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:s.c,useValue:e.appId},{provide:fe,useExisting:s.c},de]}}}]),t}()).\u0275mod=s.Lb({type:xe}),xe.\u0275inj=s.Kb({factory:function(t){return new(t||xe)(s.Wb(xe,12))},providers:He,imports:[te,s.f]}),xe);"undefined"!=typeof window&&window;var Ke=o("Cfvw"),Ge=o("LRne"),Qe=o("XNiG"),Ye=o("9ppp"),Xe=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this))._value=t,r}return p(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=h(w(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ye.a;return this._value}},{key:"next",value:function(t){h(w(n.prototype),"next",this).call(this,this._value=t)}}]),n}(Qe.a),Ze=o("z+Ro"),Je=o("DH7j"),$e=o("l7GE"),tn=o("ZUHj"),en=o("yCtX"),nn={};function rn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Ze.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Je.a)(e[0])&&(e=e[0]),Object(en.a)(e,i).lift(new on(r))}var on=function(){function t(e){f(this,t),this.resultSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new an(t,this.resultSelector))}}]),t}(),an=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return p(n,[{key:"_next",value:function(t){this.values.push(nn),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(tn.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===nn?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}($e.a),sn=o("HDdC"),un=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),cn=o("bHdf");function ln(){return Object(cn.a)(1)(Object(Ge.a).apply(void 0,arguments))}var hn=o("EY2u");function fn(t){return new sn.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ke.a)(n):Object(hn.b)()).subscribe(e)})}var dn=o("EQ5u"),pn=o("lJxs"),vn=o("51Dv");function gn(t,e){return"function"==typeof e?function(n){return n.pipe(gn(function(n,r){return Object(Ke.a)(t(n,r)).pipe(Object(pn.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new yn(t))}}var yn=function(){function t(e){f(this,t),this.project=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new mn(t,this.project))}}]),t}(),mn=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return p(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new vn.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(tn.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||h(w(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&h(w(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}($e.a),bn=o("7o/Q"),_n=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function wn(t){return function(e){return 0===t?Object(hn.b)():e.lift(new kn(t))}}var kn=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new _n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Cn(t,this.total))}}]),t}(),Cn=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(bn.a);function On(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Ze.a)(r)?(e.pop(),function(t){return ln(e,t,r)}):function(t){return ln(e,t)}}function En(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Sn(t,e,n))}}var Sn=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Tn(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Tn=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return p(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(bn.a);function In(t,e){return function(n){return n.lift(new xn(t,e))}}var xn=function(){function t(e,n){f(this,t),this.predicate=e,this.thisArg=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Pn(t,this.predicate,this.thisArg))}}]),t}(),Pn=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return p(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(bn.a);function An(t){return function(e){var n=new Rn(t),r=e.lift(n);return n.caught=r}}var Rn=function(){function t(e){f(this,t),this.selector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Nn(t,this.selector,this.caught))}}]),t}(),Nn=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return p(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void h(w(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new vn.a(this,void 0,void 0);this.add(r);var i=Object(tn.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}($e.a),jn=o("5+tZ");function Dn(t,e){return Object(jn.a)(t,e,1)}function Mn(t){return function(e){return 0===t?Object(hn.b)():e.lift(new Ln(t))}}var Ln=function(){function t(e){if(f(this,t),this.total=e,this.total<0)throw new _n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Fn(t,this.total))}}]),t}(),Fn=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return p(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(bn.a);function Vn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn;return function(e){return e.lift(new Un(t))}}var Un=function(){function t(e){f(this,t),this.errorFactory=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Bn(t,this.errorFactory))}}]),t}(),Bn=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(kk){t=kk}this.destination.error(t)}}]),n}(bn.a);function qn(){return new un}function zn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Hn(t))}}var Hn=function(){function t(e){f(this,t),this.defaultValue=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new Wn(t,this.defaultValue))}}]),t}(),Wn=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return p(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(bn.a),Kn=o("SpAZ");function Gn(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?In(function(e,n){return t(e,n,r)}):Kn.a,wn(1),n?zn(e):Vn(function(){return new un}))}}var Qn=o("vkgz"),Yn=o("x+ZX"),Xn=o("quSY");function Zn(t){return function(e){return e.lift(new Jn(t))}}var Jn=function(){function t(e){f(this,t),this.callback=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new $n(t,this.callback))}}]),t}(),$n=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).add(new Xn.a(r)),i}return n}(bn.a),tr=function t(e,n){f(this,t),this.id=e,this.url=n},er=function(t){v(n,t);var e=y(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return f(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return p(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(tr),nr=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return p(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(tr),rr=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).reason=i,o}return p(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(tr),ir=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t,r)).error=i,o}return p(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(tr),or=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tr),ar=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tr),sr=function(t){v(n,t);var e=y(n);function n(t,r,i,o,a){var s;return f(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return p(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(tr),ur=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tr),cr=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return p(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(tr),lr=function(){function t(e){f(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),hr=function(){function t(e){f(this,t),this.route=e}return p(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),fr=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),dr=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),pr=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),vr=function(){function t(e){f(this,t),this.snapshot=e}return p(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),gr=function(){function t(e,n,r){f(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return p(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),yr=function(){function t(e){f(this,t),this.params=e||{}}return p(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function mr(t){return new yr(t)}function br(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _r(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wr(t,e){var n,r=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!kr(t[n=r[o]],e[n]))return!1;return!0}function kr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=i(t).sort(),r=i(e).sort();return n.every(function(t,e){return r[e]===t})}return t===e}function Cr(t){return Array.prototype.concat.apply([],t)}function Or(t){return t.length>0?t[t.length-1]:null}function Er(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Sr(t){return Object(s.sb)(t)?t:Object(s.tb)(t)?Object(Ke.a)(Promise.resolve(t)):Object(Ge.a)(t)}function Tr(t,e,n){return n?function(t,e){return wr(t,e)}(t.queryParams,e.queryParams)&&Ir(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return kr(t[n],e[n])})}(t.queryParams,e.queryParams)&&xr(t.root,e.root)}function Ir(t,e){if(!jr(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(var n in e.children){if(!t.children[n])return!1;if(!Ir(t.children[n],e.children[n]))return!1}return!0}function xr(t,e){return Pr(t,e,e.segments)}function Pr(t,e,n){if(t.segments.length>n.length)return!!jr(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!jr(t.segments,n))return!1;for(var r in e.children){if(!t.children[r])return!1;if(!xr(t.children[r],e.children[r]))return!1}return!0}var i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!jr(t.segments,i)&&!!t.children.primary&&Pr(t.children.primary,e,o)}var Ar=function(){function t(e,n,r){f(this,t),this.root=e,this.queryParams=n,this.fragment=r}return p(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Lr.serialize(this)}}]),t}(),Rr=function(){function t(e,n){var r=this;f(this,t),this.segments=e,this.children=n,this.parent=null,Er(n,function(t,e){return t.parent=r})}return p(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Fr(this)}}]),t}(),Nr=function(){function t(e,n){f(this,t),this.path=e,this.parameters=n}return p(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=mr(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Wr(this)}}]),t}();function jr(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Dr=function t(){f(this,t)},Mr=function(){function t(){f(this,t)}return p(t,[{key:"parse",value:function(t){var e=new Xr(t);return new Ar(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e,n,r;return"/".concat(Vr(t.root,!0)).concat((n=t.queryParams,r=Object.keys(n).map(function(t){var e=n[t];return Array.isArray(e)?e.map(function(e){return"".concat(Br(t),"=").concat(Br(e))}).join("&"):"".concat(Br(t),"=").concat(Br(e))}),r.length?"?".concat(r.join("&")):"")).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Lr=new Mr;function Fr(t){return t.segments.map(function(t){return Wr(t)}).join("/")}function Vr(t,e){if(!t.hasChildren())return Fr(t);if(e){var n=t.children.primary?Vr(t.children.primary,!1):"",r=[];return Er(t.children,function(t,e){"primary"!==e&&r.push("".concat(e,":").concat(Vr(t,!1)))}),r.length>0?"".concat(n,"(").concat(r.join("//"),")"):n}var i=function(t,e){var n=[];return Er(t.children,function(t,r){"primary"===r&&(n=n.concat(e(t,r)))}),Er(t.children,function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))}),n}(t,function(e,n){return"primary"===n?[Vr(t.children.primary,!1)]:["".concat(n,":").concat(Vr(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children.primary?"".concat(Fr(t),"/").concat(i[0]):"".concat(Fr(t),"/(").concat(i.join("//"),")")}function Ur(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Br(t){return Ur(t).replace(/%3B/gi,";")}function qr(t){return Ur(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zr(t){return decodeURIComponent(t)}function Hr(t){return zr(t.replace(/\+/g,"%20"))}function Wr(t){return"".concat(qr(t.path)).concat((e=t.parameters,Object.keys(e).map(function(t){return";".concat(qr(t),"=").concat(qr(e[t]))}).join("")));var e}var Kr=/^[^\/()?;=#]+/;function Gr(t){var e=t.match(Kr);return e?e[0]:""}var Qr=/^[^=?&#]+/,Yr=/^[^?&#]+/,Xr=function(){function t(e){f(this,t),this.url=e,this.remaining=e}return p(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rr([],{}):new Rr([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Rr(t,e)),n}},{key:"parseSegment",value:function(){var t=Gr(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Nr(zr(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Gr(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Gr(this.remaining);r&&(n=r,this.capture(n))}t[zr(e)]=zr(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Qr);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(Yr);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=Hr(e),o=Hr(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Gr(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Rr([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Zr=function(){function t(e){f(this,t),this._root=e}return p(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Jr(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Jr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=$r(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return $r(t,this._root).map(function(t){return t.value})}}]),t}();function Jr(t,e){if(t===e.value)return e;var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=Jr(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function $r(t,e){if(t===e.value)return[e];var n,r=a(e.children);try{for(r.s();!(n=r.n()).done;){var i=$r(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var ti=function(){function t(e,n){f(this,t),this.value=e,this.children=n}return p(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function ei(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var ni=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).snapshot=r,ui(b(i),t),i}return p(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Zr);function ri(t,e){var n=function(t,e){var n=new ai([],{},{},"",{},"primary",e,null,t.root,-1,{});return new si("",new ti(n,[]))}(t,e),r=new Xe([new Nr("",{})]),i=new Xe({}),o=new Xe({}),a=new Xe({}),s=new Xe(""),u=new ii(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new ni(new ti(u,[]),n)}var ii=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return p(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(pn.a)(function(t){return mr(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(pn.a)(function(t){return mr(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function oi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var ai=function(){function t(e,n,r,i,o,a,s,u,c,l,h){f(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return p(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=mr(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=mr(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),si=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,r)).url=t,ui(b(i),r),i}return p(n,[{key:"toString",value:function(){return ci(this._root)}}]),n}(Zr);function ui(t,e){e.value._routerState=t,e.children.forEach(function(e){return ui(t,e)})}function ci(t){var e=t.children.length>0?" { ".concat(t.children.map(ci).join(", ")," } "):"";return"".concat(t.value).concat(e)}function li(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),wr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!wr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),wr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function hi(t,e){return wr(t.params,e.params)&&function(t,e){return jr(t,e)&&t.every(function(t,n){return wr(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||hi(t.parent,e.parent))}function fi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var r=n.value;r._futureSnapshot=e.value;var i=function(t,e,n){return e.children.map(function(e){var r,i=a(n.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(t.shouldReuseRoute(e.value,o.value.snapshot))return fi(t,e,o)}}catch(s){i.e(s)}finally{i.f()}return fi(t,e)})}(t,e,n);return new ti(r,i)}var o=t.retrieve(e.value);if(o){var s=o.route;return di(e,s),s}var u,c=new ii(new Xe((u=e.value).url),new Xe(u.params),new Xe(u.queryParams),new Xe(u.fragment),new Xe(u.data),u.outlet,u.component,u),l=e.children.map(function(e){return fi(t,e)});return new ti(c,l)}function di(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)di(t.children[n],e.children[n])}function pi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function vi(t){return"object"==typeof t&&null!=t&&t.outlets}function gi(t,e,n,r,i){var o={};return r&&Er(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new Ar(n.root===t?e:yi(n.root,t,e),o,i)}function yi(t,e,n){var r={};return Er(t.children,function(t,i){r[i]=t===e?n:yi(t,e,n)}),new Rr(t.segments,r)}var mi=function(){function t(e,n,r){if(f(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&pi(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find(vi);if(i&&i!==Or(r))throw new Error("{outlets:{}} has to be the last command")}return p(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),bi=function t(e,n,r){f(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function _i(t,e,n){if(t||(t=new Rr([],{})),0===t.segments.length&&t.hasChildren())return wi(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=n[r];if(vi(s))break;var u="".concat(s),c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!Ei(u,c,a))return o;r+=2}else{if(!Ei(u,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Rr(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Rr(t.segments.slice(r.pathIndex),t.children),wi(o,0,i)}return r.match&&0===i.length?new Rr(t.segments,{}):r.match&&!t.hasChildren()?ki(t,e,n):r.match?wi(t,0,i):ki(t,e,n)}function wi(t,e,n){if(0===n.length)return new Rr(t.segments,{});var r=function(t){return vi(t[0])?t[0].outlets:{primary:t}}(n),i={};return Er(r,function(n,r){"string"==typeof n&&(n=[n]),null!==n&&(i[r]=_i(t.children[r],e,n))}),Er(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Rr(t.segments,i)}function ki(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){var o=n[i];if(vi(o)){var a=Ci(o.outlets);return new Rr(r,a)}if(0===i&&pi(n[0]))r.push(new Nr(t.segments[e].path,Oi(n[0]))),i++;else{var s=vi(o)?o.outlets.primary:"".concat(o),u=i<n.length-1?n[i+1]:null;s&&u&&pi(u)?(r.push(new Nr(s,Oi(u))),i+=2):(r.push(new Nr(s,{})),i++)}}return new Rr(r,{})}function Ci(t){var e={};return Er(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=ki(new Rr([],{}),0,t))}),e}function Oi(t){var e={};return Er(t,function(t,n){return e[n]="".concat(t)}),e}function Ei(t,e,n){return t==n.path&&wr(e,n.parameters)}var Si=function(){function t(e,n,r,i){f(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return p(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),li(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=ei(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),Er(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=ei(t),o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];this.deactivateRouteAndItsChildren(i[s],r)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=ei(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new vr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new dr(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(li(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Ti(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Ti(t){li(t.value),t.children.forEach(Ti)}var Ii=function t(e,n){f(this,t),this.routes=e,this.module=n};function xi(t){return"function"==typeof t}function Pi(t){return t instanceof Ar}var Ai=Symbol("INITIAL_VALUE");function Ri(){return gn(function(t){return rn(t.map(function(t){return t.pipe(wn(1),On(Ai))})).pipe(En(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==Ai)return t;if(r===Ai&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Pi(r))return r}return t},t)},Ai),In(function(t){return t!==Ai}),Object(pn.a)(function(t){return Pi(t)?t:!0===t}),wn(1))})}var Ni,ji=((Ni=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Ni)},Ni.\u0275cmp=s.Hb({type:Ni,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Ob(0,"router-outlet")},directives:function(){return[xo]},encapsulation:2}),Ni);function Di(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Mi(r,Li(e,r))}}function Mi(t,e){t.children&&Di(t.children,e)}function Li(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Fi(t){var e=t.children&&t.children.map(Fi),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=ji),n}function Vi(t){return t.outlet||"primary"}function Ui(t,e){var n=t.filter(function(t){return Vi(t)===e});return n.push.apply(n,i(t.filter(function(t){return Vi(t)!==e}))),n}var Bi={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function qi(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Bi):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var i=(e.matcher||_r)(n,t,e);if(!i)return Object.assign({},Bi);var o={};Er(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function zi(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return Hi(t,e,n)&&"primary"!==Vi(n)})}(t,n,r)){var o=new Rr(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,s=a(n);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(""===u.path&&"primary"!==Vi(u)){var c=new Rr([],{});c._sourceSegment=t,c._segmentIndexShift=e.length,i[Vi(u)]=c}}}catch(l){s.e(l)}finally{s.f()}return i}(t,e,r,new Rr(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return Hi(t,e,n)})}(t,n,r)){var s=new Rr(t.segments,function(t,e,n,r,i,o){var s,u={},c=a(r);try{for(c.s();!(s=c.n()).done;){var l=s.value;if(Hi(t,n,l)&&!i[Vi(l)]){var h=new Rr([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===o?t.segments.length:e.length,u[Vi(l)]=h}}}catch(f){c.e(f)}finally{c.f()}return Object.assign(Object.assign({},i),u)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Rr(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function Hi(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Wi(t,e,n,r){return!!(Vi(t)===r||"primary"!==r&&Hi(e,n,t))&&("**"===t.path||qi(e,t,n).matched)}function Ki(t,e,n){return 0===e.length&&!t.children[n]}var Gi=function t(e){f(this,t),this.segmentGroup=e||null},Qi=function t(e){f(this,t),this.urlTree=e};function Yi(t){return new sn.a(function(e){return e.error(new Gi(t))})}function Xi(t){return new sn.a(function(e){return e.error(new Qi(t))})}function Zi(t){return new sn.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Ji=function(){function t(e,n,r,i,o){f(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(s.y)}return p(t,[{key:"apply",value:function(){var t=this,e=zi(this.urlTree.root,[],[],this.config).segmentGroup,n=new Rr(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,"primary").pipe(Object(pn.a)(function(e){return t.createUrlTree($i(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(An(function(e){if(e instanceof Qi)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Gi)throw t.noMatchError(e);throw e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(pn.a)(function(n){return e.createUrlTree($i(n),t.queryParams,t.fragment)})).pipe(An(function(t){if(t instanceof Gi)throw e.noMatchError(t);throw t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Rr([],{primary:t}):t;return new Ar(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(pn.a)(function(t){return new Rr([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){for(var r=this,i=[],o=0,a=Object.keys(n.children);o<a.length;o++){var s=a[o];"primary"===s?i.unshift(s):i.push(s)}return Object(Ke.a)(i).pipe(Dn(function(i){var o=n.children[i],a=Ui(e,i);return r.expandSegmentGroup(t,a,o,i).pipe(Object(pn.a)(function(t){return{segment:t,outlet:i}}))}),En(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?In(function(e,n){return t(e,n,r)}):Kn.a,Mn(1),n?zn(e):Vn(function(){return new un}))}}())}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Ke.a)(n).pipe(Dn(function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(An(function(t){if(t instanceof Gi)return Object(Ge.a)(null);throw t}))}),Gn(function(t){return!!t}),An(function(t,n){if(t instanceof un||"EmptyError"===t.name){if(Ki(e,r,i))return Object(Ge.a)(new Rr([],{}));throw new Gi(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return Wi(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Yi(e):Yi(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Xi(o):this.lineralizeSegments(n,o).pipe(Object(jn.a)(function(n){var o=new Rr(n,{});return i.expandSegment(t,o,e,n,r,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=qi(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Yi(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Xi(f):this.lineralizeSegments(r,f).pipe(Object(jn.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r,i){var o=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Ge.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(pn.a)(function(t){return n._loadedConfig=t,new Rr(r,{})})):Object(Ge.a)(new Rr(r,{}));var a=qi(e,n,r),s=a.matched,u=a.consumedSegments,c=a.lastChild;if(!s)return Yi(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Object(jn.a)(function(t){var r=t.module,a=t.routes,s=zi(e,u,l,a),c=s.segmentGroup,h=s.slicedSegments,f=new Rr(c.segments,c.children);if(0===h.length&&f.hasChildren())return o.expandChildren(r,a,f).pipe(Object(pn.a)(function(t){return new Rr(u,t)}));if(0===a.length&&0===h.length)return Object(Ge.a)(new Rr(u,{}));var d=Vi(n)===i;return o.expandSegment(r,f,a,h,d?"primary":i,!0).pipe(Object(pn.a)(function(t){return new Rr(u.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Ge.a)(new Ii(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ge.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(jn.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(pn.a)(function(t){return e._loadedConfig=t,t})):function(t){return new sn.a(function(e){return e.error(br("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))})}(e)})):Object(Ge.a)(new Ii([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var r=this,i=e.canLoad;if(!i||0===i.length)return Object(Ge.a)(!0);var o=i.map(function(r){var i,o=t.get(r);if(function(t){return t&&xi(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!xi(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Sr(i)});return Object(Ge.a)(o).pipe(Ri(),Object(Qn.a)(function(t){if(Pi(t)){var e=br('Redirecting to "'.concat(r.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),Object(pn.a)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ge.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Zi(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Ar(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Er(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Er(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Rr(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(s){i.e(s)}finally{i.f()}return t}}]),t}();function $i(t){for(var e={},n=0,r=Object.keys(t.children);n<r.length;n++){var i=r[n],o=$i(t.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Rr(t.segments.concat(e.segments),e.children)}return t}(new Rr(t.segments,e))}var to=function t(e){f(this,t),this.path=e,this.route=this.path[this.path.length-1]},eo=function t(e,n){f(this,t),this.component=e,this.route=n};function no(t,e,n){var r=t._root;return io(r,e?e._root:null,n,[r.value])}function ro(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function io(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=ei(e);return t.children.forEach(function(t){!function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!jr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!jr(t.url,e.url)||!wr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hi(t,e)||!wr(t.queryParams,e.queryParams);case"paramsChange":default:return!hi(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new to(r)):(o.data=a.data,o._resolvedData=a._resolvedData),io(t,e,o.component?s?s.children:null:n,r,i),u&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new eo(s.outlet.component,a))}else a&&oo(e,s,i),i.canActivateChecks.push(new to(r)),io(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Er(o,function(t,e){return oo(t,n.getContext(e),i)}),i}function oo(t,e,n){var r=ei(t),i=t.value;Er(r,function(t,r){oo(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new eo(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var ao=function t(){f(this,t)};function so(t){return new sn.a(function(e){return e.error(t)})}var uo=function(){function t(e,n,r,i,o,a){f(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return p(t,[{key:"recognize",value:function(){var t=zi(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary");if(null===e)return null;var n=new ai([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ti(n,e),i=new si(this.url,r);return this.inheritParamsAndData(i._root),i}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=oi(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],r=0,o=Object.keys(e.children);r<o.length;r++){var s=o[r],u=e.children[s],c=Ui(t,s),l=this.processSegmentGroup(c,u,s);if(null===l)return null;n.push.apply(n,i(l))}var h=function(t){var e,n=[],r=a(t);try{var o=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var o=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==o?(t=o.children).push.apply(t,i(r.children)):n.push(r)};for(r.s();!(e=r.n()).done;)o()}catch(s){r.e(s)}finally{r.f()}return n}(n);return h.sort(function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}),h}},{key:"processSegment",value:function(t,e,n,r){var i,o=a(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,u=this.processSegmentAgainstRoute(s,e,n,r);if(null!==u)return u}}catch(c){o.e(c)}finally{o.f()}return Ki(e,n,r)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo||!Wi(t,e,n,r))return null;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?Or(n).parameters:{};i=new ai(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ho(t),Vi(t),t.component,t,co(e),lo(e)+n.length,fo(t))}else{var u=qi(e,t,n);if(!u.matched)return null;o=u.consumedSegments,a=n.slice(u.lastChild),i=new ai(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ho(t),Vi(t),t.component,t,co(e),lo(e)+o.length,fo(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=zi(e,o,a,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return null===d?null:[new ti(i,d)]}if(0===c.length&&0===f.length)return[new ti(i,[])];var p=Vi(t)===r,v=this.processSegment(c,h,f,p?"primary":r);return null===v?null:[new ti(i,v)]}}]),t}();function co(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function lo(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ho(t){return t.data||{}}function fo(t){return t.resolve||{}}function po(t){return gn(function(e){var n=t(e);return n?Object(Ke.a)(n).pipe(Object(pn.a)(function(){return e})):Object(Ge.a)(e)})}var vo=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return n}(function(){function t(){f(this,t)}return p(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),go=new s.r("ROUTES"),yo=function(){function t(e,n,r,i){f(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return p(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe(Object(pn.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Ii(Cr(i.injector.get(go,void 0,s.q.Self|s.q.Optional)).map(Fi),i)}),An(function(t){throw e._loader$=void 0,t}));return e._loader$=new dn.a(r,function(){return new Qe.a}).pipe(Object(Yn.a)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Ke.a)(this.loader.load(t)):Sr(t()).pipe(Object(jn.a)(function(t){return t instanceof s.w?Object(Ge.a)(t):Object(Ke.a)(e.compiler.compileModuleAsync(t))}))}}]),t}(),mo=function t(){f(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new bo,this.attachRef=null},bo=function(){function t(){f(this,t),this.contexts=new Map}return p(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new mo,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),_o=function(){function t(){f(this,t)}return p(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function wo(t){throw t}function ko(t,e,n){return e.parse("/")}function Co(t,e){return Object(Ge.a)(null)}var Oo,Eo,So,To,Io=((Eo=function(){function t(e,n,r,i,o,a,u,c){var l=this;f(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Qe.a,this.errorHandler=wo,this.malformedUriErrorHandler=ko,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Co,afterPreactivation:Co},this.urlHandlingStrategy=new _o,this.routeReuseStrategy=new vo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(s.y),this.console=o.get(s.ab);var h=o.get(s.A);this.isNgZoneEnabled=h instanceof s.A&&s.A.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Ar(new Rr([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new yo(a,u,function(t){return l.triggerEvent(new lr(t))},function(t){return l.triggerEvent(new hr(t))}),this.routerState=ri(this.currentUrlTree,this.rootComponentType),this.transitions=new Xe({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return p(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(In(function(t){return 0!==t.id}),Object(pn.a)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),gn(function(t){var r,i,o,a=!1,s=!1;return Object(Ge.a)(t).pipe(Object(Qn.a)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),gn(function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ge.a)(t).pipe(gn(function(t){var r=e.transitions.getValue();return n.next(new er(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?hn.a:Promise.resolve(t)}),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,gn(function(t){return function(t,e,n,r,i){return new Ji(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(pn.a)(function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})}))})),Object(Qn.a)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,r,i,o){return Object(jn.a)(function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var a=new uo(t,e,n,r,i,o).recognize();return null===a?so(new ao):Object(Ge.a)(a)}catch(kk){return so(kk)}}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(pn.a)(function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})}));var a})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Qn.a)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects);var r=new or(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new er(u,e.serializeUrl(c),l,h);n.next(d);var p=ri(c,e.rootComponentType).snapshot;return Object(Ge.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),hn.a}),po(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(Qn.a)(function(t){var n=new ar(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(pn.a)(function(t){return Object.assign(Object.assign({},t),{guards:no(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return Object(jn.a)(function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Ge.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ke.a)(t).pipe(Object(jn.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Ge.a)(!0);var a=o.map(function(o){var a,s=ro(o,e,i);if(function(t){return t&&xi(t.canDeactivate)}(s))a=Sr(s.canDeactivate(t,e,n,r));else{if(!xi(s))throw new Error("Invalid CanDeactivate guard");a=Sr(s(t,e,n,r))}return a.pipe(Gn())});return Object(Ge.a)(a).pipe(Ri())}(t.component,t.route,n,e,r)}),Gn(function(t){return!0!==t},!0))}(s,r,i,t).pipe(Object(jn.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ke.a)(e).pipe(Dn(function(e){return ln(function(t,e){return null!==t&&e&&e(new fr(t)),Object(Ge.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new pr(t)),Object(Ge.a)(!0)}(e.route,r),function(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return fn(function(){var i=e.guards.map(function(i){var o,a=ro(i,e.node,n);if(function(t){return t&&xi(t.canActivateChild)}(a))o=Sr(a.canActivateChild(r,t));else{if(!xi(a))throw new Error("Invalid CanActivateChild guard");o=Sr(a(r,t))}return o.pipe(Gn())});return Object(Ge.a)(i).pipe(Ri())})});return Object(Ge.a)(i).pipe(Ri())}(t,e.path,n),function(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ge.a)(!0);var i=r.map(function(r){return fn(function(){var i,o=ro(r,e,n);if(function(t){return t&&xi(t.canActivate)}(o))i=Sr(o.canActivate(e,t));else{if(!xi(o))throw new Error("Invalid CanActivate guard");i=Sr(o(e,t))}return i.pipe(Gn())})});return Object(Ge.a)(i).pipe(Ri())}(t,e.route,n))}),Gn(function(t){return!0!==t},!0))}(r,a,t,e):Object(Ge.a)(n)}),Object(pn.a)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Object(Qn.a)(function(t){if(Pi(t.guardsResult)){var n=br('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var r=new sr(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),In(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new rr(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),po(function(t){if(t.guards.canActivateChecks.length)return Object(Ge.a)(t).pipe(Object(Qn.a)(function(t){var n=new ur(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),gn(function(t){var r,i,o=!1;return Object(Ge.a)(t).pipe((r=e.paramsInheritanceStrategy,i=e.ngModule.injector,Object(jn.a)(function(t){var e=t.targetSnapshot,n=t.guards.canActivateChecks;if(!n.length)return Object(Ge.a)(t);var o=0;return Object(Ke.a)(n).pipe(Dn(function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Ge.a)({});var o={};return Object(Ke.a)(i).pipe(Object(jn.a)(function(i){return function(t,e,n,r){var i=ro(t,e,r);return Sr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Qn.a)(function(t){o[i]=t}))}),Mn(1),Object(jn.a)(function(){return Object.keys(o).length===i.length?Object(Ge.a)(o):hn.a}))}(t._resolve,t,e,r).pipe(Object(pn.a)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),oi(t,n).resolve),null}))}(t.route,e,r,i)}),Object(Qn.a)(function(){return o++}),Mn(1),Object(jn.a)(function(e){return o===n.length?Object(Ge.a)(t):hn.a}))})),Object(Qn.a)({next:function(){return o=!0},complete:function(){if(!o){var r=new rr(t.id,e.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");n.next(r),t.resolve(!1)}}}))}),Object(Qn.a)(function(t){var n=new cr(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),po(function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})}),Object(pn.a)(function(t){var n=function(t,e,n){var r=fi(t,e._root,n?n._root:void 0);return new ni(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),Object(Qn.a)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(r=e.rootContexts,i=e.routeReuseStrategy,o=function(t){return e.triggerEvent(t)},Object(pn.a)(function(t){return new Si(i,t.targetRouterState,t.currentRouterState,o).activate(r),t})),Object(Qn.a)({next:function(){a=!0},complete:function(){a=!0}}),Zn(function(){if(!a&&!s){e.resetUrlToCurrentUrlTree();var r=new rr(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null}),An(function(r){if(s=!0,(u=r)&&u.ngNavigationCancelingError){var i=Pi(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new rr(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout(function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new ir(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Vd){t.reject(Vd)}}var u;return hn.a}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,r=n.state,i=n.urlTree,o={replaceUrl:!0};if(r){var a=Object.assign({},r);delete a.navigationId,0!==Object.keys(a).length&&(o.state=a)}t.scheduleNavigation(i,e,r,o)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Di(t),this.config=t.map(Fi),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,r=e.queryParams,o=e.fragment,a=e.queryParamsHandling,s=e.preserveFragment,u=n||this.routerState.root,c=s?this.currentUrlTree.fragment:o,l=null;switch(a){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,o){if(0===n.length)return gi(e.root,e.root,e,r,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new mi(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return Er(r.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(i(t),[{outlets:a}])}if(r.segmentPath)return[].concat(i(t),[r.segmentPath])}return"string"!=typeof r?[].concat(i(t),[r]):0===o?(r.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[].concat(i(t),[r])},[]);return new mi(n,e,r)}(n);if(a.toRoot())return gi(e.root,new Rr([],{}),e,r,o);var s=function(t,e,n){if(t.isAbsolute)return new bi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var r=n.snapshot._urlSegment;return new bi(r,r===e.root,0)}var i=pi(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new bi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,t.numberOfDoubleDots)}(a,e,t),u=s.processChildren?wi(s.segmentGroup,s.index,a.commands):_i(s.segmentGroup,s.index,a.commands);return gi(s.segmentGroup,u,e,r,o)}(u,this.currentUrlTree,t,l,c)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Pi(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(kk){e=this.malformedUriErrorHandler(kk,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Pi(t))return Tr(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Tr(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new nr(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})}},{key:"scheduleNavigation",value:function(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);var o,a,s,u=this.getTransition(),c="imperative"!==e&&"imperative"===(null==u?void 0:u.source),l=(this.lastSuccessfulId===u.id||this.currentNavigation?u.rawUrl:u.urlAfterRedirects).toString()===t.toString();if(c&&l)return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise(function(t,e){o=t,a=e});var h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){return new(t||Eo)(s.Wb(s.O),s.Wb(Dr),s.Wb(bo),s.Wb(V),s.Wb(s.s),s.Wb(s.x),s.Wb(s.i),s.Wb(void 0))},Eo.\u0275prov=s.Jb({token:Eo,factory:Eo.\u0275fac}),Eo),xo=((Oo=function(){function t(e,n,r,i,o){f(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.n,this.deactivateEvents=new s.n,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}return p(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Po(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||Oo)(s.Nb(bo),s.Nb(s.R),s.Nb(s.j),s.Xb("name"),s.Nb(s.h))},Oo.\u0275dir=s.Ib({type:Oo,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),Oo),Po=function(){function t(e,n,r){f(this,t),this.route=e,this.childContexts=n,this.parent=r}return p(t,[{key:"get",value:function(t,e){return t===ii?this.route:t===bo?this.childContexts:this.parent.get(t,e)}}]),t}(),Ao=function t(){f(this,t)},Ro=function(){function t(){f(this,t)}return p(t,[{key:"preload",value:function(t,e){return Object(Ge.a)(null)}}]),t}(),No=((To=function(){function t(e,n,r,i,o){f(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new yo(n,r,function(t){return e.triggerEvent(new lr(t))},function(t){return e.triggerEvent(new hr(t))})}return p(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(In(function(t){return t instanceof nr}),Dn(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(s.y);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=a(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(u){i.e(u)}finally{i.f()}return Object(Ke.a)(r).pipe(Object(cn.a)(),Object(pn.a)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?Object(Ge.a)(e._loadedConfig):n.loader.load(t.injector,e)).pipe(Object(jn.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}()).\u0275fac=function(t){return new(t||To)(s.Wb(Io),s.Wb(s.x),s.Wb(s.i),s.Wb(s.s),s.Wb(Ao))},To.\u0275prov=s.Jb({token:To,factory:To.\u0275fac}),To),jo=((So=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};f(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return p(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof er?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof nr&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof gr&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new gr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||So)(s.Wb(Io),s.Wb(re),s.Wb(void 0))},So.\u0275prov=s.Jb({token:So,factory:So.\u0275fac}),So),Do=new s.r("ROUTER_CONFIGURATION"),Mo=new s.r("ROUTER_FORROOT_GUARD"),Lo=[V,{provide:Dr,useClass:Mr},{provide:Io,useFactory:function(t,e,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},u=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new Io(null,t,e,n,r,i,o,Cr(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,h),s.enableTracing){var f=c();h.events.subscribe(function(t){f.logGroup("Router Event: ".concat(t.constructor.name)),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return h},deps:[Dr,bo,V,s.s,s.x,s.i,go,Do,[function(){return function t(){f(this,t)}}(),new s.B],[function(){return function t(){f(this,t)}}(),new s.B]]},bo,{provide:ii,useFactory:function(t){return t.routerState.root},deps:[Io]},{provide:s.x,useClass:s.L},No,Ro,function(){function t(){f(this,t)}return p(t,[{key:"preload",value:function(t,e){return e().pipe(An(function(){return Object(Ge.a)(null)}))}}]),t}(),{provide:Do,useValue:{enableTracing:!1}}];function Fo(){return new s.z("Router",Io)}var Vo,Uo=((Vo=function(){function t(e,n){f(this,t)}return p(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Lo,Ho(e),{provide:Mo,useFactory:zo,deps:[[Io,new s.B,new s.K]]},{provide:Do,useValue:n||{}},{provide:A,useFactory:qo,deps:[g,[new s.p(M),new s.B],Do]},{provide:jo,useFactory:Bo,deps:[Io,re,Do]},{provide:Ao,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Ro},{provide:s.z,multi:!0,useFactory:Fo},[Ko,{provide:s.d,multi:!0,useFactory:Go,deps:[Ko]},{provide:Yo,useFactory:Qo,deps:[Ko]},{provide:s.b,multi:!0,useExisting:Yo}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Ho(e)]}}}]),t}()).\u0275mod=s.Lb({type:Vo}),Vo.\u0275inj=s.Kb({factory:function(t){return new(t||Vo)(s.Wb(Mo,8),s.Wb(Io,8))}}),Vo);function Bo(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new jo(t,e,n)}function qo(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new F(t,e):new L(t,e)}function zo(t){return"guarded"}function Ho(t){return[{provide:s.a,multi:!0,useValue:t},{provide:go,multi:!0,useValue:t}]}var Wo,Ko=((Wo=function(){function t(e){f(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new Qe.a}return p(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(C,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(Io),i=t.injector.get(Do);return"disabled"===i.initialNavigation?(r.setUpLocationChangeListener(),e(!0)):"enabled"===i.initialNavigation||"enabledBlocking"===i.initialNavigation?(r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Ge.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Do),n=this.injector.get(No),r=this.injector.get(jo),i=this.injector.get(Io),o=this.injector.get(s.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||i.initialNavigation(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}]),t}()).\u0275fac=function(t){return new(t||Wo)(s.Wb(s.s))},Wo.\u0275prov=s.Jb({token:Wo,factory:Wo.\u0275fac}),Wo);function Go(t){return t.appInitializer.bind(t)}function Qo(t){return t.bootstrapListener.bind(t)}var Yo=new s.r("Router Initializer");function Xo(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(kk){o(kk)}}function s(t){try{u(r.throw(t))}catch(kk){o(kk)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,s)}u((r=r.apply(t,e||[])).next())})}var Zo=o("XoHu");function Jo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(Je.a)(r))return $o(r,null);if(Object(Zo.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var o=Object.keys(r);return $o(o.map(function(t){return r[t]}),o)}}if("function"==typeof e[e.length-1]){var a=e.pop();return $o(e=1===e.length&&Object(Je.a)(e[0])?e[0]:e,null).pipe(Object(pn.a)(function(t){return a.apply(void 0,i(t))}))}return $o(e,null)}function $o(t,e){return new sn.a(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(Ke.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()})}var ta,ea,na=new s.r("NgValueAccessor"),ra={provide:na,useExisting:Object(s.V)(function(){return ia}),multi:!0},ia=((ta=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||ta)(s.Nb(s.F),s.Nb(s.l))},ta.\u0275dir=s.Ib({type:ta,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&s.Zb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[s.Bb([ra])]}),ta),oa={provide:na,useExisting:Object(s.V)(function(){return sa}),multi:!0},aa=new s.r("CompositionEventMode"),sa=((ea=function(){function t(e,n,r){var i;f(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=c()?c().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||ea)(s.Nb(s.F),s.Nb(s.l),s.Nb(aa,8))},ea.\u0275dir=s.Ib({type:ea,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&s.Zb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[s.Bb([oa])]}),ea);function ua(t){return null==t||0===t.length}function ca(t){return null!=t&&"number"==typeof t.length}var la=new s.r("NgValidators"),ha=new s.r("NgAsyncValidators"),fa=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,da=function(){function t(){f(this,t)}return p(t,null,[{key:"min",value:function(t){return function(e){if(ua(e.value)||ua(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(ua(e.value)||ua(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return ua(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return ua(t.value)||fa.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){return ua(e.value)||!ca(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"maxLength",value:function(t){return function(e){return ca(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(ua(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(pa);return 0==e.length?null:function(t){return ga(ya(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(pa);return 0==e.length?null:function(t){return Jo(ya(t,e).map(va)).pipe(Object(pn.a)(ga))}}}]),t}();function pa(t){return null!=t}function va(t){var e=Object(s.tb)(t)?Object(Ke.a)(t):t;return Object(s.sb)(e),e}function ga(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ya(t,e){return e.map(function(e){return e(t)})}function ma(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function ba(t){return null!=t?da.compose(ma(t)):null}function _a(t){return null!=t?da.composeAsync(ma(t)):null}function wa(t,e){return null===t?[e]:Array.isArray(t)?[].concat(i(t),[e]):[t,e]}function ka(t){return t._rawValidators}function Ca(t){return t._rawAsyncValidators}var Oa,Ea,Sa,Ta,Ia,xa,Pa,Aa,Ra,Na,ja=((Ea=function(){function t(){f(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return p(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=ba(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_a(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||Ea)},Ea.\u0275dir=s.Ib({type:Ea}),Ea),Da=((Oa=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(ja)).\u0275fac=function(t){return Ma(t||Oa)},Oa.\u0275dir=s.Ib({type:Oa,features:[s.zb]}),Oa),Ma=s.Ub(Da),La=function(t){v(n,t);var e=y(n);function n(){var t;return f(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return n}(ja),Fa=function(){function t(e){f(this,t),this._cd=e}return p(t,[{key:"is",value:function(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}]),t}(),Va=((Ta=function(t){v(n,t);var e=y(n);function n(t){return f(this,n),e.call(this,t)}return n}(Fa)).\u0275fac=function(t){return new(t||Ta)(s.Nb(La,2))},Ta.\u0275dir=s.Ib({type:Ta,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&s.Fb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[s.zb]}),Ta),Ua=((Sa=function(t){v(n,t);var e=y(n);function n(t){return f(this,n),e.call(this,t)}return n}(Fa)).\u0275fac=function(t){return new(t||Sa)(s.Nb(Da,10))},Sa.\u0275dir=s.Ib({type:Sa,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&s.Fb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[s.zb]}),Sa),Ba={provide:na,useExisting:Object(s.V)(function(){return qa}),multi:!0},qa=((Ia=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Ia)(s.Nb(s.F),s.Nb(s.l))},Ia.\u0275dir=s.Ib({type:Ia,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&s.Zb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[s.Bb([Ba])]}),Ia),za={provide:na,useExisting:Object(s.V)(function(){return Wa}),multi:!0},Ha=((Pa=function(){function t(){f(this,t),this._accessors=[]}return p(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||Pa)},Pa.\u0275prov=s.Jb({token:Pa,factory:Pa.\u0275fac}),Pa),Wa=((xa=function(){function t(e,n,r,i){f(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return p(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(La),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),t}()).\u0275fac=function(t){return new(t||xa)(s.Nb(s.F),s.Nb(s.l),s.Nb(Ha),s.Nb(s.s))},xa.\u0275dir=s.Ib({type:xa,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&s.Zb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[s.Bb([za])]}),xa),Ka={provide:na,useExisting:Object(s.V)(function(){return Ga}),multi:!0},Ga=((Aa=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return p(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Aa)(s.Nb(s.F),s.Nb(s.l))},Aa.\u0275dir=s.Ib({type:Aa,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&s.Zb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[s.Bb([Ka])]}),Aa),Qa={provide:na,useExisting:Object(s.V)(function(){return Ya}),multi:!0},Ya=((Ra=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return p(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?"".concat(e):(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),t}()).\u0275fac=function(t){return new(t||Ra)(s.Nb(s.F),s.Nb(s.l))},Ra.\u0275dir=s.Ib({type:Ra,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&s.Zb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Bb([Qa])]}),Ra),Xa={provide:na,useExisting:Object(s.V)(function(){return Za}),multi:!0},Za=((Na=function(){function t(e,n){f(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Object.is}return p(t,[{key:"compareWith",set:function(t){this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map(function(t){return n._getOptionId(t)});e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(void 0!==n.selectedOptions)for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),t}()).\u0275fac=function(t){return new(t||Na)(s.Nb(s.F),s.Nb(s.l))},Na.\u0275dir=s.Ib({type:Na,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&s.Zb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[s.Bb([Xa])]}),Na);function Ja(t,e){return[].concat(i(e.path),[t])}function $a(t,e){ns(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&is(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&is(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function ts(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),rs(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function es(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ns(t,e,n){var r=ka(t);null!==e.validator?t.setValidators(wa(r,e.validator)):"function"==typeof r&&t.setValidators([r]);var i=Ca(t);if(null!==e.asyncValidator?t.setAsyncValidators(wa(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){var o=function(){return t.updateValueAndValidity()};es(e._rawValidators,o),es(e._rawAsyncValidators,o)}}function rs(t,e,n){var r=!1;if(null!==t){if(null!==e.validator){var i=ka(t);if(Array.isArray(i)&&i.length>0){var o=i.filter(function(t){return t!==e.validator});o.length!==i.length&&(r=!0,t.setValidators(o))}}if(null!==e.asyncValidator){var a=Ca(t);if(Array.isArray(a)&&a.length>0){var s=a.filter(function(t){return t!==e.asyncValidator});s.length!==a.length&&(r=!0,t.setAsyncValidators(s))}}}if(n){var u=function(){};es(e._rawValidators,u),es(e._rawAsyncValidators,u)}return r}function is(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function os(t,e){ns(t,e,!1)}function as(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}var ss=[ia,Ga,qa,Ya,Za,Wa];function us(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function cs(t,e){return e?(Array.isArray(e),e.forEach(function(t){var e;t.constructor===sa?n=t:(e=t,ss.some(function(t){return e.constructor===t})?r=t:i=t)}),i||r||n||null):null;var n,r,i}function ls(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function hs(t){return(vs(t)?t.validators:t)||null}function fs(t){return Array.isArray(t)?ba(t):t||null}function ds(t,e){return(vs(e)?e.asyncValidators:t)||null}function ps(t){return Array.isArray(t)?_a(t):t||null}function vs(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var gs,ys,ms,bs,_s,ws,ks,Cs,Os,Es,Ss,Ts=function(){function t(e,n){f(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=fs(this._rawValidators),this._composedAsyncValidatorFn=ps(this._rawAsyncValidators)}return p(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=fs(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ps(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING",this._hasOwnPendingAsyncValidator=!0;var n=va(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach(function(t){r=r instanceof xs?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ps&&r.at(t)||null}),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new s.n,this.statusChanges=new s.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){vs(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Is=function(t){v(n,t);var e=y(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this,hs(i),ds(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!o}),t}return p(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){ls(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){ls(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(Ts),xs=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,hs(r),ds(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return p(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Is?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var r=e.controls[n];r&&t(r,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var r=n[e],i=this.controls[r];if(this.contains(r)&&t(i))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,r){n=e(n,t,r)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(Ts),Ps=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,hs(r),ds(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!!i}),o}return p(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof Is?t.value:t.getRawValue()})}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=a(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Ts),As={provide:Da,useExisting:Object(s.V)(function(){return Ns})},Rs=Promise.resolve(null),Ns=((gs=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).submitted=!1,i._directives=[],i.ngSubmit=new s.n,i.form=new xs({},ba(t),_a(r)),i}return p(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;Rs.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),$a(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Rs.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),ls(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;Rs.then(function(){var n=e._findContainer(t.path),r=new xs({});os(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;Rs.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Rs.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,us(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(Da)).\u0275fac=function(t){return new(t||gs)(s.Nb(la,10),s.Nb(ha,10))},gs.\u0275dir=s.Ib({type:gs,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&s.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Bb([As]),s.zb]}),gs),js={provide:La,useExisting:Object(s.V)(function(){return Ms})},Ds=Promise.resolve(null),Ms=((ms=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this)).control=new Is,a._registered=!1,a.update=new s.n,a._parent=t,a._setValidators(r),a._setAsyncValidators(i),a.valueAccessor=cs(0,o),a}return p(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),as(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Ja(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){$a(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;Ds.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Ds.then(function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()})}}]),n}(La)).\u0275fac=function(t){return new(t||ms)(s.Nb(Da,9),s.Nb(la,10),s.Nb(ha,10),s.Nb(na,10))},ms.\u0275dir=s.Ib({type:ms,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[s.Bb([js]),s.zb,s.Ab]}),ms),Ls=((ys=function t(){f(this,t)}).\u0275fac=function(t){return new(t||ys)},ys.\u0275dir=s.Ib({type:ys,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),ys),Fs=new s.r("NgModelWithFormControlWarning"),Vs={provide:Da,useExisting:Object(s.V)(function(){return Us})},Us=((bs=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).validators=t,i.asyncValidators=r,i.submitted=!1,i._onCollectionChange=function(){return i._updateDomValue()},i.directives=[],i.form=null,i.ngSubmit=new s.n,i._setValidators(t),i._setAsyncValidators(r),i}return p(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(rs(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return $a(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){ts(t.control||null,t,!1),ls(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,us(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=t.form.get(e.path);e.control!==n&&(ts(e.control||null,e),n&&$a(n,e),e.control=n)}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);os(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return rs(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){ns(this.form,this,!1),this._oldForm&&rs(this._oldForm,this,!1)}},{key:"_checkFormPresent",value:function(){}}]),n}(Da)).\u0275fac=function(t){return new(t||bs)(s.Nb(la,10),s.Nb(ha,10))},bs.\u0275dir=s.Ib({type:bs,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&s.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s.Bb([Vs]),s.zb,s.Ab]}),bs),Bs={provide:La,useExisting:Object(s.V)(function(){return qs})},qs=((_s=function(t){v(n,t);var e=y(n);function n(t,r,i,o,a){var u;return f(this,n),(u=e.call(this))._ngModelWarningConfig=a,u._added=!1,u.update=new s.n,u._ngModelWarningSent=!1,u._parent=t,u._setValidators(r),u._setAsyncValidators(i),u.valueAccessor=cs(0,o),u}return p(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),as(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return Ja(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(La)).\u0275fac=function(t){return new(t||_s)(s.Nb(Da,13),s.Nb(la,10),s.Nb(ha,10),s.Nb(na,10),s.Nb(Fs,8))},_s.\u0275dir=s.Ib({type:_s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s.Bb([Bs]),s.zb,s.Ab]}),_s._ngModelWarningSentOnce=!1,_s),zs={provide:la,useExisting:Object(s.V)(function(){return Hs}),multi:!0},Hs=((ws=function(){function t(){f(this,t),this._required=!1}return p(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!="".concat(t),this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this.required?da.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}()).\u0275fac=function(t){return new(t||ws)},ws.\u0275dir=s.Ib({type:ws,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&s.Db("required",e.required?"":null)},inputs:{required:"required"},features:[s.Bb([zs])]}),ws),Ws={provide:la,useExisting:Object(s.V)(function(){return Ks}),multi:!0},Ks=((Ss=function(){function t(){f(this,t),this._validator=da.nullValidator}return p(t,[{key:"ngOnChanges",value:function(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return null==this.minlength?null:this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=da.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}]),t}()).\u0275fac=function(t){return new(t||Ss)},Ss.\u0275dir=s.Ib({type:Ss,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&s.Db("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[s.Bb([Ws]),s.Ab]}),Ss),Gs=((Es=function t(){f(this,t)}).\u0275mod=s.Lb({type:Es}),Es.\u0275inj=s.Kb({factory:function(t){return new(t||Es)}}),Es),Qs=((Os=function(){function t(){f(this,t)}return p(t,[{key:"group",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=this._reduceControls(t),i=null,o=null;return null!=n&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(n)?(i=null!=n.validators?n.validators:null,o=null!=n.asyncValidators?n.asyncValidators:null,e=null!=n.updateOn?n.updateOn:void 0):(i=null!=n.validator?n.validator:null,o=null!=n.asyncValidator?n.asyncValidator:null)),new xs(r,{asyncValidators:o,updateOn:e,validators:i})}},{key:"control",value:function(t,e,n){return new Is(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map(function(t){return r._createControl(t)});return new Ps(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(r){n[r]=e._createControl(t[r])}),n}},{key:"_createControl",value:function(t){return t instanceof Is||t instanceof xs||t instanceof Ps?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||Os)},Os.\u0275prov=s.Jb({token:Os,factory:Os.\u0275fac}),Os),Ys=((Cs=function t(){f(this,t)}).\u0275mod=s.Lb({type:Cs}),Cs.\u0275inj=s.Kb({factory:function(t){return new(t||Cs)},providers:[Ha],imports:[Gs]}),Cs),Xs=((ks=function(){function t(){f(this,t)}return p(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Fs,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=s.Lb({type:ks}),ks.\u0275inj=s.Kb({factory:function(t){return new(t||ks)},providers:[Qs,Ha],imports:[Gs]}),ks);function Zs(t){return new RegExp("^([a-z0-9_-]+.?)*[a-z0-9-+]+@[a-z0-9.-]+\\.[a-z]{2,4}$").test(t.value)?null:{invalidEmailFormat:!0}}var Js=function(t){var e=t.get("password"),n=t.get("passwordRe");return e&&n&&e.value===n.value?null:{passwordMismatch:!0}},$s=o("zIRd"),tu=(o("t6oF"),o("6Uf2"),o("q/0M")),eu=o("qOnz"),nu=function(t,e){return(nu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ru(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var iu,ou="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},au=au||{},su=ou||self;function uu(){}function cu(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function lu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var hu="closure_uid_"+(1e9*Math.random()>>>0),fu=0;function du(t,e,n){return t.call.apply(t.bind,arguments)}function pu(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function vu(t,e,n){return(vu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?du:pu).apply(null,arguments)}function gu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function yu(){return Date.now()}function mu(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function bu(){this.j=this.j,this.i=this.i}bu.prototype.j=!1,bu.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,hu)&&t[hu]||(t[hu]=++fu)}(this)},bu.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _u=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},wu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ku(t){return Array.prototype.concat.apply([],arguments)}function Cu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Ou(t){return/^[\s\xa0]*$/.test(t)}var Eu,Su=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Tu(t,e){return-1!=t.indexOf(e)}function Iu(t,e){return t<e?-1:t>e?1:0}t:{var xu=su.navigator;if(xu){var Pu=xu.userAgent;if(Pu){Eu=Pu;break t}}Eu=""}function Au(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Ru(t){var e={};for(var n in t)e[n]=t[n];return e}var Nu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ju(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Nu.length;o++)n=Nu[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Du(t){return Du[" "](t),t}Du[" "]=uu;var Mu,Lu,Fu=Tu(Eu,"Opera"),Vu=Tu(Eu,"Trident")||Tu(Eu,"MSIE"),Uu=Tu(Eu,"Edge"),Bu=Uu||Vu,qu=Tu(Eu,"Gecko")&&!(Tu(Eu.toLowerCase(),"webkit")&&!Tu(Eu,"Edge"))&&!(Tu(Eu,"Trident")||Tu(Eu,"MSIE"))&&!Tu(Eu,"Edge"),zu=Tu(Eu.toLowerCase(),"webkit")&&!Tu(Eu,"Edge");function Hu(){var t=su.document;return t?t.documentMode:void 0}t:{var Wu="",Ku=(Lu=Eu,qu?/rv:([^\);]+)(\)|;)/.exec(Lu):Uu?/Edge\/([\d\.]+)/.exec(Lu):Vu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Lu):zu?/WebKit\/(\S+)/.exec(Lu):Fu?/(?:Version)[ \/]?(\S+)/.exec(Lu):void 0);if(Ku&&(Wu=Ku?Ku[1]:""),Vu){var Gu=Hu();if(null!=Gu&&Gu>parseFloat(Wu)){Mu=String(Gu);break t}}Mu=Wu}var Qu={};function Yu(t){return function(t,e){var n=Qu;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Su(String(Mu)).split("."),r=Su(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Iu(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Iu(0==a[2].length,0==s[2].length)||Iu(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var Xu=su.document&&Vu&&(Hu()||parseInt(Mu,10))||void 0,Zu=!Vu||9<=Number(Xu),Ju=Vu&&!Yu("9"),$u=function(){if(!su.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{su.addEventListener("test",uu,e),su.removeEventListener("test",uu,e)}catch(n){}return t}();function tc(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ec(t,e){if(tc.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(qu){t:{try{Du(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:nc[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}tc.prototype.b=function(){this.defaultPrevented=!0},mu(ec,tc);var nc={2:"touch",3:"pen",4:"mouse"};ec.prototype.b=function(){ec.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ju)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var rc="closure_listenable_"+(1e6*Math.random()|0),ic=0;function oc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ic,this.Y=this.Z=!1}function ac(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function sc(t){this.src=t,this.a={},this.b=0}function uc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=_u(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ac(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function cc(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}sc.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=cc(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new oc(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var lc="closure_lm_"+(1e6*Math.random()|0),hc={};function fc(t,e,n,r,i){if(r&&r.once)return pc(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)fc(t,e[o],n,r,i);return null}return n=kc(n),t&&t[rc]?t.va(e,n,lu(r)?!!r.capture:!!r,i):dc(t,e,n,!1,r,i)}function dc(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=lu(i)?!!i.capture:!!i;if(a&&!Zu)return null;var s=_c(t);if(s||(t[lc]=s=new sc(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=bc,e=Zu?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$u||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yc(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function pc(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)pc(t,e[o],n,r,i);return null}return n=kc(n),t&&t[rc]?t.wa(e,n,lu(r)?!!r.capture:!!r,i):dc(t,e,n,!0,r,i)}function vc(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)vc(t,e[o],n,r,i);else r=lu(r)?!!r.capture:!!r,n=kc(n),t&&t[rc]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=cc(o=t.a[e],n,r,i))&&(ac(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=_c(t))&&(e=t.a[e.toString()],t=-1,e&&(t=cc(e,n,r,i)),(n=-1<t?e[t]:null)&&gc(n))}function gc(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[rc])uc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yc(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_c(e))?(uc(n,t),0==n.b&&(n.src=null,e[lc]=null)):ac(t)}}}function yc(t){return t in hc?hc[t]:hc[t]="on"+t}function mc(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&gc(t),n.call(r,e)}function bc(t,e){if(t.Y)return!0;if(!Zu){if(!e)t:{e=["window","event"];for(var n=su,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return mc(t,e=new ec(e,this))}return mc(t,new ec(e,this))}function _c(t){return(t=t[lc])instanceof sc?t:null}var wc="__closure_events_fn_"+(1e9*Math.random()>>>0);function kc(t){return"function"==typeof t?t:(t[wc]||(t[wc]=function(e){return t.handleEvent(e)}),t[wc])}function Cc(){bu.call(this),this.c=new sc(this),this.J=this,this.C=null}function Oc(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new tc(e,t);else if(e instanceof tc)e.target=e.target||t;else{var i=e;ju(e=new tc(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Ec(a,r,!0,e)&&i}if(i=Ec(a=e.a=t,r,!0,e)&&i,i=Ec(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Ec(a=e.a=n[o],r,!1,e)&&i}function Ec(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&uc(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}mu(Cc,bu),Cc.prototype[rc]=!0,(iu=Cc.prototype).addEventListener=function(t,e,n,r){fc(this,t,e,n,r)},iu.removeEventListener=function(t,e,n,r){vc(this,t,e,n,r)},iu.G=function(){if(Cc.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ac(n[r]);delete e.a[t],e.b--}}this.C=null},iu.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},iu.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Sc=su.JSON.stringify;function Tc(){this.b=this.a=null}var Ic,xc=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ac},function(t){t.reset()});function Pc(){var t=Dc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ac(){this.next=this.b=this.a=null}function Rc(t){su.setTimeout(function(){throw t},0)}function Nc(t,e){Ic||function(){var t=su.Promise.resolve(void 0);Ic=function(){t.then(Mc)}}(),jc||(Ic(),jc=!0),Dc.add(t,e)}Tc.prototype.add=function(t,e){var n=xc.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ac.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ac.prototype.reset=function(){this.next=this.b=this.a=null};var jc=!1,Dc=new Tc;function Mc(){for(var t;t=Pc();){try{t.a.call(t.b)}catch(n){Rc(n)}var e=xc;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}jc=!1}function Lc(t,e){Cc.call(this),this.b=t||1,this.a=e||su,this.f=vu(this.Za,this),this.g=yu()}function Fc(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vc(t,e,n){if("function"==typeof t)n&&(t=vu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=vu(t.handleEvent,t)}return 2147483647<Number(e)?-1:su.setTimeout(t,e||0)}function Uc(t){t.a=Vc(function(){t.a=null,t.c&&(t.c=!1,Uc(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}mu(Lc,Cc),(iu=Lc.prototype).aa=!1,iu.M=null,iu.Za=function(){if(this.aa){var t=yu()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Oc(this,"tick"),this.aa&&(Fc(this),this.start()))}},iu.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=yu())},iu.G=function(){Lc.X.G.call(this),Fc(this),delete this.a};var Bc=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}nu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Uc(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(su.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(bu);function qc(t){bu.call(this),this.b=t,this.a={}}mu(qc,bu);var zc=[];function Hc(t,e,n,r){Array.isArray(n)||(n&&(zc[0]=n.toString()),n=zc);for(var i=0;i<n.length;i++){var o=fc(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Wc(t){Au(t.a,function(t,e){this.a.hasOwnProperty(e)&&gc(t)},t),t.a={}}function Kc(){this.a=!0}function Gc(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Sc(n)}catch(s){return e}}(t,n)+(r?" "+r:"")})}qc.prototype.G=function(){qc.X.G.call(this),Wc(this)},qc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kc.prototype.info=function(){};var Qc={},Yc=null;function Xc(){return Yc=Yc||new Cc}function Zc(t){tc.call(this,Qc.Fa,t)}function Jc(t){var e=Xc();Oc(e,new Zc(e,t))}function $c(t,e){tc.call(this,Qc.STAT_EVENT,t),this.stat=e}function tl(t){var e=Xc();Oc(e,new $c(e,t))}function el(t){tc.call(this,Qc.Ga,t)}function nl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return su.setTimeout(function(){t()},e)}Qc.Fa="serverreachability",mu(Zc,tc),Qc.STAT_EVENT="statevent",mu($c,tc),Qc.Ga="timingevent",mu(el,tc);var rl={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},il={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function ol(){}function al(){}ol.prototype.a=null;var sl,ul={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function cl(){tc.call(this,"d")}function ll(){tc.call(this,"c")}function hl(){}function fl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new qc(this),this.P=dl,this.R=new Lc(t=Bu?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}mu(cl,tc),mu(ll,tc),mu(hl,ol),sl=new hl;var dl=45e3,pl={},vl={};function gl(t,e,n){t.H=1,t.i=Fl(Rl(e)),t.j=n,t.I=!0,yl(t,null)}function yl(t,e){t.u=yu(),_l(t),t.l=Rl(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Zl(n.b,"t",r),t.D=0,t.a=Wh(t.g,t.g.C?e:null),0<t.O&&(t.F=new Bc(vu(t.Ca,t,t.a),t.O)),Hc(t.J,t.a,"readystatechange",t.Xa),e=t.B?Ru(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Jc(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a})}(t.c,t.m,t.l,t.f,t.S,t.j)}function ml(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=bl(t,n);if(i==vl){4==e&&(t.h=4,tl(14),r=!1),Gc(t.c,t.f,null,"[Incomplete Response]");break}if(i==pl){t.h=4,tl(15),Gc(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Gc(t.c,t.f,i,null),El(t,i)}4==e&&0==n.length&&(t.h=1,tl(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Lh(e),e.F=!0,tl(11))):(Gc(t.c,t.f,n,"[Invalid Chunked Response]"),Ol(t),Cl(t))}function bl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?vl:(n=Number(e.substring(n,r)),isNaN(n)?pl:(r+=1)+n>e.length?vl:(e=e.substr(r,n),t.D=r+n,e))}function _l(t){t.T=yu()+t.P,wl(t,t.P)}function wl(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=nl(vu(t.Va,t),e)}function kl(t){t.o&&(su.clearTimeout(t.o),t.o=null)}function Cl(t){0==t.g.v||t.A||Uh(t.g,t)}function Ol(t){kl(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Fc(t.R),Wc(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function El(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ih(n.b,t)))if(n.I=t.N,!t.C&&ih(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Dw){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Vh(n),Ih(n)}Mh(n),tl(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=nl(vu(n.Sa,n),6e3));if(1>=rh(n.b)&&n.ea){try{n.ea()}catch(Dw){}n.ea=void 0}}else qh(n,11)}else if((t.C||n.a==t)&&Vh(n),!Ou(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Tu(l,"spdy")||Tu(l,"quic")||Tu(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(oh(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Ll(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=yu()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Hh(u,u.C?u.ga:null,u.fa),d.C){ah(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(kl(p),_l(p)),u.a=d}else Dh(u);0<n.g.length&&Ah(n)}else"stop"!=i[0]&&"close"!=i[0]||qh(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qh(n,7):Th(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Jc(4)}catch(Dw){}}function Sl(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(cu(t)||"string"==typeof t)wu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(cu(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(cu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Tl(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Tl)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Il(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];xl(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)xl(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function xl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(iu=fl.prototype).setTimeout=function(t){this.P=t},iu.Xa=function(t){t=t.target;var e=this.F;e&&3==Ch(t)?e.f():this.Ca(t)},iu.Ca=function(t){try{if(t==this.a)t:{var e=Ch(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Bu&&!this.a.$())){this.A||4!=e||7==n||Jc(8==n||0>=r?3:2),kl(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ou(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,tl(12),Ol(this),Cl(this);break t}Gc(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,El(this,u)}this.I?(ml(this,e,o),Bu&&this.b&&3==e&&(Hc(this.J,this.R,"tick",this.Wa),this.R.start())):(Gc(this.c,this.f,o,null),El(this,o)),4==e&&Ol(this),this.b&&!this.A&&(4==e?Uh(this.g,this):(this.b=!1,_l(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,tl(12)):(this.h=0,tl(13)),Ol(this),Cl(this)}}}catch(c){}},iu.Wa=function(){if(this.a){var t=Ch(this.a),e=this.a.$();this.D<e.length&&(kl(this),ml(this,t,e),this.b&&4!=t&&_l(this))}},iu.cancel=function(){this.A=!0,Ol(this)},iu.Va=function(){this.o=null;var t=yu();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Jc(3),tl(17)),Ol(this),this.h=2,Cl(this)):wl(this,this.T-t)},(iu=Tl.prototype).K=function(){Il(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},iu.L=function(){return Il(this),this.a.concat()},iu.get=function(t,e){return xl(this.b,t)?this.b[t]:e},iu.set=function(t,e){xl(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},iu.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Al(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Al){this.a=void 0!==e?e:t.a,Nl(this,t.f),this.j=t.j,jl(this,t.c),Dl(this,t.h),this.g=t.g,e=t.b;var n=new Gl;n.c=e.c,e.a&&(n.a=new Tl(e.a),n.b=e.b),Ml(this,n),this.i=t.i}else t&&(n=String(t).match(Pl))?(this.a=!!e,Nl(this,n[1]||"",!0),this.j=Vl(n[2]||""),jl(this,n[3]||"",!0),Dl(this,n[4]),this.g=Vl(n[5]||"",!0),Ml(this,n[6]||"",!0),this.i=Vl(n[7]||"")):(this.a=!!e,this.b=new Gl(null,this.a))}function Rl(t){return new Al(t)}function Nl(t,e,n){t.f=n?Vl(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function jl(t,e,n){t.c=n?Vl(e,!0):e}function Dl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ml(t,e,n){e instanceof Gl?(t.b=e,function(t,e){e&&!t.f&&(Ql(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Yl(this,e),Zl(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Ul(e,Wl)),t.b=new Gl(e,t.a))}function Ll(t,e,n){t.b.set(e,n)}function Fl(t){return Ll(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^yu()).toString(36)),t}function Vl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ul(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bl),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bl(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Al.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ul(e,ql,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ul(e,ql,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ul(n,"/"==n.charAt(0)?Hl:zl,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ul(n,Kl)),t.join("")};var ql=/[#\/\?@]/g,zl=/[#\?:]/g,Hl=/[#\?]/g,Wl=/[#\?@]/g,Kl=/#/g;function Gl(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ql(t){t.a||(t.a=new Tl,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Yl(t,e){Ql(t),e=Jl(t,e),xl(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xl((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Il(t)))}function Xl(t,e){return Ql(t),e=Jl(t,e),xl(t.a.b,e)}function Zl(t,e,n){Yl(t,e),0<n.length&&(t.c=null,t.a.set(Jl(t,e),Cu(n)),t.b+=n.length)}function Jl(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(iu=Gl.prototype).add=function(t,e){Ql(this),this.c=null,t=Jl(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},iu.forEach=function(t,e){Ql(this),this.a.forEach(function(n,r){wu(n,function(n){t.call(e,n,r,this)},this)},this)},iu.L=function(){Ql(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},iu.K=function(t){Ql(this);var e=[];if("string"==typeof t)Xl(this,t)&&(e=ku(e,this.a.get(Jl(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ku(e,t[n])}return e},iu.set=function(t,e){return Ql(this),this.c=null,Xl(this,t=Jl(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},iu.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},iu.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var $l=function(t,e){this.b=t,this.a=e};function th(t){this.g=t||eh,t=su.PerformanceNavigationTiming?0<(t=su.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(su.ia&&su.ia.ya&&su.ia.ya()&&su.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var eh=10;function nh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function rh(t){return t.b?1:t.a?t.a.size:0}function ih(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function oh(t,e){t.a?t.a.add(e):t.b=e}function ah(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function sh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ru(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Cu(t.c)}function uh(){}function ch(){this.a=new uh}function lh(t,e,n){var r=n||"";try{Sl(t,function(t,n){var i=t;lu(t)&&(i=Sc(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(kk){throw e.push(r+"type="+encodeURIComponent("_badmap")),kk}}function hh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}th.prototype.cancel=function(){var t,e;if(this.c=sh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ru(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},uh.prototype.stringify=function(t){return su.JSON.stringify(t,void 0)},uh.prototype.parse=function(t){return su.JSON.parse(t,void 0)};var fh=su.JSON.parse;function dh(t){Cc.call(this),this.headers=new Tl,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=ph,this.D=this.F=!1}mu(dh,Cc);var ph="",vh=/^https?$/i,gh=["POST","PUT"];function yh(t){return"content-type"==t.toLowerCase()}function mh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,bh(t),wh(t)}function bh(t){t.u||(t.u=!0,Oc(t,"complete"),Oc(t,"error"))}function _h(t){if(t.b&&void 0!==au&&(!t.s[1]||4!=Ch(t)||2!=t.W()))if(t.l&&4==Ch(t))Vc(t.za,0,t);else if(Oc(t,"readystatechange"),4==Ch(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Pl)[1]||null;if(!o&&su.self&&su.self.location){var a=su.self.location.protocol;o=a.substr(0,a.length-1)}i=!vh.test(o?o.toLowerCase():"")}e=i}if(e)Oc(t,"complete"),Oc(t,"success");else{t.h=6;try{var s=2<Ch(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",bh(t)}}finally{wh(t)}}}function wh(t,e){if(t.a){kh(t);var n=t.a,r=t.s[0]?uu:null;t.a=null,t.s=null,e||Oc(t,"ready");try{n.onreadystatechange=r}catch(kk){}}}function kh(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(su.clearTimeout(t.m),t.m=null)}function Ch(t){return t.a?t.a.readyState:0}function Oh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Au(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ll(t,e,n))}function Eh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Sh(t){this.pa=0,this.g=[],this.c=new Kc,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Eh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Eh("baseRetryDelayMs",5e3,t),this.Ra=Eh("retryDelaySeedMs",1e4,t),this.Ma=Eh("forwardChannelMaxRetries",2,t),this.ma=Eh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new th(t&&t.concurrentRequestLimit),this.ka=new ch,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Th(t){if(xh(t),3==t.v){var e=t.R++,n=Rl(t.B);Ll(n,"SID",t.J),Ll(n,"RID",e),Ll(n,"TYPE","terminate"),Nh(t,n),(e=new fl(t,t.c,e,void 0)).H=2,e.i=Fl(Rl(n)),n=!1,su.navigator&&su.navigator.sendBeacon&&(n=su.navigator.sendBeacon(e.i.toString(),"")),!n&&su.Image&&((new Image).src=e.i,n=!0),n||(e.a=Wh(e.g,null),e.a.ba(e.i)),e.u=yu(),_l(e)}zh(t)}function Ih(t){t.a&&(Lh(t),t.a.cancel(),t.a=null)}function xh(t){Ih(t),t.j&&(su.clearTimeout(t.j),t.j=null),Vh(t),t.b.cancel(),t.h&&("number"==typeof t.h&&su.clearTimeout(t.h),t.h=null)}function Ph(t,e){t.g.push(new $l(t.Oa++,e)),3==t.v&&Ah(t)}function Ah(t){nh(t.b)||t.h||(t.h=!0,Nc(t.Ba,t),t.u=0)}function Rh(t,e){var n;n=e?e.f:t.R++;var r=Rl(t.B);Ll(r,"SID",t.J),Ll(r,"RID",n),Ll(r,"AID",t.P),Nh(t,r),t.i&&t.l&&Oh(r,t.i,t.l),n=new fl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=jh(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),oh(t.b,n),gl(n,r,e)}function Nh(t,e){t.f&&Sl({},function(t,n){Ll(e,n,t)})}function jh(t,e,n){n=Math.min(t.g.length,n);var r=t.f?vu(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{lh(l,a,"req"+c+"_")}catch(If){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Dh(t){t.a||t.j||(t.T=1,Nc(t.Aa,t),t.o=0)}function Mh(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=nl(vu(t.Aa,t),Bh(t,t.o)),t.o++,0))}function Lh(t){null!=t.s&&(su.clearTimeout(t.s),t.s=null)}function Fh(t){t.a=new fl(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Rl(t.la);Ll(e,"RID","rpc"),Ll(e,"SID",t.J),Ll(e,"CI",t.H?"0":"1"),Ll(e,"AID",t.P),Nh(t,e),Ll(e,"TYPE","xmlhttp"),t.i&&t.l&&Oh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Fl(Rl(e)),n.j=null,n.I=!0,yl(n,t)}function Vh(t){null!=t.m&&(su.clearTimeout(t.m),t.m=null)}function Uh(t,e){var n=null;if(t.a==e){Vh(t),Lh(t),t.a=null;var r=2}else{if(!ih(t.b,e))return;n=e.s,ah(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=yu()-e.u;var i=t.u;Oc(r=Xc(),new el(r,n,e,i)),Ah(t)}else Dh(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(rh(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=nl(vu(t.Ba,t,e),Bh(t,t.u)),t.u++,0)))}(t,e)||2==r&&Mh(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qh(t,5);break;case 4:qh(t,10);break;case 3:qh(t,6);break;default:qh(t,2)}}function Bh(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function qh(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=vu(t.Ya,t);n||(n=new Al("//www.google.com/images/cleardot.gif"),su.location&&"http"==su.location.protocol||Nl(n,"https"),Fl(n)),function(t,e){var n=new Kc;if(su.Image){var r=new Image;r.onload=gu(hh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=gu(hh,n,r,"TestLoadImage: error",!1,e),r.onabort=gu(hh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=gu(hh,n,r,"TestLoadImage: timeout",!1,e),su.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else tl(2);t.v=0,t.f&&t.f.ra(e),zh(t),xh(t)}function zh(t){t.v=0,t.I=-1,t.f&&(0==sh(t.b).length&&0==t.g.length||(t.b.c.length=0,Cu(t.g),t.g.length=0),t.f.qa())}function Hh(t,e,n){var r=function(t){return t instanceof Al?Rl(t):new Al(t,void 0)}(n);if(""!=r.c)e&&jl(r,e+"."+r.c),Dl(r,r.h);else{var i=su.location;r=function(t,e,n,r){var i=new Al(null,void 0);return t&&Nl(i,t),e&&jl(i,e),n&&Dl(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Au(t.V,function(t,e){Ll(r,e,t)}),n=t.na,(e=t.A)&&n&&Ll(r,e,n),Ll(r,"VER",t.ha),Nh(t,r),r}function Wh(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dh(t.Na)).F=t.C,e}function Kh(){}function Gh(){if(Vu&&!(10<=Number(Xu)))throw Error("Environmental error: no available transport.")}function Qh(t,e){Cc.call(this),this.a=new Sh(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Ou(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ou(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Zh(this)}function Yh(t){cl.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Xh(){ll.call(this),this.status=1}function Zh(t){this.a=t}(iu=dh.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:sl),this.a.onreadystatechange=vu(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void mh(this,o)}t=n||"";var i=new Tl(this.headers);r&&Sl(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=yh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=su.FormData&&t instanceof su.FormData,!(0<=_u(gh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{kh(this),0<this.o&&((this.D=function(t){return Vu&&Yu(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=vu(this.xa,this)):this.m=Vc(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){mh(this,o)}},iu.xa=function(){void 0!==au&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Oc(this,"timeout"),this.abort(8))},iu.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Oc(this,"complete"),Oc(this,"abort"),wh(this))},iu.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),wh(this,!0)),dh.X.G.call(this)},iu.za=function(){this.j||(this.A||this.l||this.g?_h(this):this.Ua())},iu.Ua=function(){_h(this)},iu.W=function(){try{return 2<Ch(this)?this.a.status:-1}catch(Lu){return-1}},iu.$=function(){try{return this.a?this.a.responseText:""}catch(Lu){return""}},iu.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),fh(e)}},iu.ua=function(){return this.h},iu.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(iu=Sh.prototype).ha=8,iu.v=1,iu.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new fl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ju(r=Ru(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=jh(this,n,e),Ll(i=Rl(this.B),"RID",t),Ll(i,"CVER",22),this.A&&Ll(i,"X-HTTP-Session-Id",this.A),Nh(this,i),this.i&&r&&Oh(i,this.i,r),oh(this.b,n),this.Ia&&Ll(i,"TYPE","init"),this.da?(Ll(i,"$req",e),Ll(i,"SID","null"),n.U=!0,gl(n,i,null)):gl(n,i,e),this.v=2}}else 3==this.v&&(t?Rh(this,t):0==this.g.length||nh(this.b)||Rh(this))},iu.Aa=function(){if(this.j=null,Fh(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=nl(vu(this.Ta,this),t)}},iu.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,tl(10),Ih(this),Fh(this))},iu.Sa=function(){null!=this.m&&(this.m=null,Ih(this),Mh(this),tl(19))},iu.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),tl(2)):(this.c.info("Failed to ping google.com"),tl(1))},(iu=Kh.prototype).ta=function(){},iu.sa=function(){},iu.ra=function(){},iu.qa=function(){},iu.Ja=function(){},Gh.prototype.a=function(t,e){return new Qh(t,e)},mu(Qh,Cc),Qh.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;tl(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Hh(t,null,t.fa),Ah(t)},Qh.prototype.close=function(){Th(this.a)},Qh.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Ph(this.a,e)}else this.l?((e={}).__data__=Sc(t),Ph(this.a,e)):Ph(this.a,t)},Qh.prototype.G=function(){this.a.f=null,delete this.f,Th(this.a),delete this.a,Qh.X.G.call(this)},mu(Yh,cl),mu(Xh,ll),mu(Zh,Kh),Zh.prototype.ta=function(){Oc(this.a,"a")},Zh.prototype.sa=function(t){Oc(this.a,new Yh(t))},Zh.prototype.ra=function(t){Oc(this.a,new Xh(t))},Zh.prototype.qa=function(){Oc(this.a,"b")},Gh.prototype.createWebChannel=Gh.prototype.a,Qh.prototype.send=Qh.prototype.h,Qh.prototype.open=Qh.prototype.g,Qh.prototype.close=Qh.prototype.close,rl.NO_ERROR=0,rl.TIMEOUT=8,rl.HTTP_ERROR=6,il.COMPLETE="complete",al.EventType=ul,ul.OPEN="a",ul.CLOSE="b",ul.ERROR="c",ul.MESSAGE="d",Cc.prototype.listen=Cc.prototype.va,dh.prototype.listenOnce=dh.prototype.wa,dh.prototype.getLastError=dh.prototype.Qa,dh.prototype.getLastErrorCode=dh.prototype.ua,dh.prototype.getStatus=dh.prototype.W,dh.prototype.getResponseJson=dh.prototype.Pa,dh.prototype.getResponseText=dh.prototype.$,dh.prototype.send=dh.prototype.ba;var Jh=rl,$h=il,tf=Qc,ef=al,nf=dh,rf=o("mxel"),of=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},af=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),sf=new tu.b("@firebase/firestore");function uf(){return sf.logLevel}function cf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sf.logLevel<=tu.a.DEBUG){var r=e.map(ff);sf.debug.apply(sf,Object(rf.g)(["Firestore (8.2.9): "+t],r))}}function lf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sf.logLevel<=tu.a.ERROR){var r=e.map(ff);sf.error.apply(sf,Object(rf.g)(["Firestore (8.2.9): "+t],r))}}function hf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(sf.logLevel<=tu.a.WARN){var r=e.map(ff);sf.warn.apply(sf,Object(rf.g)(["Firestore (8.2.9): "+t],r))}}function ff(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(kk){return t}}function df(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.9) INTERNAL ASSERTION FAILED: "+t;throw lf(e),new Error(e)}function pf(t,e){t||df()}function vf(t,e){return t}function gf(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yf=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=gf(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function mf(t,e){return t<e?-1:t>e?1:0}function bf(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function _f(t){return t+"\0"}var wf=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return mf(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();wf.T=new wf("");var kf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cf=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(rf.c)(e,t),e}(Error),Of=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(wf.fromBase64String(e))}catch(e){throw new Cf(kf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(wf.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Ef=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ef.UNAUTHENTICATED=new Ef(null),Ef.R=new Ef("google-credentials-uid"),Ef.P=new Ef("first-party-uid");var Sf=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Tf=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Ef.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),If=function(){function t(t){var e=this;this.D=null,this.currentUser=Ef.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.$(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(cf("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(pf("string"==typeof n.accessToken),new Sf(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.$=function(){var t=this.auth&&this.auth.getUid();return pf(null===t||"string"==typeof t),new Ef(t)},t}(),xf=function(){function t(t,e){this.F=t,this.O=e,this.type="FirstParty",this.user=Ef.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.O},e=this.F.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Pf=function(){function t(t,e){this.F=t,this.O=e}return t.prototype.getToken=function(){return Promise.resolve(new xf(this.F,this.O))},t.prototype.v=function(t){t(Ef.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Af=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.k=function(t){return n.M(t)},this.L=function(t){return e.B(t)})}return t.prototype.M=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.L&&this.L(t),t},t}();Af.q=-1;var Rf=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Cf(kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Cf(kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Cf(kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cf(kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?mf(this.nanoseconds,t.nanoseconds):mf(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Nf=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new Rf(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),jf=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&df(),void 0===n?n=t.length-e:n>t.length-e&&df(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Cf(kf.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(jf),Mf=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return Mf.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Cf(kf.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Cf(kf.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Cf(kf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Cf(kf.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(jf),Ff=function(){function t(t){this.path=t}return t._t=function(e){return new t(Df.ot(e))},t.ft=function(e){return new t(Df.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Df.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return Df.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new Df(e.slice()))},t}();function Vf(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Uf(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bf(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var qf=function(){function t(t){this.fields=t,t.sort(Lf.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return bf(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),zf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hf(t){if(pf(!!t),"string"==typeof t){var e=0,n=zf.exec(t);if(pf(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Wf(t.seconds),nanos:Wf(t.nanos)}}function Wf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Kf(t){return"string"==typeof t?wf.fromBase64String(t):wf.fromUint8Array(t)}function Gf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qf(t){var e=t.mapValue.fields.__previous_value__;return Gf(e)?Qf(e):e}function Yf(t){var e=Hf(t.mapValue.fields.__local_write_time__.timestampValue);return new Rf(e.seconds,e.nanos)}function Xf(t){return null==t}function Zf(t){return 0===t&&1/t==-1/0}function Jf(t){return"number"==typeof t&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function $f(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gf(t)?4:10:df()}function td(t,e){var n=$f(t);if(n!==$f(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yf(t).isEqual(Yf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Hf(t.timestampValue),r=Hf(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Kf(t.bytesValue).isEqual(Kf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Wf(t.geoPointValue.latitude)===Wf(e.geoPointValue.latitude)&&Wf(t.geoPointValue.longitude)===Wf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Wf(t.integerValue)===Wf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Wf(t.doubleValue),r=Wf(e.doubleValue);return n===r?Zf(n)===Zf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return bf(t.arrayValue.values||[],e.arrayValue.values||[],td);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Vf(n)!==Vf(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!td(n[i],r[i])))return!1;return!0}(t,e);default:return df()}}function ed(t,e){return void 0!==(t.values||[]).find(function(t){return td(t,e)})}function nd(t,e){var n=$f(t),r=$f(e);if(n!==r)return mf(n,r);switch(n){case 0:return 0;case 1:return mf(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Wf(t.integerValue||t.doubleValue),r=Wf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return rd(t.timestampValue,e.timestampValue);case 4:return rd(Yf(t),Yf(e));case 5:return mf(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Kf(t),r=Kf(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=mf(n[i],r[i]);if(0!==o)return o}return mf(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=mf(Wf(t.latitude),Wf(e.latitude));return 0!==n?n:mf(Wf(t.longitude),Wf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=nd(n[i],r[i]);if(o)return o}return mf(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=mf(r[a],o[a]);if(0!==s)return s;var u=nd(n[r[a]],i[o[a]]);if(0!==u)return u}return mf(r.length,o.length)}(t.mapValue,e.mapValue);default:throw df()}}function rd(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return mf(t,e);var n=Hf(t),r=Hf(e),i=mf(n.seconds,r.seconds);return 0!==i?i:mf(n.nanos,r.nanos)}function id(t){return od(t)}function od(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Hf(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Kf(t.bytesValue).toBase64():"referenceValue"in t?Ff.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=od(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+od(t.fields[o])}return e+"}"}(t.mapValue):df();var e}function ad(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function sd(t){return!!t&&"integerValue"in t}function ud(t){return!!t&&"arrayValue"in t}function cd(t){return!!t&&"nullValue"in t}function ld(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function hd(t){return!!t&&"mapValue"in t}var fd=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!hd(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return td(this.proto,t.proto)},t}(),dd=function(){function t(t){void 0===t&&(t=fd.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===$f(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Lf.ct(),this.At);return null!=t?new fd(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=hd(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var a=n.yt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function pd(t){var e=[];return Uf(t.fields||{},function(t,n){var r=new Lf([t]);if(hd(n)){var i=pd(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)}),new qf(e)}var vd=function(t,e){this.key=t,this.version=e},gd=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(rf.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(vd),yd=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(rf.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(vd),md=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(vd),bd=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.vt=null};function _d(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new bd(t,e,n,r,i,o,a)}function wd(t){var e=vf(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+id(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=jd(e.startAt)),e.endAt&&(n+="|ub:",n+=jd(e.endAt)),e.vt=n}return e.vt}function kd(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Md(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!td(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Fd(t.startAt,e.startAt)&&Fd(t.endAt,e.endAt)}function Cd(t){return Ff.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Od=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(rf.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Ed(t,n,r):"array-contains"===n?new xd(t,r):"in"===n?new Pd(t,r):"not-in"===n?new Ad(t,r):"array-contains-any"===n?new Rd(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new Sd(t,n):new Td(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(nd(e,this.value)):null!==e&&$f(this.value)===$f(e)&&this.Dt(nd(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return df()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ed=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ff.ft(r.referenceValue),i}return Object(rf.c)(e,t),e.prototype.matches=function(t){var e=Ff.H(t.key,this.key);return this.Dt(e)},e}(Od),Sd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Id(0,n),r}return Object(rf.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Od),Td=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Id(0,n),r}return Object(rf.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Od);function Id(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ff.ft(t.referenceValue)})}var xd=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(rf.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ud(e)&&ed(e.arrayValue,this.value)},e}(Od),Pd=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(rf.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&ed(this.value.arrayValue,e)},e}(Od),Ad=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(rf.c)(e,t),e.prototype.matches=function(t){if(ed(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!ed(this.value.arrayValue,e)},e}(Od),Rd=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(rf.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return ed(e.value.arrayValue,t)})},e}(Od),Nd=function(t,e){this.position=t,this.before=e};function jd(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return id(t)}).join(",")}var Dd=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Md(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Ld(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ut()?Ff.H(Ff.ft(a.referenceValue),n.key):nd(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Fd(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!td(t.position[n],e.position[n]))return!1;return!0}var Vd=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Nt=null,this.$t=null};function Ud(t,e,n,r,i,o,a,s){return new Vd(t,e,n,r,i,o,a,s)}function Bd(t){return new Vd(t)}function qd(t){return!Xf(t.limit)&&"F"===t.limitType}function zd(t){return!Xf(t.limit)&&"L"===t.limitType}function Hd(t){return t.xt.length>0?t.xt[0].field:null}function Wd(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Kd(t){return null!==t.collectionGroup}function Gd(t){var e=vf(t);if(null===e.Nt){e.Nt=[];var n=Wd(e),r=Hd(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Dd(n)),e.Nt.push(new Dd(Lf.ht(),"asc"));else{for(var i=!1,o=0,a=e.xt;o<a.length;o++){var s=a[o];e.Nt.push(s),s.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Dd(Lf.ht(),u))}}}return e.Nt}function Qd(t){var e=vf(t);if(!e.$t)if("F"===e.limitType)e.$t=_d(e.path,e.collectionGroup,Gd(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Gd(e);r<i.length;r++){var o=i[r];n.push(new Dd(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Nd(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Nd(e.startAt.position,!e.startAt.before):null;e.$t=_d(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.$t}function Yd(t,e,n){return new Vd(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xd(t,e){return kd(Qd(t),Qd(e))&&t.limitType===e.limitType}function Zd(t){return wd(Qd(t))+"|lt:"+t.limitType}function Jd(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+id(e.value);var e}).join(", ")+"]"),Xf(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+jd(t.startAt)),t.endAt&&(e+=", endAt: "+jd(t.endAt)),"Target("+e+")"}(Qd(t))+"; limitType="+t.limitType+")"}function $d(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Ff.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Ld(t.startAt,Gd(t),e)||t.endAt&&Ld(t.endAt,Gd(t),e))}(t,e)}function tp(t){return function(e,n){for(var r=!1,i=0,o=Gd(t);i<o.length;i++){var a=o[i],s=ep(a,e,n);if(0!==s)return s;r=r||a.field.ut()}return 0}}function ep(t,e,n){var r=t.field.ut()?Ff.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?nd(r,i):df()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return df()}}var np=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Nf.min()),void 0===o&&(o=Nf.min()),void 0===a&&(a=wf.T),this.target=t,this.targetId=e,this.Ft=n,this.sequenceNumber=r,this.Ot=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.kt=function(e){return new t(this.target,this.targetId,this.Ft,e,this.Ot,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Mt=function(e,n){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.Ft,this.sequenceNumber,this.Ot,e,this.resumeToken)},t}();function rp(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function ip(t){return{integerValue:""+t}}function op(t,e){return Jf(e)?ip(e):rp(t,e)}var ap=function(){this.qt=void 0};function sp(t,e,n){return t instanceof lp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof hp?fp(t,e):t instanceof dp?pp(t,e):function(t,e){var n=cp(t,e),r=gp(n)+gp(t.Ut);return sd(n)&&sd(t.Ut)?ip(r):rp(t.Qt,r)}(t,e)}function up(t,e,n){return t instanceof hp?fp(t,e):t instanceof dp?pp(t,e):n}function cp(t,e){return t instanceof vp?sd(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var lp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e}(ap),hp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(rf.c)(e,t),e}(ap);function fp(t,e){for(var n=yp(e),r=function(t){n.some(function(e){return td(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var dp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(rf.c)(e,t),e}(ap);function pp(t,e){for(var n=yp(e),r=function(t){n=n.filter(function(e){return!td(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var vp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(rf.c)(e,t),e}(ap);function gp(t){return Wf(t.integerValue||t.doubleValue)}function yp(t){return ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var mp=function(t,e){this.field=t,this.transform=e},bp=function(t,e){this.version=t,this.transformResults=e},_p=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function wp(t,e){return void 0!==t.updateTime?e instanceof gd&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof gd}var kp=function(){};function Cp(t,e,n){return t instanceof Ip?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ap(t.fieldTransforms,e,n.transformResults);r=Np(t.fieldTransforms,r,i)}return new gd(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof xp?function(t,e,n){if(!wp(t.jt,e))return new md(t.key,n.version);var r=Pp(t,e,n.transformResults?Ap(t.fieldTransforms,e,n.transformResults):[]);return new gd(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new yd(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Op(t,e,n){return t instanceof Ip?function(t,e,n){if(!wp(t.jt,e))return e;var r=t.value,i=Rp(t.fieldTransforms,n,e);r=Np(t.fieldTransforms,r,i);var o=Tp(e);return new gd(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof xp?function(t,e,n){if(!wp(t.jt,e))return e;var r=Tp(e),i=Pp(t,e,Rp(t.fieldTransforms,n,e));return new gd(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return wp(t.jt,e)?new yd(t.key,Nf.min()):e}(t,e)}function Ep(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof gd?e.field(o.field):void 0,s=cp(o.transform,a||null);null!=s&&(n=null==n?(new dd).set(o.field,s):n.set(o.field,s))}return n?n.Pt():null}(t.fieldTransforms,e)}function Sp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&bf(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof hp&&e instanceof hp||t instanceof dp&&e instanceof dp?bf(t.elements,e.elements,td):t instanceof vp&&e instanceof vp?td(t.Ut,e.Ut):t instanceof lp&&e instanceof lp}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function Tp(t){return t instanceof gd?t.version:Nf.min()}var Ip=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(rf.c)(e,t),e}(kp),xp=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.Gt=r,a.jt=i,a.fieldTransforms=o,a.type=1,a}return Object(rf.c)(e,t),e}(kp);function Pp(t,e,n){var r;return r=function(t,e){var n=new dd(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof gd?e.data():fd.empty()),Np(t.fieldTransforms,r,n)}function Ap(t,e,n){var r=[];pf(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof gd&&(s=e.field(o.field)),r.push(up(a,s,n[i]))}return r}function Rp(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof gd&&(u=n.field(a.field)),r.push(sp(s,u,e))}return r}function Np(t,e,n){for(var r=new dd(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var jp,Dp,Mp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(rf.c)(e,t),e}(kp),Lp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(rf.c)(e,t),e}(kp),Fp=function(t){this.count=t};function Vp(t){switch(t){case kf.OK:return df();case kf.CANCELLED:case kf.UNKNOWN:case kf.DEADLINE_EXCEEDED:case kf.RESOURCE_EXHAUSTED:case kf.INTERNAL:case kf.UNAVAILABLE:case kf.UNAUTHENTICATED:return!1;case kf.INVALID_ARGUMENT:case kf.NOT_FOUND:case kf.ALREADY_EXISTS:case kf.PERMISSION_DENIED:case kf.FAILED_PRECONDITION:case kf.ABORTED:case kf.OUT_OF_RANGE:case kf.UNIMPLEMENTED:case kf.DATA_LOSS:return!0;default:return df()}}function Up(t){if(void 0===t)return lf("GRPC error has no .code"),kf.UNKNOWN;switch(t){case jp.OK:return kf.OK;case jp.CANCELLED:return kf.CANCELLED;case jp.UNKNOWN:return kf.UNKNOWN;case jp.DEADLINE_EXCEEDED:return kf.DEADLINE_EXCEEDED;case jp.RESOURCE_EXHAUSTED:return kf.RESOURCE_EXHAUSTED;case jp.INTERNAL:return kf.INTERNAL;case jp.UNAVAILABLE:return kf.UNAVAILABLE;case jp.UNAUTHENTICATED:return kf.UNAUTHENTICATED;case jp.INVALID_ARGUMENT:return kf.INVALID_ARGUMENT;case jp.NOT_FOUND:return kf.NOT_FOUND;case jp.ALREADY_EXISTS:return kf.ALREADY_EXISTS;case jp.PERMISSION_DENIED:return kf.PERMISSION_DENIED;case jp.FAILED_PRECONDITION:return kf.FAILED_PRECONDITION;case jp.ABORTED:return kf.ABORTED;case jp.OUT_OF_RANGE:return kf.OUT_OF_RANGE;case jp.UNIMPLEMENTED:return kf.UNIMPLEMENTED;case jp.DATA_LOSS:return kf.DATA_LOSS;default:return df()}}(Dp=jp||(jp={}))[Dp.OK=0]="OK",Dp[Dp.CANCELLED=1]="CANCELLED",Dp[Dp.UNKNOWN=2]="UNKNOWN",Dp[Dp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dp[Dp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dp[Dp.NOT_FOUND=5]="NOT_FOUND",Dp[Dp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dp[Dp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dp[Dp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dp[Dp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dp[Dp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dp[Dp.ABORTED=10]="ABORTED",Dp[Dp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dp[Dp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dp[Dp.INTERNAL=13]="INTERNAL",Dp[Dp.UNAVAILABLE=14]="UNAVAILABLE",Dp[Dp.DATA_LOSS=15]="DATA_LOSS";var Bp=function(){function t(t,e){this.H=t,this.root=e||zp.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,zp.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,zp.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new qp(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new qp(this.root,t,this.H,!1)},t.prototype.ne=function(){return new qp(this.root,null,this.H,!0)},t.prototype.se=function(t){return new qp(this.root,t,this.H,!0)},t}(),qp=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),zp=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw df();if(this.right.le())throw df();var t=this.left.Ie();if(t!==this.right.Ie())throw df();return t+(this.le()?0:1)},t}();zp.EMPTY=null,zp.RED=!0,zp.Ht=!1,zp.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw df()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw df()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw df()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw df()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw df()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new zp(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var Hp=function(){function t(t){this.H=t,this.data=new Bp(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new Wp(this.data.te())},t.prototype.ee=function(t){return new Wp(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),Wp=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Kp=new Bp(Ff.H);function Gp(){return Kp}function Qp(){return Gp()}var Yp=new Bp(Ff.H);function Xp(){return Yp}var Zp=new Bp(Ff.H);function Jp(){return Zp}var $p=new Hp(Ff.H);function tv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=$p,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ev=new Hp(mf);function nv(){return ev}var rv=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Ff.H(e.key,n.key)}:function(t,e){return Ff.H(t.key,e.key)},this.ge=Xp(),this.Ve=new Bp(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),iv=function(){function t(){this.be=new Bp(Ff.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):df():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),ov=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=a,this.xe=s}return t.Ne=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,rv.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Xd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),av=function(){function t(t,e,n,r,i){this.Ot=t,this.$e=e,this.Fe=n,this.Oe=r,this.ke=i}return t.Me=function(e,n){var r=new Map;return r.set(e,sv.Le(e,n)),new t(Nf.min(),r,nv(),Gp(),tv())},t}(),sv=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.Le=function(e,n){return new t(wf.T,n,tv(),tv(),tv())},t}(),uv=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},cv=function(t,e){this.targetId=t,this.je=e},lv=function(t,e,n,r){void 0===n&&(n=wf.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},hv=function(){function t(){this.Ge=0,this.ze=pv(),this.He=wf.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=tv(),e=tv(),n=tv();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:df()}}),new sv(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=pv()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),fv=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Gp(),this._n=dv(),this.fn=new Hp(mf)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof gd?this.wn(r,t.We):t.We instanceof yd&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.En(r=o[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:df()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Cd(i))if(0===n){var o=new Ff(i.path);this.En(e,o,new yd(o,Nf.min()))}else pf(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var o=e.yn(i);if(o){if(r.Be&&Cd(o.target)){var a=new Ff(o.target.path);null!==e.ln.get(a)||e.pn(i,a)||e.En(i,a,new yd(a,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=tv();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ft||(i=!1,!1)}),i&&(r=r.add(t))});var i=new av(t,n,this.fn,this.ln,r);return this.ln=Gp(),this._n=dv(),this.fn=new Hp(mf),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new hv,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Hp(mf),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||cf("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new hv),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function dv(){return new Bp(Ff.H)}function pv(){return new Bp(Ff.H)}var vv={asc:"ASCENDING",desc:"DESCENDING"},gv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yv=function(t,e){this.t=t,this.Bt=e};function mv(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function bv(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function _v(t,e){return mv(t,e.j())}function wv(t){return pf(!!t),Nf.K(function(t){var e=Hf(t);return new Rf(e.seconds,e.nanos)}(t))}function kv(t,e){return function(t){return new Df(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Cv(t){var e=Df.ot(t);return pf(Gv(e)),e}function Ov(t,e){return kv(t.t,e.path)}function Ev(t,e){var n=Cv(e);if(n.get(1)!==t.t.projectId)throw new Cf(kf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Cf(kf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Ff(xv(n))}function Sv(t,e){return kv(t.t,e)}function Tv(t){var e=Cv(t);return 4===e.length?Df.ct():xv(e)}function Iv(t){return new Df(["projects",t.t.projectId,"databases",t.t.database]).rt()}function xv(t){return pf(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Pv(t,e,n){return{name:Ov(t,e),fields:n.proto.mapValue.fields}}function Av(t,e,n){var r=Ev(t,e.name),i=wv(e.updateTime),o=new fd({mapValue:{fields:e.fields}});return new gd(r,i,o,{hasCommittedMutations:!!n})}function Rv(t,e){var n;if(e instanceof Ip)n={update:Pv(t,e.key,e.value)};else if(e instanceof Mp)n={delete:Ov(t,e.key)};else if(e instanceof xp)n={update:Pv(t,e.key,e.data),updateMask:Kv(e.Gt)};else{if(!(e instanceof Lp))return df();n={verify:Ov(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof lp)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof hp)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof dp)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof vp)return{fieldPath:e.field.rt(),increment:n.Ut};throw df()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:_v(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:df()}(t,e.jt)),n}function Nv(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?_p.updateTime(wv(t.updateTime)):void 0!==t.exists?_p.exists(t.exists):_p.Kt()}(e.currentDocument):_p.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(pf("REQUEST_TIME"===e.setToServerValue),n=new lp):"appendMissingElements"in e?n=new hp(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new dp(e.removeAllFromArray.values||[]):"increment"in e?n=new vp(t,e.increment):df();var r=Lf.lt(e.fieldPath);return new mp(r,n)}(t,e)}):[];if(e.update){var i=Ev(t,e.update.name),o=new fd({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new qf((t.fieldPaths||[]).map(function(t){return Lf.lt(t)}))}(e.updateMask);return new xp(i,o,a,n,r)}return new Ip(i,o,n,r)}if(e.delete){var s=Ev(t,e.delete);return new Mp(s,n)}if(e.verify){var u=Ev(t,e.verify);return new Lp(u,n)}return df()}function jv(t,e){return{documents:[Sv(t,e.path)]}}function Dv(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Sv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Sv(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(ld(t.value))return{unaryFilter:{field:qv(t.field),op:"IS_NAN"}};if(cd(t.value))return{unaryFilter:{field:qv(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ld(t.value))return{unaryFilter:{field:qv(t.field),op:"IS_NOT_NAN"}};if(cd(t.value))return{unaryFilter:{field:qv(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qv(t.field),op:Bv(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:qv(t.field),direction:Uv(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Bt||Xf(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Fv(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Fv(e.endAt)),n}function Mv(t){var e=Tv(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){pf(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Lv(n.where));var s=[];n.orderBy&&(s=n.orderBy.map(function(t){return function(t){return new Dd(zv(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Xf(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Vv(n.startAt));var l=null;return n.endAt&&(l=Vv(n.endAt)),Ud(e,i,s,a,u,"F",c,l)}function Lv(t){return t?void 0!==t.unaryFilter?[Wv(t)]:void 0!==t.fieldFilter?[Hv(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Lv(t)}).reduce(function(t,e){return t.concat(e)}):df():[]}function Fv(t){return{before:t.before,values:t.position}}function Vv(t){return new Nd(t.values||[],!!t.before)}function Uv(t){return vv[t]}function Bv(t){return gv[t]}function qv(t){return{fieldPath:t.rt()}}function zv(t){return Lf.lt(t.fieldPath)}function Hv(t){return Od.create(zv(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return df()}}(t.fieldFilter.op),t.fieldFilter.value)}function Wv(t){switch(t.unaryFilter.op){case"IS_NAN":var e=zv(t.unaryFilter.field);return Od.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=zv(t.unaryFilter.field);return Od.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=zv(t.unaryFilter.field);return Od.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=zv(t.unaryFilter.field);return Od.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return df()}}function Kv(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function Gv(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Qv=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Yv=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&df(),this.Nn=!0,this.xn?this.error?this.$n(n,this.error):this.Fn(e,this.result):new t(function(t,i){r.Dn=function(n){r.Fn(e,n).next(t,i)},r.Cn=function(e){r.$n(n,e).next(t,i)}})},t.prototype.On=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.kn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.Fn=function(e,n){return e?this.kn(function(){return e(n)}):t.resolve(n)},t.prototype.$n=function(e,n){return e?this.kn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Mn=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Ln=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Mn(r)},t}(),Xv=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Qv,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new $v(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=ig(e.target.error);n.Bn.reject(new $v(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new $v(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(cf("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new eg(e)},t}(),Zv=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(eu.p)())&&lf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return cf("SimpleDb","Removing database:",t),ng(window.indexedDB.deleteDatabase(t)).On()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(eu.p)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n=this;return Object(rf.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(cf("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new $v(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Cf(kf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new $v(t,n))},i.onupgradeneeded=function(t){cf("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){cf("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(rf.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return Object(rf.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.Hn(t)];case 2:return s.db=h.sent(),e=Xv.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch(function(t){return e.abort(t),Yv.reject(t)}).On(),u={},a.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return cf("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Jv=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return ng(this.Zn.delete())},t}(),$v=function(t){function e(e,n){var r=this;return(r=t.call(this,kf.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(rf.c)(e,t),e}(Cf);function tg(t){return"IndexedDbTransactionError"===t.name}var eg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(cf("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(cf("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),ng(n)},t.prototype.add=function(t){return cf("SimpleDb","ADD",this.store.name,t,t),ng(this.store.add(t))},t.prototype.get=function(t){var e=this;return ng(this.store.get(t)).next(function(n){return void 0===n&&(n=null),cf("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return cf("SimpleDb","DELETE",this.store.name,t),ng(this.store.delete(t))},t.prototype.count=function(){return cf("SimpleDb","COUNT",this.store.name),ng(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){cf("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Yv(function(n,r){e.onerror=function(t){var e=ig(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new Yv(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Jv(i),a=e(i.primaryKey,i.value,o);if(a instanceof Yv){var s=a.catch(function(t){return o.done(),Yv.reject(t)});n.push(s)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}}).next(function(){return Yv.Mn(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function ng(t){return new Yv(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ig(t.target.error);n(e)}})}var rg=!1;function ig(t){var e=Zv.Qn(Object(eu.p)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Cf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return rg||(rg=!0,setTimeout(function(){throw r},0)),r}}return t}var og=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Qv,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Cf(kf.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function ag(t,e){if(lf("AsyncQueue",e+": "+t),tg(t))return new Cf(kf.UNAVAILABLE,e+": "+t);throw t}var sg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ug=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function cg(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=hg(e)),e=lg(t.get(n),e);return hg(e)}function lg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function hg(t){return t+"\x01\x01"}function fg(t){var e=t.length;if(pf(e>=2),2===e)return pf("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Df.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&df(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:df()}o=a+2}return new Df(r)}var dg=function(t,e){this.seconds=t,this.nanoseconds=e},pg=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};pg.store="owner",pg.key="owner";var vg=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};vg.store="mutationQueues",vg.keyPath="userId";var gg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};gg.store="mutations",gg.keyPath="batchId",gg.userMutationsIndex="userMutationsIndex",gg.userMutationsKeyPath=["userId","batchId"];var yg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,cg(e)]},t.key=function(t,e,n){return[t,cg(e),n]},t}();yg.store="documentMutations",yg.PLACEHOLDER=new yg;var mg=function(t,e){this.path=t,this.readTime=e},bg=function(t,e){this.path=t,this.version=e},_g=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};_g.store="remoteDocuments",_g.readTimeIndex="readTimeIndex",_g.readTimeIndexPath="readTime",_g.collectionReadTimeIndex="collectionReadTimeIndex",_g.collectionReadTimeIndexPath=["parentPath","readTime"];var wg=function(t){this.byteSize=t};wg.store="remoteDocumentGlobal",wg.key="remoteDocumentGlobalKey";var kg=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};kg.store="targets",kg.keyPath="targetId",kg.queryTargetsIndexName="queryTargetsIndex",kg.queryTargetsKeyPath=["canonicalId","targetId"];var Cg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Cg.store="targetDocuments",Cg.keyPath=["targetId","path"],Cg.documentTargetsIndex="documentTargetsIndex",Cg.documentTargetsKeyPath=["path","targetId"];var Og=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Og.key="targetGlobalKey",Og.store="targetGlobal";var Eg=function(t,e){this.collectionId=t,this.parent=e};Eg.store="collectionParents",Eg.keyPath=["collectionId","parent"];var Sg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Sg.store="clientMetadata",Sg.keyPath="clientId";var Tg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Tg.store="bundles",Tg.keyPath="bundleId";var Ig=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Ig.store="namedQueries",Ig.keyPath="name";var xg=Object(rf.g)(Object(rf.g)(Object(rf.g)(Object(rf.g)([vg.store,gg.store,yg.store,_g.store,kg.store,pg.store,Og.store,Cg.store],[Sg.store]),[wg.store]),[Eg.store]),[Tg.store,Ig.store]),Pg=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(rf.c)(e,t),e}(ug);function Ag(t,e){var n=vf(t);return Zv.zn(n.ps,e)}var Rg=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Cp(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=Op(a,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=Op(a,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},tv())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&bf(this.mutations,t.mutations,function(t,e){return Sp(t,e)})&&bf(this.baseMutations,t.baseMutations,function(t,e){return Sp(t,e)})},t}(),Ng=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.$s=r}return t.from=function(e,n,r){pf(e.mutations.length===r.length);for(var i=Jp(),o=e.mutations,a=0;a<o.length;a++)i=i.zt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),jg=function(t){this.Fs=t};function Dg(t,e){if(e.document)return Av(t.Fs,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ff.Et(e.noDocument.path),r=Ug(e.noDocument.readTime);return new yd(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ff.Et(e.unknownDocument.path);return r=Ug(e.unknownDocument.version),new md(i,r)}return df()}function Mg(t,e,n){var r=Lg(n),i=e.key.path.X().it();if(e instanceof gd){var o=function(t,e){return{name:Ov(t,e.key),fields:e.bt().mapValue.fields,updateTime:mv(t,e.version.j())}}(t.Fs,e),a=e.hasCommittedMutations;return new _g(null,null,o,a,r,i)}if(e instanceof yd){var s=e.key.path.it(),u=Vg(e.version);return a=e.hasCommittedMutations,new _g(null,new mg(s,u),null,a,r,i)}if(e instanceof md){var c=e.key.path.it(),l=Vg(e.version);return new _g(new bg(c,l),null,null,!0,r,i)}return df()}function Lg(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Fg(t){var e=new Rf(t[0],t[1]);return Nf.K(e)}function Vg(t){var e=t.j();return new dg(e.seconds,e.nanoseconds)}function Ug(t){var e=new Rf(t.seconds,t.nanoseconds);return Nf.K(e)}function Bg(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Nv(t.Fs,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Nv(t.Fs,e)}),o=Rf.fromMillis(e.localWriteTimeMs);return new Rg(e.batchId,o,n,i)}function qg(t){var e,n,r=Ug(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ug(t.lastLimboFreeSnapshotVersion):Nf.min();return void 0!==t.query.documents?(pf(1===(n=t.query).documents.length),e=Qd(Bd(Tv(n.documents[0])))):e=function(t){return Qd(Mv(t))}(t.query),new np(e,t.targetId,0,t.lastListenSequenceNumber,r,i,wf.fromBase64String(t.resumeToken))}function zg(t,e){var n,r=Vg(e.Ot),i=Vg(e.lastLimboFreeSnapshotVersion);n=Cd(e.target)?jv(t.Fs,e.target):Dv(t.Fs,e.target);var o=e.resumeToken.toBase64();return new kg(e.targetId,wd(e.target),r,o,e.sequenceNumber,i,n)}function Hg(t){var e=Mv({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Yd(e,e.limit,"L"):e}var Wg=function(){function t(){}return t.prototype.Os=function(t,e){return Kg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Ug(e.createTime),version:e.version};var e})},t.prototype.ks=function(t,e){return Kg(t).put({bundleId:(n=e).id,createTime:Vg(wv(n.createTime)),version:n.version});var n},t.prototype.Ms=function(t,e){return Gg(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Hg(e.bundledQuery),readTime:Ug(e.readTime)};var e})},t.prototype.Ls=function(t,e){return Gg(t).put(function(t){return{name:t.name,readTime:Vg(wv(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Kg(t){return Ag(t,Tg.store)}function Gg(t){return Ag(t,Ig.store)}var Qg=function(){function t(){this.Bs=new Yg}return t.prototype.qs=function(t,e){return this.Bs.add(e),Yv.resolve()},t.prototype.Us=function(t,e){return Yv.resolve(this.Bs.getEntries(e))},t}(),Yg=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Hp(Df.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Hp(Df.H)).it()},t}(),Xg=function(){function t(){this.Qs=new Yg}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var o={collectionId:r,parent:cg(i)};return Zg(t).put(o)}return Yv.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[_f(e),""],!1,!0);return Zg(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(fg(o.parent))}return n})},t}();function Zg(t){return Ag(t,Eg.store)}var Jg={Ks:!1,Ws:0,js:0,Gs:0},$g=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function ty(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){if(t.code!==kf.FAILED_PRECONDITION||t.message!==sg)throw t;return cf("LocalStore","Unexpectedly lost primary lease"),[2]})})}$g.Xs=10,$g.Zs=1e3,$g.ti=new $g(41943040,$g.Xs,$g.Zs),$g.ei=new $g(-1,0,0);var ey=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.si(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Uf(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.et=function(){return Bf(this.ii)},t}(),ny=function(){function t(){this.ri=new ey(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:Nf.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Yv.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function ry(t,e,n){var r=t.store(gg.store),i=t.store(yg.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.hs({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){pf(1===s)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=yg.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Yv.Mn(o).next(function(){return c})}function iy(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw df();e=t.noDocument}return JSON.stringify(e).length}var oy=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return pf(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sy(t).hs({index:gg.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,o=uy(t),a=sy(t);return a.add({}).next(function(s){pf("number"==typeof s);for(var u=new Rg(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Rv(t.Fs,e)}),i=n.mutations.map(function(e){return Rv(t.Fs,e)});return new gg(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new Hp(function(t,e){return mf(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],v=yg.key(i.userId,p.key.path,s);h=h.add(p.key.path.X()),l.push(a.put(c)),l.push(o.put(v,yg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[s]=u.keys()}),Yv.Mn(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return sy(t).get(e).next(function(t){return t?(pf(t.userId===n.userId),Bg(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Yv.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return sy(t).hs({index:gg.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(pf(e.batchId>=r),o=Bg(n.Qt,e)),i.done()}).next(function(){return o})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sy(t).hs({index:gg.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sy(t).rs(gg.userMutationsIndex,n).next(function(t){return t.map(function(t){return Bg(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=yg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return uy(t).hs({range:i},function(r,i,a){var s=r[0],u=r[2],c=fg(r[1]);if(s===n.userId&&e.path.isEqual(c))return sy(t).get(u).next(function(t){if(!t)throw df();pf(t.userId===n.userId),o.push(Bg(n.Qt,t))});a.done()}).next(function(){return o})},t.prototype.vi=function(t,e){var n=this,r=new Hp(mf),i=[];return e.forEach(function(e){var o=yg.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=uy(t).hs({range:a},function(t,i,o){var a=t[0],s=t[2],u=fg(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Yv.Mn(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=yg.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Hp(mf);return uy(t).hs({range:a},function(t,e,o){var a=t[0],u=t[2],c=fg(t[1]);a===n.userId&&r.nt(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.Si(t,s)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(sy(t).get(e).next(function(t){if(null===t)throw df();pf(t.userId===n.userId),r.push(Bg(n.Qt,t))}))}),Yv.Mn(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return ry(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),Yv.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.$i=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return Yv.resolve();var r=IDBKeyRange.lowerBound(yg.prefixForUser(e.userId)),i=[];return uy(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var o=fg(t[1]);i.push(o)}else r.done()}).next(function(){pf(0===i.length)})})},t.prototype.Fi=function(t,e){return ay(t,this.userId,e)},t.prototype.Oi=function(t){var e=this;return cy(t).get(this.userId).next(function(t){return t||new vg(e.userId,-1,"")})},t}();function ay(t,e,n){var r=yg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return uy(t).hs({range:o,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function sy(t){return Ag(t,gg.store)}function uy(t){return Ag(t,yg.store)}function cy(t){return Ag(t,vg.store)}var ly=function(){function t(t){this.ki=t}return t.prototype.next=function(){return this.ki+=2,this.ki},t.Mi=function(){return new t(0)},t.Li=function(){return new t(-1)},t}(),hy=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new ly(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return Nf.K(new Rf(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return fy(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return pf(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return fy(t).hs(function(a,s){var u=qg(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))}).next(function(){return Yv.Mn(o)}).next(function(){return i})},t.prototype.In=function(t,e){return fy(t).hs(function(t,n){var r=qg(n);e(r)})},t.prototype.qi=function(t){return dy(t).get(Og.key).next(function(t){return pf(null!==t),t})},t.prototype.Ui=function(t,e){return dy(t).put(Og.key,e)},t.prototype.Gi=function(t,e){return fy(t).put(zg(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=wd(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fy(t).hs({range:r,index:kg.queryTargetsIndexName},function(t,n,r){var o=qg(n);kd(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],o=py(t);return e.forEach(function(e){var a=cg(e.path);i.push(o.put(new Cg(n,a))),i.push(r.Ti.nr(t,n,e))}),Yv.Mn(i)},t.prototype.sr=function(t,e,n){var r=this,i=py(t);return Yv.forEach(e,function(e){var o=cg(e.path);return Yv.Mn([i.delete([n,o]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=py(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=py(t),i=tv();return r.hs({range:n,us:!0},function(t,e,n){var r=fg(t[1]),o=new Ff(r);i=i.add(o)}).next(function(){return i})},t.prototype.Fi=function(t,e){var n=cg(e.path),r=IDBKeyRange.bound([n],[_f(n)],!1,!0),i=0;return py(t).hs({index:Cg.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return fy(t).get(e).next(function(t){return t?qg(t):null})},t}();function fy(t){return Ag(t,kg.store)}function dy(t){return Ag(t,Og.store)}function py(t){return Ag(t,Cg.store)}function vy(t,e){var n=t[1],r=e[1],i=mf(t[0],e[0]);return 0===i?mf(n,r):i}var gy=function(){function t(t){this.cr=t,this.buffer=new Hp(vy),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();vy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),yy=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;cf("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(rf.b)(e,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return tg(e=n.sent())?(cf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ty(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),my=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Yv.resolve(Af.q);var r=new gy(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(cf("LruGarbageCollector","Garbage collection skipped; disabled"),Yv.resolve(Jg)):this.pr(t).next(function(r){return r<n.params.zs?(cf("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),Jg):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(cf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,o=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,a=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,s=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),uf()<=tu.a.DEBUG&&cf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),Yv.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),by=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new my(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return _y(t,n)},t.prototype.ir=function(t,e,n){return _y(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return _y(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return cy(t).ls(function(r){return ay(t,r,e).next(function(t){return t&&(n=!0),Yv.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.$r().Nr(),i=[],o=0;return this.Dr(t,function(a,s){if(s<=e){var u=n.Cr(t,a).next(function(e){if(!e)return o++,r._i(t,a).next(function(){return r.li(a),py(t).delete([0,cg(a.path)])})});i.push(u)}}).next(function(){return Yv.Mn(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.kt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Fr=function(t,e){return _y(t,e)},t.prototype.Dr=function(t,e){var n,r=py(t),i=Af.q;return r.hs({index:Cg.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==Af.q&&e(new Ff(fg(n)),i),i=a,n=o):i=Af.q}).next(function(){i!==Af.q&&e(new Ff(fg(n)),i)})},t.prototype.pr=function(t){return this.db.$r().Or(t)},t}();function _y(t,e){return py(t).put(function(t,e){return new Cg(0,cg(t.path),e)}(e,t.bs))}var wy=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Oy(t).put(Ey(e),n)},t.prototype.li=function(t,e){var n=Oy(t),r=Ey(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.kr(t,r)})},t.prototype._i=function(t,e){var n=this;return Oy(t).get(Ey(e)).next(function(t){return n.Mr(t)})},t.prototype.Lr=function(t,e){var n=this;return Oy(t).get(Ey(e)).next(function(t){var e=n.Mr(t);return e?{hi:e,size:iy(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Qp();return this.Br(t,e,function(t,e){var i=n.Mr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Qp(),i=new Bp(Ff.H);return this.Br(t,e,function(t,e){var o=n.Mr(e);o?(r=r.zt(t,o),i=i.zt(t,iy(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return Yv.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return Oy(t).hs({range:r},function(t,e,r){for(var a=Ff.Et(t);o&&Ff.H(o,a)<0;)n(o,null),o=i.oe();o&&o.isEqual(a)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Xp(),o=e.path.length+1,a={};if(n.isEqual(Nf.min())){var s=e.path.it();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.it(),c=Lg(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=_g.collectionReadTimeIndex}return Oy(t).hs(a,function(t,n,a){if(t.length===o){var s=Dg(r.Qt,n);e.path.nt(s.key.path)?s instanceof gd&&$d(e,s)&&(i=i.zt(s.key,s)):a.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new ky(this,!!t&&t.Wr)},t.prototype.Or=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Cy(t).get(wg.key).next(function(t){return pf(!!t),t})},t.prototype.kr=function(t,e){return Cy(t).put(wg.key,e)},t.prototype.Mr=function(t){if(t){var e=Dg(this.Qt,t);return e instanceof yd&&e.version.isEqual(Nf.min())?null:e}return null},t}(),ky=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new ey(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(rf.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Hp(function(t,e){return mf(t.rt(),e.rt())});return this.ri.forEach(function(o,a){var s=e.Gr.get(o);if(a.hi){var u=Mg(e.jr.Qt,a.hi,e.ci(o));i=i.add(o.path.X());var c=iy(u);r+=c-s,n.push(e.jr.ai(t,o,u))}else if(r-=s,e.Wr){var l=Mg(e.jr.Qt,new yd(o,Nf.min()),e.ci(o));n.push(e.jr.ai(t,o,l))}else n.push(e.jr.li(t,o))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),Yv.Mn(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.Lr(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(ny);function Cy(t){return Ag(t,wg.store)}function Oy(t){return Ag(t,_g.store)}function Ey(t){return t.path.it()}var Sy=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;pf(n<r&&n>=0&&r<=11);var o=new Xv("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(pg.store)}(t),function(t){t.createObjectStore(vg.store,{keyPath:vg.keyPath}),t.createObjectStore(gg.store,{keyPath:gg.keyPath,autoIncrement:!0}).createIndex(gg.userMutationsIndex,gg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(yg.store)}(t),Ty(t),function(t){t.createObjectStore(_g.store)}(t));var a=Yv.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Cg.store),t.deleteObjectStore(kg.store),t.deleteObjectStore(Og.store)}(t),Ty(t)),a=a.next(function(){return function(t){var e=t.store(Og.store),n=new Og(0,0,Nf.min().j(),0);return e.put(Og.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(a=a.next(function(){return function(t,e){return e.store(gg.store).rs().next(function(n){t.deleteObjectStore(gg.store),t.createObjectStore(gg.store,{keyPath:gg.keyPath,autoIncrement:!0}).createIndex(gg.userMutationsIndex,gg.userMutationsKeyPath,{unique:!0});var r=e.store(gg.store),i=n.map(function(t){return r.put(t)});return Yv.Mn(i)})}(t,o)})),a=a.next(function(){!function(t){t.createObjectStore(Sg.store,{keyPath:Sg.keyPath})}(t)})),n<5&&r>=5&&(a=a.next(function(){return i.zr(o)})),n<6&&r>=6&&(a=a.next(function(){return function(t){t.createObjectStore(wg.store)}(t),i.Hr(o)})),n<7&&r>=7&&(a=a.next(function(){return i.Jr(o)})),n<8&&r>=8&&(a=a.next(function(){return i.Yr(t,o)})),n<9&&r>=9&&(a=a.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(_g.store);e.createIndex(_g.readTimeIndex,_g.readTimeIndexPath,{unique:!1}),e.createIndex(_g.collectionReadTimeIndex,_g.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(a=a.next(function(){return i.Xr(o)})),n<11&&r>=11&&(a=a.next(function(){!function(t){t.createObjectStore(Tg.store,{keyPath:Tg.keyPath})}(t),function(t){t.createObjectStore(Ig.store,{keyPath:Ig.keyPath})}(t)})),a},t.prototype.Hr=function(t){var e=0;return t.store(_g.store).hs(function(t,n){e+=iy(n)}).next(function(){var n=new wg(e);return t.store(wg.store).put(wg.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(vg.store),r=t.store(gg.store);return n.rs().next(function(n){return Yv.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(gg.userMutationsIndex,i).next(function(r){return Yv.forEach(r,function(r){pf(r.userId===n.userId);var i=Bg(e.Qt,r);return ry(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(Cg.store),n=t.store(_g.store);return t.store(Og.store).get(Og.key).next(function(t){var r=[];return n.hs(function(n,i){var o=new Df(n),a=function(t){return[0,cg(t)]}(o);r.push(e.get(a).next(function(n){return n?Yv.resolve():function(n){return e.put(new Cg(0,cg(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Yv.Mn(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(Eg.store,{keyPath:Eg.keyPath});var n=e.store(Eg.store),r=new Yg,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:cg(i)})}};return e.store(_g.store).hs({us:!0},function(t,e){var n=new Df(t);return i(n.X())}).next(function(){return e.store(yg.store).hs({us:!0},function(t,e){var n=fg(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(kg.store);return n.hs(function(t,r){var i=qg(r),o=zg(e.Qt,i);return n.put(o)})},t}();function Ty(t){t.createObjectStore(Cg.store,{keyPath:Cg.keyPath}).createIndex(Cg.documentTargetsIndex,Cg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(kg.store,{keyPath:kg.keyPath}).createIndex(kg.queryTargetsIndexName,kg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Og.store)}var Iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xy=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=a,this.document=s,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Cf(kf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new by(this,i),this.ho=n+"main",this.Qt=new jg(u),this.lo=new Zv(this.ho,11,new Sy(this.Qt)),this._o=new hy(this.Ti,this.Qt),this.Ei=new Xg,this.fo=function(t,e){return new wy(t,e)}(this.Qt,this.Ei),this.wo=new Wg,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&lf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Cf(kf.FAILED_PRECONDITION,Iy);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new Af(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(rf.b)(e,void 0,void 0,function(){return Object(rf.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(rf.b)(e,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(rf.b)(e,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Ay(e).put(new Sg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(tg(e))return cf("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return cf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return Py(t).get(pg.key).next(function(t){return Yv.resolve(e.Do(t))})},t.prototype.Co=function(t){return Ay(t).delete(this.clientId)},t.prototype.xo=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(rf.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Ag(t,Sg.store);return e.rs().next(function(t){var n=r.$o(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Yv.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Fo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Yv.resolve(!0):Py(t).get(pg.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.Oo(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Cf(kf.FAILED_PRECONDITION,Iy);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ay(t).rs().next(function(t){return void 0===e.$o(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&cf("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.ko=function(){return Object(rf.b)(this,void 0,void 0,function(){var t=this;return Object(rf.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Mo(),this.co&&(this.co.cancel(),this.co=null),this.Lo(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[pg.store,Sg.store],function(e){var n=new Pg(e,Af.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.$o=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.Oo(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Ay(e).rs().next(function(e){return t.$o(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return oy.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return cf("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",xg,function(o){return r=new Pg(o,i.so?i.so.next():Af.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw lf("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Cf(kf.FAILED_PRECONDITION,sg);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return Py(t).get(pg.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.Oo(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Cf(kf.FAILED_PRECONDITION,Iy)})},t.prototype.So=function(t){var e=new pg(this.clientId,this.allowTabSynchronization,Date.now());return Py(t).put(pg.key,e)},t.Kn=function(){return Zv.Kn()},t.prototype.vo=function(t){var e=this,n=Py(t);return n.get(pg.key).next(function(t){return e.Do(t)?(cf("IndexedDbPersistence","Releasing primary lease."),n.delete(pg.key)):Yv.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(lf("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Lo=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Mo(),e.Zr.Ps(function(){return e.ko()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.Oo=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Fo(t)));return cf("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return lf("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Mo=function(){if(this.Eo)try{this.Eo.setItem(this.Fo(this.clientId),String(Date.now()))}catch(t){lf("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Fo(this.clientId))}catch(t){}},t.prototype.Fo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Py(t){return Ag(t,pg.store)}function Ay(t){return Ag(t,Sg.store)}function Ry(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ny=function(t,e){this.progress=t,this.Go=e},jy=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Qp();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),o=Gp();return i.forEach(function(t,e){e||(e=new yd(t,Nf.min())),o=o.zt(t,e)}),o})},t.prototype.Kr=function(t,e,n){return function(t){return Ff.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):Kd(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Ff(e)).next(function(t){var e=Xp();return t instanceof gd&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Xp();return this.Ei.Us(t,i).next(function(a){return Yv.forEach(a,function(a){var s=function(t,e){return new Vd(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.nc(t,s,n).next(function(t){t.forEach(function(t,e){o=o.zt(t,e)})})}).next(function(){return o})})},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,o.zo.Di(t,e)}).next(function(e){return o.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=Op(u,r.get(c),o.vs);r=l instanceof gd?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){$d(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=tv(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof xp&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof gd&&(c=c.zt(t,e))}),c})},t}(),Dy=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=tv(),i=tv(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),My=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(Nf.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(o){var a=i.hc(e,o);return(qd(e)||zd(e))&&i.lc(e.limitType,a,r,n)?i.uc(t,e):(uf()<=tu.a.DEBUG&&cf("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Jd(e)),i.ac.Kr(t,e,n).next(function(t){return a.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new Hp(tp(t));return e.forEach(function(e,r){r instanceof gd&&$d(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return uf()<=tu.a.DEBUG&&cf("QueryEngine","Using full collection scan to execute query:",Jd(e)),this.ac.Kr(t,e,Nf.min())},t}(),Ly=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Bp(mf),this.dc=new ey(function(t){return wd(t)},kd),this.wc=Nf.min(),this.zo=t.Qo(n),this.Ec=t.$r(),this._o=t.Sr(),this.Tc=new jy(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function Fy(t,e,n,r){return new Ly(t,e,n,r)}function Vy(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return n=vf(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.zo.pi(t).next(function(a){return o=a,r=n.persistence.Qo(e),i=new jy(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],a=tv(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,g=p.mutations;v<g.length;v++)a=a.add(g[v].key)}return i.Xo(t,a).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return o=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}})})}function Uy(t,e){var n=vf(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Yv.resolve();return o.forEach(function(t){a=a.next(function(){return r._i(e,t)}).next(function(e){var o=e,a=n.$s.get(t);pf(null!==a),(!o||o.version._(a)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)})}),a.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}function By(t){var e=vf(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function qy(t,e){var n=vf(t),r=e.Ot,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var a=[];e.$e.forEach(function(e,o){var s=i.get(o);if(s){a.push(n._o.sr(t,e.Qe,o).next(function(){return n._o.er(t,e.qe,o)}));var u=e.resumeToken;if(u.l()>0){var c=s.Mt(u,r).kt(t.bs);i=i.zt(o,c),function(t,e,n){return pf(e.resumeToken.l()>0),0===t.resumeToken.l()||e.Ot.W()-t.Ot.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(s,c,e)&&a.push(n._o.Hi(t,c))}}});var s=Gp();if(e.Oe.forEach(function(r,i){e.ke.has(r)&&a.push(n.persistence.Ti.Fr(t,r))}),a.push(zy(t,o,e.Oe,r,void 0).next(function(t){s=t})),!r.isEqual(Nf.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});a.push(u)}return Yv.Mn(a).next(function(){return o.apply(t)}).next(function(){return n.Tc.Zo(t,s)})}).then(function(t){return n.fc=i,t})}function zy(t,e,n,r,i){var o=tv();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Gp();return n.forEach(function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof yd&&a.version.isEqual(Nf.min())?(e.li(n,u),o=o.zt(n,a)):null==s||a.version._(s.version)>0||0===a.version._(s.version)&&s.hasPendingWrites?(e.ai(a,u),o=o.zt(n,a)):cf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),o})}function Hy(t,e){var n=vf(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function Wy(t,e){var n=vf(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?Yv.resolve(r=i):n._o.Bi(t).next(function(i){return r=new np(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.Ot._(r.Ot)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Ky(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:r=vf(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!tg(a=s.sent()))throw a;return cf("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Gy(t,e,n){var r=vf(t),i=Nf.min(),o=tv();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=vf(t),i=r.dc.get(n);return void 0!==i?Yv.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,Qd(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){o=t})}).next(function(){return r._c.Kr(t,e,n?i:Nf.min(),n?o:tv())}).next(function(t){return{documents:t,Rc:o}})})}function Qy(t,e){var n=vf(t),r=vf(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Yy(t){var e=vf(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=vf(t),i=Gp(),o=Lg(n),a=Oy(e),s=IDBKeyRange.lowerBound(o,!0);return a.hs({index:_g.readTimeIndex,range:s},function(t,e){var n=Dg(r.Qt,e);i=i.zt(n.key,n),o=e.readTime}).next(function(){return{Go:i,readTime:Fg(o)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Xy(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){return[2,(e=vf(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Oy(t),n=Nf.min();return e.hs({index:_g.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Fg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function Zy(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i,o,a,s,u,c,l,h,f,d;return Object(rf.d)(this,function(p){switch(p.label){case 0:for(i=vf(t),o=tv(),a=Gp(),s=Jp(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.zt(h,e.yc(l)),s=s.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Wy(i,function(t){return Qd(Bd(Df.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return zy(t,f,a,Nf.min(),s).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,o,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function Jy(t,e,n){return void 0===n&&(n=tv()),Object(rf.b)(this,void 0,void 0,function(){var r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return[4,Wy(t,Qd(Hg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=vf(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=wv(e.readTime);if(r.Ot._(o)>=0)return i.wo.Ls(t,e);var a=r.Mt(wf.T,o);return i.fc=i.fc.zt(a.targetId,a),i._o.Hi(t,a).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.Ls(t,e)})})]}})})}var $y=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.Os=function(t,e){return Yv.resolve(this.Vc.get(e))},t.prototype.ks=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:wv(n.createTime)}),Yv.resolve()},t.prototype.Ms=function(t,e){return Yv.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:Hg(t.bundledQuery),readTime:wv(t.readTime)}}(e)),Yv.resolve()},t}(),tm=function(){function t(){this.vc=new Hp(em.Sc),this.Dc=new Hp(em.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new em(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new em(t,e))},t.prototype.$c=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Fc=function(t){var e=this,n=new Ff(new Df([])),r=new em(n,t),i=new em(n,t+1),o=[];return this.Dc.me([r,i],function(t){e.Nc(t),o.push(t.key)}),o},t.prototype.Oc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.kc=function(t){var e=new Ff(new Df([])),n=new em(e,t),r=new em(e,t+1),i=tv();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Fi=function(t){var e=new em(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),em=function(){function t(t,e){this.key=t,this.Mc=e}return t.Sc=function(t,e){return Ff.H(t.key,e.key)||mf(t.Mc,e.Mc)},t.Cc=function(t,e){return mf(t.Mc,e.Mc)||Ff.H(t.key,e.key)},t}(),nm=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.Lc=1,this.Bc=new Hp(em.Sc)}return t.prototype.Ai=function(t){return Yv.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.Lc;this.Lc++;var o=new Rg(i,e,n,r);this.zo.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Bc=this.Bc.add(new em(u.key,i)),this.Ei.qs(t,u.key.path.X())}return Yv.resolve(o)},t.prototype.Pi=function(t,e){return Yv.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return Yv.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return Yv.resolve(0===this.zo.length?-1:this.Lc-1)},t.prototype.pi=function(t){return Yv.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new em(e,0),i=new em(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Mc);o.push(e)}),Yv.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Hp(mf);return e.forEach(function(t){var e=new em(t,0),i=new em(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Mc)})}),Yv.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Ff.wt(i)||(i=i.child(""));var o=new em(new Ff(i),0),a=new Hp(mf);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(a=a.add(t.Mc)),!0)},o),Yv.resolve(this.Qc(a))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;pf(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Yv.forEach(e.mutations,function(i){var o=new em(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Fi=function(t,e){var n=new em(e,0),r=this.Bc.Re(n);return Yv.resolve(e.isEqual(r&&r.key))},t.prototype.$i=function(t){return Yv.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),rm=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Bp(Ff.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:a,readTime:n}),this.size+=a-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Yv.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Qp();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),Yv.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Xp(),i=new Ff(e.path.child("")),o=this.docs.ee(i);o.ce();){var a=o.oe(),s=a.value,u=s.hi,c=s.readTime;if(!e.path.nt(a.key.path))break;c._(n)<=0||u instanceof gd&&$d(e,u)&&(r=r.zt(u.key,u))}return Yv.resolve(r)},t.prototype.jc=function(t,e){return Yv.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new im(this)},t.prototype.Or=function(t){return Yv.resolve(this.size)},t}(),im=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(rf.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),Yv.Mn(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(ny),om=function(){function t(t){this.persistence=t,this.Gc=new ey(function(t){return wd(t)},kd),this.lastRemoteSnapshotVersion=Nf.min(),this.highestTargetId=0,this.zc=0,this.Hc=new tm,this.targetCount=0,this.Jc=ly.Mi()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),Yv.resolve()},t.prototype.Qi=function(t){return Yv.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Yv.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Yv.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Yv.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new ly(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Yv.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Yv.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Fc(e.targetId),this.targetCount-=1,Yv.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach(function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Gc.delete(a),o.push(r.Yi(t,s.targetId)),i++)}),Yv.Mn(o).next(function(){return i})},t.prototype.Zi=function(t){return Yv.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Yv.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Yv.resolve()},t.prototype.sr=function(t,e,n){this.Hc.$c(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),Yv.Mn(i)},t.prototype.Yi=function(t,e){return this.Hc.Fc(e),Yv.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.kc(e);return Yv.resolve(n)},t.prototype.Fi=function(t,e){return Yv.resolve(this.Hc.Fi(e))},t}(),am=function(){function t(t,e){var n=this;this.Yc={},this.so=new Af(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new om(this),this.Ei=new Qg,this.fo=function(t,e){return new rm(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new jg(e),this.wo=new $y(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.ko=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new nm(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.$r=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;cf("MemoryPersistence","Starting transaction:",t);var i=new sm(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).On().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return Yv.Ln(Object.values(this.Yc).map(function(n){return function(){return n.Fi(t,e)}}))},t}(),sm=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(rf.c)(e,t),e}(ug),um=function(){function t(t){this.persistence=t,this.na=new tm,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw df()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Yv.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Yv.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Yv.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Fc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.$r().Nr();return Yv.forEach(this.ra,function(r){var i=Ff._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Fr=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Yv.Ln([function(){return Yv.resolve(n.na.Fi(e))},function(){return n.persistence.Sr().Fi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function cm(t,e){return"firestore_clients_"+t+"_"+e}function lm(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function hm(t,e){return"firestore_targets_"+t+"_"+e}var fm=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Cf(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(lf("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dm=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cf(i.error.code,i.error.message)),o?new t(e,i.state,r):(lf("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pm=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=nv(),a=0;i&&a<r.activeTargetIds.length;++a)i=Jf(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(lf("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),vm=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(lf("SharedClientState","Failed to parse online state: "+e),null)},t}(),gm=function(){function t(){this.activeTargetIds=nv()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ym=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.k=null,this.da=this.wa.bind(this),this.Ea=new Bp(mf),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=cm(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new gm),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,c,l=this;return Object(rf.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(cm(this.persistenceKey,r)))&&(o=pm.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(a=this.storage.getItem(this.ya))&&(s=this.pa(a))&&this.ba(s),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.ko()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.$a(t)},t.prototype.Fa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(hm(this.persistenceKey,t));if(n){var r=dm.ca(t,n);r&&(e=r.state)}}return this.Oa.ua(t),this.Va(),e},t.prototype.ka=function(t){this.Oa.ha(t),this.Va()},t.prototype.Ma=function(t){return this.Oa.activeTargetIds.has(t)},t.prototype.La=function(t){this.removeItem(hm(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.$a(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.ko=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return cf("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){cf("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){cf("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(cf("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void lf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(rf.b)(e,void 0,void 0,function(){var t,e,r,i,o,a;return Object(rf.d)(this,function(s){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(a=function(t){var e=Af.q;if(null!=t)try{var n=JSON.parse(t);pf("number"==typeof n),e=n}catch(t){lf("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Af.q&&this.k(a);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Oa",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.Oa.aa())},t.prototype.xa=function(t,e,n){var r=new fm(this.currentUser,t,e,n),i=lm(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.$a=function(t){var e=lm(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=hm(this.persistenceKey,t),i=new dm(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return pm.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return fm.ca(new Ef(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return dm.ca(r,e)},t.prototype.pa=function(t){return vm.ca(t)},t.prototype.Ya=function(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(cf("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),a=[],s=[];return o.forEach(function(t){i.has(t)||a.push(t)}),i.forEach(function(t){o.has(t)||s.push(t)}),this._a.su(a,s).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=nv();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),mm=function(){function t(){this.iu=new gm,this.ru={},this.fa=null,this.k=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Fa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.ka=function(t){this.iu.ha(t)},t.prototype.Ma=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.La=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new gm,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.ko=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),bm=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.ko=function(){},t}(),_m=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.ko=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){cf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){cf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),wm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},km=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Cm=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(rf.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,o){var a=new nf;a.listenOnce($h.COMPLETE,function(){try{switch(a.getLastErrorCode()){case Jh.NO_ERROR:var e=a.getResponseJson();cf("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Jh.TIMEOUT:cf("Connection",'RPC "'+t+'" timed out'),o(new Cf(kf.DEADLINE_EXCEEDED,"Request time out"));break;case Jh.HTTP_ERROR:var n=a.getStatus();if(cf("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(kf).indexOf(e)>=0?e:kf.UNKNOWN}(r.status);o(new Cf(s,r.message))}else o(new Cf(kf.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Cf(kf.UNAVAILABLE,"Connection failed."));break;default:df()}}finally{cf("Connection",'RPC "'+t+'" completed.')}});var s=JSON.stringify(r);a.send(e,"POST",s,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Gh,i=Xc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(o.initMessageHeaders,e),Object(eu.x)()||Object(eu.A)()||Object(eu.t)()||Object(eu.v)()||Object(eu.B)()||Object(eu.s)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");cf("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new km({fu:function(t){c?cf("Connection","Not sending because WebChannel is closed:",t):(u||(cf("Connection","Opening WebChannel transport."),s.open(),u=!0),cf("Connection","WebChannel sending:",t),s.send(t))},du:function(){return s.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(s,ef.EventType.OPEN,function(){c||cf("Connection","WebChannel transport opened.")}),h(s,ef.EventType.CLOSE,function(){c||(c=!0,cf("Connection","WebChannel transport closed"),l.Ru())}),h(s,ef.EventType.ERROR,function(t){c||(c=!0,hf("Connection","WebChannel transport errored:",t),l.Ru(new Cf(kf.UNAVAILABLE,"The operation could not be completed")))}),h(s,ef.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];pf(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){cf("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=jp[t];if(void 0!==e)return Up(e)}(i),a=r.message;void 0===o&&(o=kf.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Cf(o,a)),s.close()}else cf("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,tf.STAT_EVENT,function(t){10===t.stat?cf("Connection","Detected buffering proxy"):11===t.stat&&cf("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);cf("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then(function(t){return cf("RestConnection","Received: ",t),t},function(e){throw hf("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.9",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+wm[t]},t}());function Om(){return"undefined"!=typeof window?window:null}function Em(){return"undefined"!=typeof document?document:null}function Sm(t){return new yv(t,!0)}var Tm=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.$u=i,this.Fu=0,this.Ou=null,this.ku=Date.now(),this.reset()}return t.prototype.reset=function(){this.Fu=0},t.prototype.Mu=function(){this.Fu=this.$u},t.prototype.Lu=function(t){var e=this;this.cancel();var n=Math.floor(this.Fu+this.Bu()),r=Math.max(0,Date.now()-this.ku),i=Math.max(0,n-r);i>0&&cf("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Fu+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ou=this.Zr.Tr(this.fs,i,function(){return e.ku=Date.now(),t()}),this.Fu*=this.Nu,this.Fu<this.xu&&(this.Fu=this.xu),this.Fu>this.$u&&(this.Fu=this.$u)},t.prototype.qu=function(){null!==this.Ou&&(this.Ou.Rs(),this.Ou=null)},t.prototype.cancel=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Fu},t}(),Im=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new Tm(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===kf.RESOURCE_EXHAUSTED?(lf(e.toString()),lf("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Mu()):e&&e.code===kf.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Cf(kf.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.Lu(function(){return Object(rf.b)(t,void 0,void 0,function(){return Object(rf.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return cf("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(cf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),xm=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,a}return Object(rf.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:df()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(pf(void 0===e||"string"==typeof e),wf.fromBase64String(e||"")):(pf(void 0===e||e instanceof Uint8Array),wf.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?kf.UNKNOWN:Up(t.code);return new Cf(e,t.message||"")}(s);n=new lv(r,i,o,a||null)}else if("documentChange"in e){i=Ev(t,(r=e.documentChange).document.name),o=wv(r.document.updateTime);var s=new fd({mapValue:{fields:r.document.fields}}),u=(a=new gd(i,o,s,{}),r.targetIds||[]);n=new uv(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=Ev(t,(r=e.documentDelete).document),o=r.readTime?wv(r.readTime):Nf.min(),s=new yd(i,o),n=new uv([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=Ev(t,(r=e.documentRemove).document),n=new uv([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return df();var c=e.filter;i=new Fp(r=c.count||0),n=new cv(o=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return Nf.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Nf.min():e.readTime?wv(e.readTime):Nf.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Iv(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Cd(r)?{documents:jv(t,r)}:{query:Dv(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=bv(t,e.resumeToken):e.Ot._(Nf.min())>0&&(n.readTime=mv(t,e.Ot.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return df()}}(0,e.Ft);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Iv(this.Qt),e.removeTarget=t,this.th(e)},e}(Im),Pm=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,a.lh=!1,a}return Object(rf.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(pf(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(pf(void 0!==e),t.map(function(t){return function(t,e){var n=wv(t.updateTime?t.updateTime:e);n.isEqual(Nf.min())&&(n=wv(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new bp(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=wv(t.commitTime);return this.listener.dh(n,e)}return pf(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Iv(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Rv(e.Qt,t)})};this.th(n)},e}(Im),Am=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(rf.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Cf(kf.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===kf.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===kf.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),Rm=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(lf(e),this.Rh=!1):cf("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Nm=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.$h=[],this.Fh=i,this.Fh.ou(function(t){n.Ps(function(){return Object(rf.b)(o,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return qm(this)?(cf("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return(e=vf(t)).Nh.add(4),[4,Dm(e)];case 1:return n.sent(),e.Oh.set("Unknown"),e.Nh.delete(4),[4,jm(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Oh=new Rm(n,r)};function jm(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:if(!qm(t))return[3,4];e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Dm(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:e=0,n=t.$h,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Mm(t,e){var n=vf(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Bm(n)?Um(n):rb(n).Hu()&&Fm(n,e))}function Lm(t,e){var n=vf(t),r=rb(n);n.xh.delete(e),r.Hu()&&Vm(n,e),0===n.xh.size&&(r.Hu()?r.Xu():qm(n)&&n.Oh.set("Unknown"))}function Fm(t,e){t.kh.on(e.targetId),rb(t).uh(e)}function Vm(t,e){t.kh.on(e),rb(t).hh(e)}function Um(t){t.kh=new fv({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),rb(t).start(),t.Oh.Ph()}function Bm(t){return qm(t)&&!rb(t).zu()&&t.xh.size>0}function qm(t){return 0===vf(t).Nh.size}function zm(t){t.kh=void 0}function Hm(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){return t.xh.forEach(function(e,n){Fm(t,e)}),[2]})})}function Wm(t,e){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(n){return zm(t),Bm(t)?(t.Oh.Vh(e),Um(t)):t.Oh.set("Unknown"),[2]})})}function Km(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:if(t.Oh.set("Online"),!(e instanceof lv&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.xh.has(o=i[r])?[4,t.Dh.Mh(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.xh.delete(o),t.kh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),cf("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Gm(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof uv?t.kh.dn(e):e instanceof cv?t.kh.Pn(e):t.kh.Tn(e),n.isEqual(Nf.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,By(t.bh)];case 8:return i=a.sent(),n._(i)>=0?[4,function(t,e){var n=t.kh.Vn(e);return n.$e.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Mt(n.resumeToken,e))}}),n.Fe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Mt(wf.T,n.Ot)),Vm(t,e);var r=new np(n.target,e,1,n.sequenceNumber);Fm(t,r)}}),t.Dh.Lh(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return cf("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Gm(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}})})}function Gm(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r=this;return Object(rf.d)(this,function(i){switch(i.label){case 0:if(!tg(e))throw e;return t.Nh.add(1),[4,Dm(t)];case 1:return i.sent(),t.Oh.set("Offline"),n||(n=function(){return By(t.bh)}),t._s.po(function(){return Object(rf.b)(r,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return cf("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,jm(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Qm(t,e){return e().catch(function(n){return Gm(t,n,e)})}function Ym(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:e=vf(t),n=ib(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return qm(t)&&t.Ch.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Hy(e.bh,r)];case 3:return null===(i=a.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=ib(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Gm(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Xm(e)&&Zm(e),[2]}})})}function Xm(t){return qm(t)&&!ib(t).zu()&&t.Ch.length>0}function Zm(t){ib(t).start()}function Jm(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){return ib(t).Eh(),[2]})})}function $m(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r;return Object(rf.d)(this,function(i){for(e=ib(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function tb(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=Ng.from(r,e,n),[4,Qm(t,function(){return t.Dh.Bh(i)})];case 1:return o.sent(),[4,Ym(t)];case 2:return o.sent(),[2]}})})}function eb(t,e){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(n){switch(n.label){case 0:return e&&ib(t)._h?[4,function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return Vp(r=e.code)&&r!==kf.ABORTED?(n=t.Ch.shift(),ib(t).Yu(),[4,Qm(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Ym(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Xm(t)&&Zm(t),[2]}})})}function nb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return n=vf(t),e?(n.Nh.delete(2),[4,jm(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Dm(n)]);case 3:r.sent(),n.Oh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function rb(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=vf(t);return r.Ih(),new xm(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Hm.bind(null,t),Tu:Wm.bind(null,t),ah:Km.bind(null,t)}),t.$h.push(function(n){return Object(rf.b)(e,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Bm(t)?Um(t):t.Oh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),zm(t),e.label=3;case 3:return[2]}})})})),t.Uh}function ib(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=vf(t);return r.Ih(),new Pm(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Jm.bind(null,t),Tu:eb.bind(null,t),wh:$m.bind(null,t),dh:tb.bind(null,t)}),t.$h.push(function(n){return Object(rf.b)(e,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Ym(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(cf("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var ob=function(){this.Kh=void 0,this.listeners=[]},ab=function(){this.queries=new ey(function(t){return Zd(t)},Xd),this.onlineState="Unknown",this.Wh=new Set};function sb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(rf.d)(this,function(c){switch(c.label){case 0:if(n=vf(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new ob),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.jh(r)];case 2:return a.Kh=c.sent(),[3,4];case 3:return s=c.sent(),u=ag(s,"Initialization of query '"+Jd(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&hb(n),[2]}})})}function ub(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(rf.d)(this,function(s){return n=vf(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function cb(t,e){for(var n=vf(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].zh(a)&&(r=!0);s.Kh=a}}r&&hb(n)}function lb(t,e,n){var r=vf(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function hb(t){t.Wh.forEach(function(t){t.next()})}var fb=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ov(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=ov.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),db=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),pb=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return Ev(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Av(this.Qt,t.document,!1):new yd(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return wv(t)},t}(),vb=function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=gb(t)}return t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new pb(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Pc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||tv()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return[4,Zy(this.bh,new pb(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Jy(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ny(Object.assign({},this.progress),t))]}})})},t}();function gb(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var yb=function(t){this.key=t},mb=function(t){this.key=t},bb=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=tv(),this.De=tv(),this.hl=tp(t),this.ll=new rv(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new iv,i=e?e.ll:this.ll,o=e?e.De:this.De,a=i,s=!1,u=qd(this.query)&&i.size===this.query.limit?i.last():null,c=zd(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof gd?e:null;h&&(h=$d(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),qd(this.query)||zd(this.query))for(;a.size>this.query.limit;){var l=qd(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{ll:a,dl:r,lc:s,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return df()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var a=e?this.Tl():[],s=0===this.ul.size&&this.Be?1:0,u=s!==this.al;return this.al=s,0!==o.length||u?{snapshot:new ov(this.query,t.ll,i,o,t.De,0===s,u,!1),Il:a}:{Il:a}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new iv,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=tv(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new mb(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new yb(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=tv();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return ov.Ne(this.query,this.ll,this.De,0===this.al)},t}(),_b=function(t,e,n){this.query=t,this.targetId=e,this.view=n},wb=function(t){this.key=t,this.Pl=!1},kb=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new ey(function(t){return Zd(t)},Xd),this.Sl=new Map,this.Dl=new Set,this.Cl=new Bp(Ff.H),this.xl=new Map,this.Nl=new tm,this.$l={},this.Fl=new Map,this.Ol=ly.Li(),this.onlineState="Unknown",this.kl=void 0}return Object.defineProperty(t.prototype,"Ml",{get:function(){return!0===this.kl},enumerable:!1,configurable:!0}),t}();function Cb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return n=Jb(t),(i=n.vl.get(e))?(n.Vl.Fa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,Wy(n.bh,Qd(e))];case 2:return o=s.sent(),a=n.Vl.Fa(o.targetId),[4,Ob(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.Ml&&Mm(n.yl,o),s.label=4;case 4:return[2,r]}})})}function Ob(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i,o,a,s,u,c;return Object(rf.d)(this,function(l){switch(l.label){case 0:return t.Ll=function(e,n,r){return function(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return(i=e.view.fl(n)).lc?[4,Gy(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.$e.get(e.targetId),a=e.view.wi(i,t.Ml,o),[2,(Lb(t,e.targetId,a.Il),a.snapshot)]}})})}(t,e,n,r)},[4,Gy(t.bh,e,!0)];case 1:return i=l.sent(),o=new bb(e,i.Rc),a=o.fl(i.documents),s=sv.Le(n,r&&"Offline"!==t.onlineState),u=o.wi(a,t.Ml,s),Lb(t,n,u.Il),c=new _b(e,n,o),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function Eb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return n=vf(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Xd(t,e)})),void n.vl.delete(e))]:n.Ml?(n.Vl.ka(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Ky(n.bh,r.targetId,!1).then(function(){n.Vl.La(r.targetId),Lm(n.yl,r.targetId),Db(n,r.targetId)}).catch(ty)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Db(n,r.targetId),[4,Ky(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Sb(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:r=$b(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=vf(t),i=Rf.now(),o=e.reduce(function(t,e){return t.add(e.key)},tv());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,o).next(function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Ep(c,n.get(c.key));null!=l&&a.push(new xp(c.key,l,pd(l.proto.mapValue),_p.exists(!0)))}return r.zo.Ri(t,i,a,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=s.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.$l[t.currentUser.A()];r||(r=new Bp(mf)),r=r.zt(e,n),t.$l[t.currentUser.A()]=r}(r,i.batchId,n),[4,Ub(r,i.ri)];case 3:return s.sent(),[4,Ym(r.yl)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=ag(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}})})}function Tb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:n=vf(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qy(n.bh,e)];case 2:return r=i.sent(),e.$e.forEach(function(t,e){var r=n.xl.get(e);r&&(pf(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?pf(r.Pl):t.Qe.size>0&&(pf(r.Pl),r.Pl=!1))}),[4,Ub(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ty(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ib(t,e,n){var r=vf(t);if(r.Ml&&0===n||!r.Ml&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=vf(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)}),r&&hb(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ml&&r.Vl.Qa(e)}}function xb(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(rf.d)(this,function(c){switch(c.label){case 0:return(r=vf(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(a=(a=new Bp(Ff.H)).zt(o,new yd(o,Nf.min())),s=tv().add(o),u=new av(Nf.min(),new Map,new Hp(mf),a,s),[4,Tb(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Vb(r),[3,4];case 2:return[4,Ky(r.bh,e,!1).then(function(){return Db(r,e,n)}).catch(ty)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function Pb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:n=vf(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Uy(n.bh,e)];case 2:return i=o.sent(),jb(n,r,null),Nb(n,r),n.Vl.Na(r,"acknowledged"),[4,Ub(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ty(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Ab(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:r=vf(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=vf(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return pf(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.$i(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=o.sent(),jb(r,e,n),Nb(r,e),r.Vl.Na(e,"rejected",n),[4,Ub(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ty(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Rb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:qm((n=vf(t)).yl)||cf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=vf(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fl.get(r)||[]).push(e),n.Fl.set(r,i),[3,4]);case 3:return o=s.sent(),a=ag(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}})})}function Nb(t,e){(t.Fl.get(e)||[]).forEach(function(t){t.resolve()}),t.Fl.delete(e)}function jb(t,e,n){var r=vf(t),i=r.$l[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.$l[r.currentUser.A()]=i}}function Db(t,e,n){void 0===n&&(n=null),t.Vl.ka(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ml&&t.Nl.Fc(e).forEach(function(e){t.Nl.Fi(e)||Mb(t,e)})}function Mb(t,e){t.Dl.delete(e.path.rt());var n=t.Cl.get(e);null!==n&&(Lm(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Vb(t))}function Lb(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof yb?(t.Nl.nr(o.key,e),Fb(t,o)):o instanceof mb?(cf("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Fi(o.key)||Mb(t,o.key)):df()}}function Fb(t,e){var n=e.key,r=n.path.rt();t.Cl.get(n)||t.Dl.has(r)||(cf("SyncEngine","New document in limbo: "+n),t.Dl.add(r),Vb(t))}function Vb(t){for(;t.Dl.size>0&&t.Cl.size<t.pl;){var e=t.Dl.values().next().value;t.Dl.delete(e);var n=new Ff(Df.ot(e)),r=t.Ol.next();t.xl.set(r,new wb(n)),t.Cl=t.Cl.zt(n,r),Mm(t.yl,new np(Qd(Bd(n.path)),r,2,Af.q))}}function Ub(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return r=vf(t),i=[],o=[],a=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,s){a.push(r.Ll(s,e,n).then(function(t){if(t){r.Ml&&r.Vl.Ba(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Dy.oc(s.targetId,t);o.push(e)}}))}),[4,Promise.all(a)]);case 1:return s.sent(),r.bl.ah(i),[4,function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c;return Object(rf.d)(this,function(l){switch(l.label){case 0:n=vf(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Yv.forEach(e,function(e){return Yv.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return Yv.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!tg(r=l.sent()))throw r;return cf("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.fc.get(s),c=u.Lt(u.Ot),n.fc=n.fc.zt(s,c));return[2]}})})}(r.bh,o)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Bb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return(n=vf(t)).currentUser.isEqual(e)?[3,3]:(cf("SyncEngine","User change. New user:",e.A()),[4,Vy(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fl.forEach(function(t){t.forEach(function(t){t.reject(new Cf(kf.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fl.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,Ub(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function qb(t,e){var n=vf(t),r=n.xl.get(e);if(r&&r.Pl)return tv().add(r.key);var i=tv(),o=n.Sl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.vl.get(s[a]);i=i.Pe(u.view._l)}return i}function zb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return[4,Gy((n=vf(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ml&&Lb(n,e.targetId,i.Il),i)]}})})}function Hb(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){return[2,Yy((e=vf(t)).bh).then(function(t){return Ub(e,t)})]})})}function Wb(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return[4,function(t,e){var n=vf(t),r=vf(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):Yv.resolve(null)})})}((i=vf(t)).bh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Ym(i.yl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(jb(i,e,r||null),Nb(i,e),function(t,e){vf(vf(t).zo).xi(e)}(i.bh,e)):df(),a.label=4;case 4:return[4,Ub(i,o)];case 5:return a.sent(),[3,7];case 6:cf("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}})})}function Kb(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u;return Object(rf.d)(this,function(c){switch(c.label){case 0:return Jb(n=vf(t)),$b(n),!0!==e||!0===n.kl?[3,3]:(r=n.Vl.va(),[4,Gb(n,r.it())]);case 1:return i=c.sent(),n.kl=!0,[4,nb(n.yl,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Mm(n.yl,a[o]);return[3,7];case 3:return!1!==e||!1===n.kl?[3,7]:(s=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.Ma(e)?s.push(e):u=u.then(function(){return Db(n,e),Ky(n.bh,e,!0)}),Lm(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,Gb(n,s)];case 5:return c.sent(),function(t){var e=vf(t);e.xl.forEach(function(t,n){Lm(e.yl,n)}),e.Nl.Oc(),e.xl=new Map,e.Cl=new Bp(Ff.H)}(n),n.kl=!1,[4,nb(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Gb(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return Object(rf.d)(this,function(v){switch(v.label){case 0:n=vf(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Sl.get(s=a[o]))&&0!==c.length?[4,Wy(n.bh,Qd(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,zb(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Qy(n.bh,s)];case 8:return p=v.sent(),[4,Wy(n.bh,p)];case 9:return u=v.sent(),[4,Ob(n,Qb(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function Qb(t){return Ud(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Yb(t){var e=vf(t);return vf(vf(e.bh).persistence).Uo()}function Xb(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return(i=vf(t)).kl?(cf("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Yy(i.bh)];case 3:return o=s.sent(),a=av.Me(e,"current"===n),[4,Ub(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,Ky(i.bh,e,!0)];case 6:return s.sent(),Db(i,e,r),[3,8];case 7:df(),s.label=8;case 8:return[2]}})})}function Zb(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h;return Object(rf.d)(this,function(f){switch(f.label){case 0:if(!(r=Jb(t)).kl)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Sl.has(a=o[i])?(cf("SyncEngine","Adding an already active target "+a),[3,5]):[4,Qy(r.bh,a)]:[3,6];case 2:return s=f.sent(),[4,Wy(r.bh,s)];case 3:return u=f.sent(),[4,Ob(r,Qb(s),u.targetId,!1)];case 4:f.sent(),Mm(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(rf.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Ky(r.bh,t,!1).then(function(){Lm(r.yl,t),Db(r,t)}).catch(ty)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Jb(t){var e=vf(t);return e.yl.Dh.Lh=Tb.bind(null,e),e.yl.Dh.vn=qb.bind(null,e),e.yl.Dh.Mh=xb.bind(null,e),e.bl.ah=cb.bind(null,e.gl),e.bl.Bl=lb.bind(null,e.gl),e}function $b(t){var e=vf(t);return e.yl.Dh.Bh=Pb.bind(null,e),e.yl.Dh.qh=Ab.bind(null,e),e}function t_(t,e,n){var r=vf(t);(function(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a,s,u;return Object(rf.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return r=c.sent(),[4,function(t,e){var n=vf(t),r=wv(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",function(t){return n.wo.Os(t,e.id)}).then(function(t){return!!t&&t.createTime._(r)>=0})}(t.bh,r)];case 2:return c.sent()?[4,e.close()]:[3,4];case 3:return[2,(c.sent(),void n.ql(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(r)))];case 4:return n.Ul(gb(r)),i=new vb(r,t.bh,e.Qt),[4,e.Ql()];case 5:o=c.sent(),c.label=6;case 6:return o?[4,i.rl(o)]:[3,10];case 7:return(a=c.sent())&&n.Ul(a),[4,e.Ql()];case 8:o=c.sent(),c.label=9;case 9:return[3,6];case 10:return[4,i.complete()];case 11:return s=c.sent(),[4,Ub(t,s.Go,void 0)];case 12:return c.sent(),[4,function(t,e){var n=vf(t);return n.persistence.runTransaction("Save bundle","readwrite",function(t){return n.wo.ks(t,e)})}(t.bh,r)];case 13:return c.sent(),n.ql(s.progress),[3,15];case 14:return hf("SyncEngine","Loading bundle failed with "+(u=c.sent())),n.Kl(u),[3,15];case 15:return[2]}})})})(r,e,n).then(function(){r.Vl.Wa()})}var e_=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return this.Qt=Sm(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Fy(this.persistence,new My,t.Jl,this.Qt)},t.prototype.jl=function(t){return new am(um.ia,this.Qt)},t.prototype.Wl=function(t){return new mm},t.prototype.terminate=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.ko()];case 1:return t.sent(),[4,this.persistence.ko()];case 2:return t.sent(),[2]}})})},t}(),n_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(rf.c)(e,t),e.prototype.initialize=function(e){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Xy(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,$b(this.Yl._a)];case 4:return n.sent(),[4,Ym(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return Fy(this.persistence,new My,t.Jl,this.Qt)},e.prototype.zl=function(t){return new yy(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=Ry(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?$g.Ys(this.cacheSizeBytes):$g.ti;return new xy(this.synchronizeTabs,e,t.clientId,n,t._s,Om(),Em(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new mm},e}(e_),r_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(rf.c)(e,t),e.prototype.initialize=function(e){return Object(rf.b)(this,void 0,void 0,function(){var n,r=this;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof ym?(this.Vl._a={eu:Wb.bind(null,n),nu:Xb.bind(null,n),su:Zb.bind(null,n),Uo:Yb.bind(null,n),tu:Hb.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(rf.b)(r,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return[4,Kb(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Om();if(!ym.Kn(e))throw new Cf(kf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Ry(t.yu.t,t.yu.persistenceKey);return new ym(e,t._s,n,t.clientId,t.Jl)},e}(n_),i_=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n=this;return Object(rf.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Ib(n._a,t,1)},this.yl.Dh.n_=Bb.bind(null,this._a),[4,nb(this.yl,this._a.Ml)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new ab},t.prototype.Xl=function(t){var e=Sm(t.yu.t),n=new Cm(t.yu);return function(t,e,n){return new Am(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,o,a=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Ib(a._a,t,0)},o=_m.Kn()?new _m:new bm,new Nm(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,a){var s=new kb(t,e,n,r,i,o);return a&&(s.kl=!0),s}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return e=vf(t),cf("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Dm(e)];case 1:return n.sent(),e.Fh.ko(),e.Oh.set("Unknown"),[2]}})})}(this.yl)},t}();function o_(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return Object(rf.b)(this,void 0,void 0,function(){var r;return Object(rf.d)(this,function(i){return n<t.byteLength?(r={value:t.slice(n,n+e),done:!1},[2,(n+=e,r)]):[2,{done:!0}]})})},cancel:function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){return[2]})})},releaseLock:function(){}}}var a_=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),s_=function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Qv,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}return t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new db(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})},t}(),u_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Cf(kf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Lf(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}(),c_=function(t){this._methodName=t},l_=function(t){this.d_=t};function h_(t,e,n){if(!n)throw new Cf(kf.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function f_(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cf(kf.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function d_(t,e,n,r){if(!0===e&&!0===r)throw new Cf(kf.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function p_(t){if(!Ff.wt(t))throw new Cf(kf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function v_(t){if(Ff.wt(t))throw new Cf(kf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function g_(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":df()}function y_(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Cf(kf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=g_(t);throw new Cf(kf.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function m_(t,e){if(e<=0)throw new Cf(kf.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var b_=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Cf(kf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cf(kf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,d_("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),__=new Map,w_=function(){function t(t,e){this.w_="(lite)",this.E_=new b_({}),this.T_=!1,t instanceof af?(this.I_=t,this.m_=new Tf):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Cf(kf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(t.options.projectId)}(t),this.m_=new If(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Cf(kf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Cf(kf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new b_(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Tf;switch(t.type){case"gapi":var e=t.client;return pf(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Pf(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Cf(kf.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=__.get(this))&&(cf("ComponentProvider","Removing Datastore"),__.delete(this),t.terminate()),Promise.resolve();var t},t}(),k_=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new O_(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),C_=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),O_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Bd(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(rf.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new k_(this.firestore,null,new Ff(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(C_);function E_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof l_&&(t=t.d_),h_("collection","path",e),t instanceof w_)return v_(n=Df.ot.apply(Df,Object(rf.g)([e],r))),new O_(t,null,n);if(!(t instanceof k_||t instanceof O_))throw new Cf(kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return v_(n=Df.ot.apply(Df,Object(rf.g)([t.path],r)).child(Df.ot(e))),new O_(t.firestore,null,n)}function S_(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof l_&&(t=t.d_),1===arguments.length&&(e=yf.u()),h_("doc","path",e),t instanceof w_)return p_(n=Df.ot.apply(Df,Object(rf.g)([e],r))),new k_(t,null,new Ff(n));if(!(t instanceof k_||t instanceof O_))throw new Cf(kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return p_(n=t.D_.child(Df.ot.apply(Df,Object(rf.g)([e],r)))),new k_(t.firestore,t instanceof O_?t.v_:null,new Ff(n))}function T_(t,e){return t instanceof l_&&(t=t.d_),e instanceof l_&&(e=e.d_),(t instanceof k_||t instanceof O_)&&(e instanceof k_||e instanceof O_)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function I_(t,e){return t instanceof l_&&(t=t.d_),e instanceof l_&&(e=e.d_),t instanceof C_&&e instanceof C_&&t.firestore===e.firestore&&Xd(t.C_,e.C_)&&t.v_===e.v_}var x_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Cf(kf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Cf(kf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return mf(this.x_,t.x_)||mf(this.N_,t.N_)},t}(),P_=/^__.*__$/,A_=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new xp(t,this.data,this.Gt,e,this.fieldTransforms):new Ip(t,this.data,e,this.fieldTransforms)},t}(),R_=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new xp(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function N_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw df()}}var j_=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return tw(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(N_(this.k_)&&P_.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),D_=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Sm(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new j_({k_:t,methodName:e,j_:n,path:Lf.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function M_(t){var e=t.p_(),n=Sm(t.I_);return new D_(t.I_,!!e.ignoreUndefinedProperties,n)}function L_(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);X_("Data must be an object, but it was:",a,r);var s,u,c=Q_(r,a);if(o.merge)s=new qf(a.Gt),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Z_(e,f[h],n);if(!a.contains(d))throw new Cf(kf.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");ew(l,d)||l.push(d)}s=new qf(l),u=a.fieldTransforms.filter(function(t){return s.Tt(t.field)})}else s=null,u=a.fieldTransforms;return new A_(new fd(c),s,u)}var F_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(c_);function V_(t,e,n){return new j_({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var U_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.z_=function(t){return new mp(t.path,new lp)},e.prototype.isEqual=function(t){return t instanceof e},e}(c_),B_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(rf.c)(e,t),e.prototype.z_=function(t){var e=V_(this,t,!0),n=this.H_.map(function(t){return G_(t,e)}),r=new hp(n);return new mp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(c_),q_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(rf.c)(e,t),e.prototype.z_=function(t){var e=V_(this,t,!0),n=this.H_.map(function(t){return G_(t,e)}),r=new dp(n);return new mp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(c_),z_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(rf.c)(e,t),e.prototype.z_=function(t){var e=new vp(t.Qt,op(t.Qt,this.J_));return new mp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(c_);function H_(t,e,n,r){var i=t.G_(1,e,n);X_("Data must be an object, but it was:",i,r);var o=[],a=new dd;Uf(r,function(t,r){var s=$_(e,t,n);r instanceof l_&&(r=r.d_);var u=i.U_(s);if(r instanceof F_)o.push(s);else{var c=G_(r,u);null!=c&&(o.push(s),a.set(s,c))}});var s=new qf(o);return new R_(a.Pt(),s,i.fieldTransforms)}function W_(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[Z_(e,r,n)],u=[i];if(o.length%2!=0)throw new Cf(kf.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Z_(e,o[c])),u.push(o[c+1]);for(var l=[],h=new dd,f=s.length-1;f>=0;--f)if(!ew(l,s[f])){var d=s[f],p=u[f];p instanceof l_&&(p=p.d_);var v=a.U_(d);if(p instanceof F_)l.push(d);else{var g=G_(p,v);null!=g&&(l.push(d),h.set(d,g))}}var y=new qf(l);return new R_(h.Pt(),y,a.fieldTransforms)}function K_(t,e,n,r){return void 0===r&&(r=!1),G_(n,t.G_(r?4:3,e))}function G_(t,e){if(t instanceof l_&&(t=t.d_),Y_(t))return X_("Unsupported field value:",e,t),Q_(t,e);if(t instanceof c_)return function(t,e){if(!N_(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=G_(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof l_&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return op(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Rf.fromDate(t);return{timestampValue:mv(e.Qt,n)}}if(t instanceof Rf)return n=new Rf(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:mv(e.Qt,n)};if(t instanceof x_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Of)return{bytesValue:bv(e.Qt,t.I)};if(t instanceof k_){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:kv(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+g_(t))}(t,e)}function Q_(t,e){var n={};return Bf(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Uf(t,function(t,r){var i=G_(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Y_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rf||t instanceof x_||t instanceof Of||t instanceof k_||t instanceof c_)}function X_(t,e,n){if(!Y_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=g_(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Z_(t,e,n){if(e instanceof l_&&(e=e.d_),e instanceof u_)return e.f_;if("string"==typeof e)return $_(t,e);throw tw("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var J_=new RegExp("[~\\*/\\[\\]]");function $_(t,e,n){if(e.search(J_)>=0)throw tw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(u_.bind.apply(u_,Object(rf.g)([void 0],e.split("."))))).f_}catch(r){throw tw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function tw(t,e,n,r,i){var o=r&&!r.et(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Cf(kf.INVALID_ARGUMENT,(s+=". ")+t+u)}function ew(t,e){return t.some(function(t){return t.isEqual(e)})}var nw=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n=this;return Object(rf.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Cf(kf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(rf.d)(this,function(u){switch(u.label){case 0:return n=vf(t),r=Iv(n.Qt)+"/documents",i={documents:e.map(function(t){return Ov(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){pf(!!e.found);var n=Ev(t,e.found.name),r=wv(e.found.updateTime),i=new fd({mapValue:{fields:e.found.fields}});return new gd(n,r,i,{})}(t,e):"missing"in e?function(t,e){pf(!!e.missing),pf(!!e.readTime);var n=Ev(t,e.missing),r=wv(e.readTime);return new yd(n,r)}(t,e):df()}(n.Qt,t);a.set(e.key.toString(),e)}),s=[],[2,(e.forEach(function(t){var e=a.get(t.toString());pf(!!e),s.push(e)}),s)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof yd||t instanceof gd?n.sf(t):df()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Mp(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e=this;return Object(rf.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ff._t(n);e.mutations.push(new Lp(r,e.jt(r)))}),[4,function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return n=vf(t),r=Iv(n.Qt)+"/documents",i={writes:e.map(function(t){return Rv(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof gd)e=t.version;else{if(!(t instanceof yd))throw df();e=Nf.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Cf(kf.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?_p.updateTime(e):_p.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Nf.min()))throw new Cf(kf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return _p.updateTime(e)}return _p.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),rw=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new Tm(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.Lu(function(){return Object(rf.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(rf.d)(this,function(r){return t=new nw(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Xf(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Vp(e)}return!1},t}(),iw=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Ef.UNAUTHENTICATED,this.clientId=yf.u(),this._f=function(){},this.C=new Qv,this.credentials.v(function(t){cf("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Cf(kf.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Qv;return this._s.Tf(function(){return Object(rf.b)(t,void 0,void 0,function(){var t,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=ag(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ow(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(rf.d)(this,function(o){switch(o.label){case 0:return t._s.Af(),cf("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(rf.b)(i,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return[4,Vy(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function aw(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,sw(t)];case 1:return n=i.sent(),cf("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return(n=vf(t))._s.Af(),cf("RemoteStore","RemoteStore received new credentials"),r=qm(n),n.Nh.add(3),[4,Dm(n)];case 1:return i.sent(),r&&n.Oh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,jm(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function sw(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(cf("FirestoreClient","Using default OfflineComponentProvider"),[4,ow(t,new e_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function uw(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(cf("FirestoreClient","Using default OnlineComponentProvider"),[4,aw(t,new i_)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function cw(t){return sw(t).then(function(t){return t.persistence})}function lw(t){return sw(t).then(function(t){return t.bh})}function hw(t){return uw(t).then(function(t){return t.yl})}function fw(t){return uw(t).then(function(t){return t._a})}function dw(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,uw(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Cb.bind(null,e._a),n.Hh=Eb.bind(null,e._a),n)]}})})}function pw(t,e,n){var r=this;void 0===n&&(n={});var i=new Qv;return t._s.Ps(function(){return Object(rf.b)(r,void 0,void 0,function(){var r;return Object(rf.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new a_({next:function(o){e.Ps(function(){return ub(t,a)});var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Cf(kf.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Cf(kf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new fb(Bd(n.path),o,{includeMetadataChanges:!0,nl:!0});return sb(t,a)},[4,dw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}function vw(t,e,n){var r=this;void 0===n&&(n={});var i=new Qv;return t._s.Ps(function(){return Object(rf.b)(r,void 0,void 0,function(){var r;return Object(rf.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new a_({next:function(n){e.Ps(function(){return ub(t,a)}),n.fromCache&&"server"===r.source?i.reject(new Cf(kf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new fb(n,o,{includeMetadataChanges:!0,nl:!0});return sb(t,a)},[4,dw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}})})}),i.promise}var gw=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new Tm(this,"async_queue_retry"),this.vf=function(){var e=Em();e&&cf("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=Em();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Em();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e=this;return Object(rf.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!tg(t=n.sent()))throw t;return cf("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.Lu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,lf("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=og.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&df()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(rf.b)(this,void 0,void 0,function(){var t;return Object(rf.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.$f=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.Of=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function yw(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var mw=function(){function t(){this.kf={},this.Mf=new Qv,this.Lf={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this.kf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Mf.promise.catch(t)},t.prototype.then=function(t,e){return this.Mf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.kf.complete&&this.kf.complete(),this.Mf.resolve(t)},t.prototype.Kl=function(t){this.Lf.taskState="Error",this.kf.next&&this.kf.next(this.Lf),this.kf.error&&this.kf.error(t),this.Mf.reject(t)},t.prototype.Ul=function(t){this.Lf=t,this.kf.next&&this.kf.next(t)},t}(),bw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new gw,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(rf.c)(e,t),e.prototype.b_=function(){return this.qf||ww(this),this.qf.terminate()},e}(w_);function _w(t){return t.qf||ww(t),t.qf.df(),t.qf}function ww(t){var e=t.p_(),n=function(t,e,n){return new of(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new iw(t.m_,t.Bf,n)}function kw(t,e,n){var r=this,i=new Qv;return t._s.enqueue(function(){return Object(rf.b)(r,void 0,void 0,function(){var r;return Object(rf.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ow(t,n)];case 1:return o.sent(),[4,aw(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===kf.FAILED_PRECONDITION||t.code===kf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Cw(t){if(t.R_||t.P_)throw new Cf(kf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ow=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),$f(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wf(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Kf(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw df()}},t.prototype.Hf=function(t,e){var n=this,r={};return Uf(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new x_(Wf(t.latitude),Wf(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Qf(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Yf(t));default:return null}},t.prototype.Qf=function(t){var e=Hf(t);return new Rf(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=Df.ot(t);pf(Gv(n));var r=new af(n.get(1),n.get(3)),i=new Ff(n.Y(5));return r.isEqual(e)||lf("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ew=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new k_(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Sw(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Tw("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Sw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ew);function Tw(t,e){return"string"==typeof e?$_(t,e):e instanceof l_?e.d_.f_:e.f_}function Iw(t){if(zd(t)&&0===t.xt.length)throw new Cf(kf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var xw=function(){};function Pw(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Aw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(rf.c)(e,t),e.prototype.td=function(t){var e=M_(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new Cf(kf.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Fw(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Lw(r,t,l[c]));s={arrayValue:{values:u}}}else s=Lw(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Fw(a,o),s=K_(n,"where",a,"in"===o||"not-in"===o);var h=Od.create(i,o,s);return function(t,e){if(e.Ct()){var n=Wd(t);if(null!==n&&!n.isEqual(e.field))throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Hd(t);null!==r&&Vw(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Cf(kf.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new C_(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Vd(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(xw),Rw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(rf.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Dd(e,n);return function(t,e){if(null===Hd(t)){var n=Wd(t);null!==n&&Vw(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new C_(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Vd(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(xw),Nw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(rf.c)(e,t),e.prototype.td=function(t){return new C_(t.firestore,t.v_,Yd(t.C_,this.od,this.ad))},e}(xw),jw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(rf.c)(e,t),e.prototype.td=function(t){var e=Mw(t,this.type,this.ud,this.hd);return new C_(t.firestore,t.v_,function(t,e){return new Vd(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(xw),Dw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(rf.c)(e,t),e.prototype.td=function(t){var e=Mw(t,this.type,this.ud,this.hd);return new C_(t.firestore,t.v_,function(t,e){return new Vd(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(xw);function Mw(t,e,n,r){if(n[0]instanceof l_&&(n[0]=n[0].d_),n[0]instanceof Ew)return function(t,e,n,r,i){if(!r)throw new Cf(kf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Gd(t);a<s.length;a++){var u=s[a];if(u.field.ut())o.push(ad(e,r.key));else{var c=r.field(u.field);if(Gf(c))throw new Cf(kf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Nd(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=M_(t.firestore);return function(t,e,n,r,i,o){var a=t.xt;if(i.length>a.length)throw new Cf(kf.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ut()){if("string"!=typeof c)throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Kd(t)&&-1!==c.indexOf("/"))throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Df.ot(c));if(!Ff.wt(l))throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ff(l);s.push(ad(e,h))}else{var f=K_(n,r,c);s.push(f)}}return new Nd(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Lw(t,e,n){if(n instanceof l_&&(n=n.d_),"string"==typeof n){if(""===n)throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Kd(e)&&-1!==n.indexOf("/"))throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Df.ot(n));if(!Ff.wt(r))throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ad(t,new Ff(r))}if(n instanceof k_)return ad(t,n.S_);throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+g_(n)+".")}function Fw(t,e){if(!Array.isArray(t)||0===t.length)throw new Cf(kf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Cf(kf.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vw(t,e,n){if(!n.isEqual(e))throw new Cf(kf.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Uw(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Bw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(rf.c)(e,t),e.prototype.Wf=function(t){return new Of(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new k_(this.firestore,null,e)},e}(Ow),qw=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),zw=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).Yf=e,s.ld=e,s.metadata=o,s}return Object(rf.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Hw(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Tw("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Ew),Hw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(zw),Ww=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new qw(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new Hw(n.Yf,n.Xf,r.key,r,new qw(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Cf(kf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new Hw(t.Yf,t.Xf,e.doc.key,e.doc,new qw(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new Hw(t.Yf,t.Xf,e.doc.key,e.doc,new qw(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Kw(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.dd=e),this.fd},t}();function Kw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return df()}}function Gw(t,e){return t instanceof zw&&e instanceof zw?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Ww&&e instanceof Ww&&t.Yf===e.Yf&&I_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Qw=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(rf.c)(e,t),e.prototype.Wf=function(t){return new Of(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new k_(this.firestore,null,e)},e}(Ow);function Yw(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=y_(t,k_);var o=y_(t.firestore,bw),a=M_(o);return e instanceof l_&&(e=e.d_),Zw(o,[("string"==typeof e||e instanceof u_?W_(a,"updateDoc",t.S_,e,n,r):H_(a,"updateDoc",t.S_,e)).F_(t.S_,_p.exists(!0))])}function Xw(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof l_&&(t=t.d_);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||yw(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(yw(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof k_)c=y_(t.firestore,bw),l=Bd(t.S_.path),u={next:function(e){i[s]&&i[s](Jw(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=y_(t,C_);c=y_(d.firestore,bw),l=d.C_;var p=new Qw(c);u={next:function(t){i[s]&&i[s](new Ww(c,p,d,t))},error:i[s+1],complete:i[s+2]},Iw(t.C_)}return function(t,e,n,r){var i=this,o=new a_(r),a=new fb(e,o,n);return t._s.Ps(function(){return Object(rf.b)(i,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return e=sb,[4,dw(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})}),function(){o.i_(),t._s.Ps(function(){return Object(rf.b)(i,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return e=ub,[4,dw(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}})})})}}(_w(c),l,h,u)}function Zw(t,e){return function(t,e){var n=this,r=new Qv;return t._s.Ps(function(){return Object(rf.b)(n,void 0,void 0,function(){var n;return Object(rf.d)(this,function(i){switch(i.label){case 0:return n=Sb,[4,fw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(_w(t),e)}function Jw(t,e,n){var r=n.docs.get(e.S_),i=new Qw(t);return new zw(t,i,e.S_,r,new qw(n.hasPendingWrites,n.fromCache),e.v_)}var $w=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=M_(t)}return t.prototype.set=function(t,e,n){this.md();var r=tk(t,this.Yf),i=Uw(r.v_,e,n),o=L_(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,_p.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,a=tk(t,this.Yf);return e instanceof l_&&(e=e.d_),o="string"==typeof e||e instanceof u_?W_(this.Id,"WriteBatch.update",a.S_,e,n,r):H_(this.Id,"WriteBatch.update",a.S_,e),this.Ed.push(o.F_(a.S_,_p.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=tk(t,this.Yf);return this.Ed=this.Ed.concat(new Mp(e.S_,_p.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Cf(kf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function tk(t,e){if(t instanceof l_&&(t=t.d_),t.firestore!==e)throw new Cf(kf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ek=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(rf.c)(e,t),e.prototype.get=function(e){var n=this,r=tk(e,this.Yf),i=new Qw(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new zw(n.Yf,i,r.S_,t.Zf,new qw(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=M_(t)}return t.prototype.get=function(t){var e=this,n=tk(t,this.Yf),r=new Bw(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return df();var i=t[0];if(i instanceof yd)return new Ew(e.Yf,r,n.S_,null,n.v_);if(i instanceof gd)return new Ew(e.Yf,r,i.key,i,n.v_);throw df()})},t.prototype.set=function(t,e,n){var r=tk(t,this.Yf),i=Uw(r.v_,e,n),o=L_(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=tk(t,this.Yf);return e instanceof l_&&(e=e.d_),o="string"==typeof e||e instanceof u_?W_(this.Id,"Transaction.update",a.S_,e,n,r):H_(this.Id,"Transaction.update",a.S_,e),this.Ad.update(a.S_,o),this},t.prototype.delete=function(t){var e=tk(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function nk(){if("undefined"==typeof Uint8Array)throw new Cf(kf.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rk(){if("undefined"==typeof atob)throw new Cf(kf.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ik=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.fromBase64String=function(t){return rk(),new e(Of.fromBase64String(t))},e.fromUint8Array=function(t){return nk(),new e(Of.fromUint8Array(t))},e.prototype.toBase64=function(){return rk(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return nk(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(l_),ok=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Cw(t=y_(t,bw));var n=_w(t),r=t.p_(),i=new i_;return kw(n,i,new n_(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Cw(t=y_(t,bw));var e=_w(t),n=t.p_(),r=new i_;return kw(e,r,new r_(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Cf(kf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Qv;return t.Bf.Tf(function(){return Object(rf.b)(e,void 0,void 0,function(){var e;return Object(rf.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return Zv.Kn()?[4,Zv.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Ry(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),ak=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof af||(i.Pd=e),i}return Object(rf.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=y_(t,w_)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&hf("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(rf.b)(e,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,cw(t)];case 1:return e=r.sent(),[4,hw(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=vf(t);return e.Nh.delete(0),jm(e)}(n))]}})})})}(_w(y_(this.d_,bw)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(rf.b)(e,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,cw(t)];case 1:return e=r.sent(),[4,hw(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return(e=vf(t)).Nh.add(0),[4,Dm(e)];case 1:return n.sent(),e.Oh.set("Offline"),[2]}})})}(n))]}})})})}(_w(y_(this.d_,bw)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&d_("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Qv;return t._s.Ps(function(){return Object(rf.b)(e,void 0,void 0,function(){var e;return Object(rf.d)(this,function(r){switch(r.label){case 0:return e=Rb,[4,fw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(_w(y_(this.d_,bw)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new a_(e);return t._s.Ps(function(){return Object(rf.b)(n,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){vf(t).Wh.add(e),e.next()},[4,dw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(rf.b)(n,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){vf(t).Wh.delete(e)},[4,dw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(_w(t=y_(t,bw)),yw(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Cf(kf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _k(this,E_(this.d_,t))}catch(t){throw fk(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new hk(this,S_(this.d_,t))}catch(t){throw fk(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new yk(this,function(t,e){if(t=y_(t,w_),h_("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cf(kf.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new C_(t,null,function(t){return new Vd(Df.ct(),t)}(e))}(this.d_,t))}catch(t){throw fk(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Qv;return t._s.Ps(function(){return Object(rf.b)(n,void 0,void 0,function(){var n;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return uw(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new rw(t._s,n,e,r).run(),[2]}})})}),r.promise}(_w(t),function(n){return e(new ek(t,n))})}(this.d_,function(n){return t(new uk(e,n))})},e.prototype.batch=function(){var t=this;return _w(this.d_),new ck(new $w(this.d_,function(e){return Zw(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Cf(kf.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Cf(kf.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(l_),sk=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(rf.c)(e,t),e.prototype.Wf=function(t){return new ik(new Of(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return hk.yd(e,this.firestore,null)},e}(Ow),uk=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new sk(e),r}return Object(rf.c)(e,t),e.prototype.get=function(t){var e=this,n=wk(t);return this.d_.get(n).then(function(t){return new vk(e.Yf,new zw(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=wk(t);return n?(f_("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=wk(t);return 2===arguments.length?this.d_.update(a,e):(r=this.d_).update.apply(r,Object(rf.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=wk(t);return this.d_.delete(e),this},e}(l_),ck=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.set=function(t,e,n){var r=wk(t);return n?(f_("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=wk(t);return 2===arguments.length?this.d_.update(a,e):(r=this.d_).update.apply(r,Object(rf.g)([a,e,n],i)),this},e.prototype.delete=function(t){var e=wk(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(l_),lk=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(rf.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Hw(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new gk(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new sk(t),n),i.set(n,o)),o},e}(l_);lk.Vd=new WeakMap;var hk=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new sk(e),r}return Object(rf.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Cf(kf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new k_(n.d_,r,new Ff(t)))},e.yd=function(t,n,r){return new e(n,new k_(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new _k(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _k(this.firestore,E_(this.d_,t))}catch(t){throw fk(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof l_&&(t=t.d_),t instanceof k_&&T_(this.d_,t)},e.prototype.set=function(t,e){e=f_("DocumentReference.set",e);try{return function(t,e,n){t=y_(t,k_);var r=y_(t.firestore,bw),i=Uw(t.v_,e,n);return Zw(r,[L_(M_(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,_p.Kt())])}(this.d_,t,e)}catch(t){throw fk(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Yw(this.d_,t):Yw.apply(void 0,Object(rf.g)([this.d_,t,e],n))}catch(t){throw fk(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Zw(y_((t=this.d_).firestore,bw),[new Mp(t.S_,_p.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=dk(e),i=pk(e,function(e){return new vk(t.firestore,new zw(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return Xw(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=y_(t,k_);var e=y_(t.firestore,bw),n=_w(e),r=new Qw(e);return function(t,e){var n=this,r=new Qv;return t._s.Ps(function(){return Object(rf.b)(n,void 0,void 0,function(){var n;return Object(rf.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=vf(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof gd?n.resolve(i):i instanceof yd?n.resolve(null):n.reject(new Cf(kf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=ag(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,lw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new zw(e,r,t.S_,n,new qw(n instanceof gd&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=y_(t,k_);var e=y_(t.firestore,bw);return pw(_w(e),t.S_,{source:"server"}).then(function(n){return Jw(e,t,n)})}(this.d_):function(t){t=y_(t,k_);var e=y_(t.firestore,bw);return pw(_w(e),t.S_).then(function(n){return Jw(e,t,n)})}(this.d_)).then(function(t){return new vk(e.firestore,new zw(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(lk.gd(this.firestore,t)))},e}(l_);function fk(t,e,n){return t.message=t.message.replace(e,n),t}function dk(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!yw(r))return r}return{}}function pk(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=yw(t[0])?t[0]:yw(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var vk=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(rf.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new hk(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return Gw(this.d_,t.d_)},e}(l_),gk=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(vk),yk=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new sk(e),r}return Object(rf.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Pw(this.d_,function(t,e,n){var r=e,i=Tw("where",t);return new Aw(i,r,n)}(t,n,r)))}catch(t){throw fk(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Pw(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Tw("orderBy",t);return new Rw(r,n)}(t,n)))}catch(t){throw fk(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Pw(this.d_,function(t){return m_("limit",t),new Nw("limit",t,"F")}(t)))}catch(t){throw fk(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Pw(this.d_,function(t){return m_("limitToLast",t),new Nw("limitToLast",t,"L")}(t)))}catch(t){throw fk(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pw(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jw("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw fk(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pw(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jw("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw fk(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pw(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dw("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw fk(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Pw(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Dw("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw fk(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return I_(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=y_(t,C_);var e=y_(t.firestore,bw),n=_w(e),r=new Qw(e);return function(t,e){var n=this,r=new Qv;return t._s.Ps(function(){return Object(rf.b)(n,void 0,void 0,function(){var n;return Object(rf.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(rf.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Gy(t,e,!0)];case 1:return s=u.sent(),r=new bb(e,s.Rc),i=r.fl(s.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=ag(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}})})},[4,lw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Ww(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=y_(t,C_);var e=y_(t.firestore,bw),n=_w(e),r=new Qw(e);return vw(n,t.C_,{source:"server"}).then(function(n){return new Ww(e,r,t,n)})}(this.d_):function(t){t=y_(t,C_);var e=y_(t.firestore,bw),n=_w(e),r=new Qw(e);return Iw(t.C_),vw(n,t.C_).then(function(n){return new Ww(e,r,t,n)})}(this.d_)).then(function(t){return new bk(e.firestore,new Ww(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=dk(e),i=pk(e,function(e){return new bk(t.firestore,new Ww(t.firestore.d_,t.Xf,t.d_,e._d))});return Xw(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(lk.gd(this.firestore,t)))},e}(l_),mk=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(rf.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new gk(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(l_),bk=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(rf.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new yk(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new gk(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new mk(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new gk(n.Yf,r))})},e.prototype.isEqual=function(t){return Gw(this.d_,t.d_)},e}(l_),_k=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(rf.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new hk(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hk(this.firestore,void 0===t?S_(this.d_):S_(this.d_,t))}catch(t){throw fk(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=y_(t.firestore,bw),r=S_(t),i=Uw(t.v_,e);return Zw(n,[L_(M_(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,_p.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new hk(e.firestore,t)})},e.prototype.isEqual=function(t){return T_(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(lk.gd(this.firestore,t)))},e}(yk);function wk(t){return t instanceof l_&&(t=t.d_),y_(t,k_)}var kk,Ck,Ok=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(u_.bind.apply(u_,Object(rf.g)([void 0],e))))||this}return Object(rf.c)(e,t),e.documentId=function(){return new e(Lf.ht().rt())},e.prototype.isEqual=function(t){return t instanceof l_&&(t=t.d_),t instanceof u_&&this.d_.f_.isEqual(t.f_)},e}(l_),Ek=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(rf.c)(e,t),e.serverTimestamp=function(){var t=new U_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new F_("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new B_("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new q_("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new z_("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(l_),Sk=o("/6Yf"),Tk={Firestore:ak,GeoPoint:x_,Timestamp:Rf,Blob:ik,Transaction:uk,WriteBatch:ck,DocumentReference:hk,DocumentSnapshot:vk,Query:yk,QueryDocumentSnapshot:gk,QuerySnapshot:bk,CollectionReference:_k,FieldPath:Ok,FieldValue:Ek,setLogLevel:function(t){sf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Sk.a("firestore",function(t){return function(t,e){return new ak(t,new bw(t,e),new ok)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Tk)))})(kk=$s.a),kk.registerVersion("@firebase/firestore","2.1.7"),(Ck=ak).prototype.loadBundle=function(t){return function(t,e){var n=_w(t=y_(t,bw)),r=new mw;return function(t,e,n,r){var i=this,o=function(t,e){return function(t,e){return new s_(t,e)}(function(t,e){if(t instanceof Uint8Array)return o_(t,e);if(t instanceof ArrayBuffer)return o_(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,Sm(e));t._s.Ps(function(){return Object(rf.b)(i,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return e=t_,[4,fw(t)];case 1:return e.apply(void 0,[n.sent(),o,r]),[2]}})})})}(n,t.I_,e,r),r}(this.d_,t)},Ck.prototype.namedQuery=function(t){var e,n,r=this;return(e=this.d_,n=t,function(t,e){var n=this;return t._s.enqueue(function(){return Object(rf.b)(n,void 0,void 0,function(){var n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return n=function(t,e){var n=vf(t);return n.persistence.runTransaction("Get named query","readonly",function(t){return n.wo.Ms(t,e)})},[4,lw(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}})})})}(_w(e=y_(e,bw)),n).then(function(t){return t?new C_(e,null,t.query):null})).then(function(t){return t?new yk(r,t):null})};var Ik={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},xk=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(rf.c)(e,t),e}(Error),Pk=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then(function(t){return n.auth=t},function(){}),this.messaging||e.get().then(function(t){return n.messaging=t},function(){})}return t.prototype.getAuthToken=function(){return Object(rf.b)(this,void 0,void 0,function(){var t;return Object(rf.d)(this,function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}})})},t.prototype.getInstanceIdToken=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(kk){return[2,void 0]}return[2]})})},t.prototype.getContext=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}();function Ak(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var Rk,Nk,jk,Dk=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"==typeof t||"object"==typeof t)return Ak(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"==typeof t||"object"==typeof t?Ak(t,function(t){return e.decode(t)}):t},t}(),Mk=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new Dk,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new Pk(e,n),this.cancelAllRequests=new Promise(function(t){o.deleteService=function(){return t()}});try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(kk){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:n["Content-Type"]="application/json",o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}})})},t.prototype.call=function(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c,l,h,f;return Object(rf.d)(this,function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return(a=d.sent()).authToken&&(o.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=function(t){var e,n=new Promise(function(n,r){e=setTimeout(function(){r(new xk("deadline-exceeded","deadline-exceeded"))},t)});return{timer:e,promise:n}}(n.timeout||7e4),u=s.timer,c=s.promise,[4,Promise.race([Lk(u,this.postJSON(r,i,o)),c,Lk(u,this.cancelAllRequests)])];case 2:if(!(l=d.sent()))throw new xk("cancelled","Firebase Functions instance was deleted.");if(h=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"==typeof s){if(!Ik[s])return new xk("internal","internal");r=Ik[s],i=s}var u=a.message;"string"==typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(kk){}return"ok"===r?null:new xk(r,i,o)}(l.status,l.json,this.serializer))throw h;if(!l.json)throw new xk("internal","Response is not valid JSON object.");if(void 0===(f=l.json.data)&&(f=l.json.result),void 0===f)throw new xk("internal","Response is missing data field.");return[2,{data:this.serializer.decode(f)}]}})})},t}();function Lk(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}})})}Rk=$s.a,Nk=fetch.bind(self),jk={Functions:Mk},Rk.INTERNAL.registerComponent(new Sk.a("functions",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new Mk(n,r,i,e,Nk)},"PUBLIC").setServiceProps(jk).setMultipleInstances(!0)),$s.a.registerVersion("@firebase/functions","0.6.2");var Fk,Vk=o("nbvr"),Uk=((Fk={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Fk["not-registered"]="Firebase Installation is not registered.",Fk["installation-not-found"]="Firebase Installation not found.",Fk["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Fk["app-offline"]="Could not process request. Application offline.",Fk["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Fk),Bk=new eu.b("installations","Installations",Uk);function qk(t){return t instanceof eu.c&&t.code.includes("request-failed")}function zk(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function Hk(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function Wk(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),[2,Bk.create("request-failed",{requestName:t,serverCode:(r=n.error).code,serverMessage:r.message,serverStatus:r.status})]}})})}function Kk(t){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey})}function Gk(t,e){var n=e.refreshToken,r=Kk(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}(n)),r}function Qk(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}})})}function Yk(t,e){var n=e.fid;return Object(rf.b)(this,void 0,void 0,function(){var e,r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return e=zk(t),r=Kk(t),i={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.20"})},[4,Qk(function(){return fetch(e,i)})];case 1:return(o=s.sent()).ok?[4,o.json()]:[3,3];case 2:return[2,{fid:(a=s.sent()).fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:Hk(a.authToken)}];case 3:return[4,Wk("Create Installation",o)];case 4:throw s.sent()}})})}function Xk(t){return new Promise(function(e){setTimeout(e,t)})}var Zk=/^[cdef][\w-]{21}$/;function Jk(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,Object(rf.f)(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}(t);return Zk.test(e)?e:""}catch(n){return""}}function $k(t){return t.appName+"!"+t.appId}var tC=new Map;function eC(t,e){var n=$k(t);nC(n,e),function(t,e){var n=iC();n&&n.postMessage({key:t,fid:e}),oC()}(n,e)}function nC(t,e){var n,r,i=tC.get(t);if(i)try{for(var o=Object(rf.h)(i),a=o.next();!a.done;a=o.next())(0,a.value)(e)}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var rC=null;function iC(){return!rC&&"BroadcastChannel"in self&&((rC=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){nC(t.data.key,t.data.fid)}),rC}function oC(){0===tC.size&&rC&&(rC.close(),rC=null)}var aC,sC="firebase-installations-store",uC=null;function cC(){return uC||(uC=Object(Vk.openDb)("firebase-installations-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore(sC)}})),uC}function lC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return n=$k(t),[4,cC()];case 1:return r=s.sent(),i=r.transaction(sC,"readwrite"),[4,(o=i.objectStore(sC)).get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||eC(t,e.fid),[2,e]}})})}function hC(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return e=$k(t),[4,cC()];case 1:return n=i.sent(),[4,(r=n.transaction(sC,"readwrite")).objectStore(sC).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function fC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(rf.d)(this,function(u){switch(u.label){case 0:return n=$k(t),[4,cC()];case 1:return r=u.sent(),i=r.transaction(sC,"readwrite"),[4,(o=i.objectStore(sC)).get(n)];case 2:return a=u.sent(),void 0!==(s=e(a))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||eC(t,s.fid),[2,s]}})})}function dC(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,fC(t,function(n){var r=function(t){return gC(t||{fid:Jk(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Bk.create("app-offline"))};var n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Yk(t,e)];case 1:return n=i.sent(),[2,lC(t,n)];case 2:return qk(r=i.sent())&&409===r.customData.serverCode?[4,hC(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,lC(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}})})}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:pC(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry})];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}})})}function pC(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return[4,vC(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Xk(100)];case 3:return o.sent(),[4,vC(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,dC(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}})})}function vC(t){return fC(t,function(t){if(!t)throw Bk.create("installation-not-found");return gC(t)})}function gC(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}function yC(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return Object(rf.b)(this,void 0,void 0,function(){var t,i,o,a,s;return Object(rf.d)(this,function(u){switch(u.label){case 0:return t=function(t,e){var n=e.fid;return zk(t)+"/"+n+"/authTokens:generate"}(n,e),i=Gk(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:"w:0.4.20"}})},[4,Qk(function(){return fetch(t,a)})];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return[2,Hk(u.sent())];case 3:return[4,Wk("Generate Auth Token",s)];case 4:throw u.sent()}})})}function mC(t,e){return void 0===e&&(e=!1),Object(rf.b)(this,void 0,void 0,function(){var n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return[4,fC(t.appConfig,function(r){if(!_C(r))throw Bk.create("not-registered");var i,o=r.authToken;if(!e&&2===(i=o).requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(i))return r;if(1===o.requestStatus)return n=function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,bC(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Xk(100)];case 3:return i.sent(),[4,bC(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,mC(t,e)]:[2,r]}})})}(t,e),r;if(!navigator.onLine)throw Bk.create("app-offline");var a=function(t){var e={requestStatus:1,requestTime:Date.now()};return Object(rf.a)(Object(rf.a)({},t),{authToken:e})}(r);return n=function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,yC(t,e)];case 1:return n=o.sent(),i=Object(rf.a)(Object(rf.a)({},e),{authToken:n}),[4,lC(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!qk(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,hC(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=Object(rf.a)(Object(rf.a)({},e),{authToken:{requestStatus:0}}),[4,lC(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}})})}(t,a),a})];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}})})}function bC(t){return fC(t,function(t){if(!_C(t))throw Bk.create("not-registered");var e;return 1===(e=t.authToken).requestStatus&&e.requestTime+1e4<Date.now()?Object(rf.a)(Object(rf.a)({},t),{authToken:{requestStatus:0}}):t})}function _C(t){return void 0!==t&&2===t.registrationStatus}function wC(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return[4,dC(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})}function kC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return n=function(t,e){var n=e.fid;return zk(t)+"/"+n}(t,e),r=Gk(t,e),i={method:"DELETE",headers:r},[4,Qk(function(){return fetch(n,i)})];case 1:return(o=a.sent()).ok?[3,3]:[4,Wk("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}})})}function CC(t){return Bk.create("missing-app-config-values",{valueName:t})}!function(t){t.INTERNAL.registerComponent(new Sk.a("installations",function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw CC("App Configuration");if(!t.name)throw CC("App Name");try{for(var r=Object(rf.h)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw CC(o)}}catch(a){e={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){return function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,dC(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):mC(t).catch(console.error),[2,n.fid]}})})}(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(n){switch(n.label){case 0:return[4,wC(t.appConfig)];case 1:return n.sent(),[4,mC(t,e)];case 2:return[2,n.sent().token]}})})}(n,t)},delete:function(){return function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,fC(e=t.appConfig,function(t){if(!t||0!==t.registrationStatus)return t})];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Bk.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Bk.create("app-offline");case 3:return[4,kC(e,n)];case 4:return r.sent(),[4,hC(e)];case 5:r.sent(),r.label=6;case 6:return[2]}})})}(n)},onIdChange:function(t){return function(t,e){var n=t.appConfig;return function(t,e){iC();var n=$k(t),r=tC.get(n);r||(r=new Set,tC.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=$k(t),r=tC.get(n);r&&(r.delete(e),0===r.size&&tC.delete(n),oC())}(n,e)}}(n,t)}}},"PUBLIC")),t.registerVersion("@firebase/installations","0.4.20")}($s.a);var OC=((aC={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',aC["only-available-in-window"]="This method is available in a Window context.",aC["only-available-in-sw"]="This method is available in a service worker context.",aC["permission-default"]="The notification permission was not granted and dismissed instead.",aC["permission-blocked"]="The notification permission was not granted and blocked instead.",aC["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",aC["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",aC["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",aC["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",aC["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",aC["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",aC["token-update-no-token"]="FCM returned no token when updating the user to push.",aC["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",aC["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",aC["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",aC["invalid-vapid-key"]="The public VAPID key must be a string.",aC["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",aC),EC=new eu.b("messaging","Messaging",OC),SC="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TC=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}({});function IC(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,Object(rf.f)(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xC(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}function PC(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n=this;return Object(rf.d)(this,function(r){switch(r.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(!r.sent().map(function(t){return t.name}).includes("fcm_token_details_db"))return[2,null];r.label=2;case 2:return e=null,[4,Object(Vk.openDb)("fcm_token_details_db",5,function(r){return Object(rf.b)(n,void 0,void 0,function(){var n,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return r.oldVersion<2?[2]:r.objectStoreNames.contains("fcm_token_object_Store")?[4,(n=r.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===r.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];e={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:IC(o.vapidKey)}}}else(3===r.oldVersion||4===r.oldVersion)&&(e={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:IC(o.auth),p256dh:IC(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:IC(o.vapidKey)}});return[2]}})})})];case 3:return r.sent().close(),[4,Object(Vk.deleteDb)("fcm_token_details_db")];case 4:return r.sent(),[4,Object(Vk.deleteDb)("fcm_vapid_details_db")];case 5:return r.sent(),[4,Object(Vk.deleteDb)("undefined")];case 6:return r.sent(),[2,AC(e)?e:null]}})})}function AC(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}var RC=null;function NC(){return RC||(RC=Object(Vk.openDb)("firebase-messaging-database",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore("firebase-messaging-store")}})),RC}function jC(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return e=LC(t),[4,NC()];case 1:return[4,i.sent().transaction("firebase-messaging-store").objectStore("firebase-messaging-store").get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,PC(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,DC(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}})})}function DC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return n=LC(t),[4,NC()];case 1:return r=o.sent(),[4,(i=r.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}})})}function MC(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return e=LC(t),[4,NC()];case 1:return n=i.sent(),[4,(r=n.transaction("firebase-messaging-store","readwrite")).objectStore("firebase-messaging-store").delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}})})}function LC(t){return t.appConfig.appId}function FC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return[4,qC(t)];case 1:n=s.sent(),r=zC(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(BC(t.appConfig),i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),EC.create("token-subscribe-failed",{errorInfo:a});case 6:if(o.error)throw EC.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw EC.create("token-subscribe-no-token");return[2,o.token]}})})}function VC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return[4,qC(t)];case 1:n=s.sent(),r=zC(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s.label=2;case 2:return s.trys.push([2,5,,6]),[4,fetch(BC(t.appConfig)+"/"+e.token,i)];case 3:return[4,s.sent().json()];case 4:return o=s.sent(),[3,6];case 5:throw a=s.sent(),EC.create("token-update-failed",{errorInfo:a});case 6:if(o.error)throw EC.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw EC.create("token-update-no-token");return[2,o.token]}})})}function UC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return[4,qC(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(BC(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw EC.create("token-unsubscribe-failed",{errorInfo:i.error.message});return[3,6];case 5:throw o=a.sent(),EC.create("token-unsubscribe-failed",{errorInfo:o});case 6:return[2]}})})}function BC(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function qC(t){var e=t.appConfig,n=t.installations;return Object(rf.b)(this,void 0,void 0,function(){var t;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}})})}function zC(t){var e=t.vapidKey,n={web:{endpoint:t.endpoint,auth:t.auth,p256dh:t.p256dh}};return e!==SC&&(n.web.applicationPubKey=e),n}function HC(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw EC.create("permission-blocked");return[4,QC(e,n)];case 1:return r=s.sent(),[4,jC(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:IC(r.getKey("auth")),p256dh:IC(r.getKey("p256dh"))},i?[3,3]:[2,GC(t,o)];case 3:if(l=(c=o).endpoint===(u=i.subscriptionOptions).endpoint,c.vapidKey===u.vapidKey&&l&&c.auth===u.auth&&c.p256dh===u.p256dh)return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,UC(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,GC(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,KC({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l})})}function WC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,jC(t)];case 1:return(n=i.sent())?[4,UC(t,n.token)]:[3,4];case 2:return i.sent(),[4,MC(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}})})}function KC(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,VC(e,t)];case 1:return r=a.sent(),i=Object(rf.a)(Object(rf.a)({},t),{token:r,createTime:Date.now()}),[4,DC(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,WC(e,n)];case 4:throw a.sent(),o;case 5:return[2]}})})}function GC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,FC(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,DC(t,r)];case 2:return i.sent(),[2,r.token]}})})}function QC(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xC(e)})]}})})}function YC(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}function XC(t){return new Promise(function(e){setTimeout(e,t)})}var ZC=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",function(t){t.waitUntil(e.onPush(t))}),self.addEventListener("pushsubscriptionchange",function(t){t.waitUntil(e.onSubChange(t))}),self.addEventListener("notificationclick",function(t){t.waitUntil(e.onNotificationClick(t))})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw EC.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return Object(rf.b)(this,void 0,void 0,function(){var n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,jC(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:SC,r.label=2;case 2:return[2,HC(this.firebaseDependencies,self.registration,this.vapidKey)]}})})},t.prototype.deleteToken=function(){return WC(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw EC.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw EC.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw EC.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw EC.create("only-available-in-window")},t.prototype.onMessage=function(){throw EC.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw EC.create("only-available-in-window")},t.prototype.onPush=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}(t))?[4,eO()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some(function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")})}(n=o.sent())?[2,tO(n,e)]:(r=!1,e.notification?[4,nO(JC(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}(e,t),function(t,e){e.data&&(t.data=e.data)}(e,t),function(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,XC(1e3)]);case 4:return o.sent(),[2]}})})},t.prototype.onSubChange=function(t){var e,n;return Object(rf.b)(this,void 0,void 0,function(){var r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,WC(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,jC(this.firebaseDependencies)];case 3:return r=i.sent(),[4,WC(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,HC(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:SC)];case 5:return i.sent(),[2]}})})},t.prototype.onNotificationClick=function(t){var e,n;return Object(rf.b)(this,void 0,void 0,function(){var r,i,o,a,s;return Object(rf.d)(this,function(u){switch(u.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r;return(null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action)||(YC(t.data)?self.location.origin:null)}(r))?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,$C(o)]):[2]):[2];case 1:return(s=u.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,XC(3e3)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=TC.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}})})},t}();function JC(t){var e,n=Object(rf.a)({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function $C(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return Object(rf.d)(this,function(u){switch(u.label){case 0:return[4,eO()];case 1:e=u.sent();try{for(n=Object(rf.h)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(c){a={error:c}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}})})}function tO(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=TC.PUSH_RECEIVED;try{for(var i=Object(rf.h)(t),o=i.next();!o.done;o=i.next())o.value.postMessage(e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function eO(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function nO(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var rO=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",function(t){return e.messageEventListener(t)})}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===TC.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),YC(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw EC.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,HC(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}})})},t.prototype.updateVapidKey=function(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=SC),[2]})})},t.prototype.updateSwReg=function(t){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw EC.create("invalid-sw-registration");return this.swRegistration=t,[2]}})})},t.prototype.registerDefaultSw=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch(function(){}),[3,3];case 2:throw e=n.sent(),EC.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}})})},t.prototype.deleteToken=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,WC(this.firebaseDependencies,this.swRegistration)]}})})},t.prototype.requestPermission=function(){return Object(rf.b)(this,void 0,void 0,function(){var t;return Object(rf.d)(this,function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw EC.create("denied"===t?"permission-blocked":"permission-default")}})})},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw EC.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw EC.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw EC.create("invalid-sw-registration");if(this.swRegistration)throw EC.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw EC.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw EC.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return n=function(t){switch(t){case TC.NOTIFICATION_CLICKED:return"notification_open";case TC.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}})})},t}();function iO(t){return EC.create("missing-app-config-values",{valueName:t})}var oO={isSupported:aO};function aO(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}$s.a.INTERNAL.registerComponent(new Sk.a("messaging",function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw iO("App Configuration Object");if(!t.name)throw iO("App Name");var r=t.options;try{for(var i=Object(rf.h)(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var a=o.value;if(!r[a])throw iO(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!aO())throw EC.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new ZC(n):new rO(n)},"PUBLIC").setServiceProps(oO));var sO=function(t){function e(n,r){var i=t.call(this,uO(n),"Firebase Storage: "+r+" ("+uO(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(rf.c)(e,t),e.prototype._codeEquals=function(t){return uO(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(eu.c);function uO(t){return"storage/"+t}function cO(){return new sO("unknown","An unknown error occurred, please check the error payload for server response.")}function lO(){return new sO("canceled","User canceled the upload/download.")}function hO(){return new sO("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function fO(t){return new sO("invalid-argument",t)}function dO(){return new sO("app-deleted","The Firebase app was deleted.")}function pO(t){return new sO("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function vO(t,e){return new sO("invalid-format","String does not match format '"+t+"': "+e)}function gO(t){throw new sO("internal-error","Internal error: "+t)}var yO={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},mO=function(t,e){this.data=t,this.contentType=e||null};function bO(t,e){switch(t){case yO.RAW:return new mO(_O(e));case yO.BASE64:case yO.BASE64URL:return new mO(wO(t,e));case yO.DATA_URL:return new mO((n=new kO(e)).base64?wO(yO.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(kk){throw vO(yO.DATA_URL,"Malformed data URL.")}return _O(e)}(n.rest),new kO(e).contentType)}var n;throw cO()}function _O(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function wO(t,e){switch(t){case yO.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw vO(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case yO.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw vO(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(kk){throw vO(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var kO=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw vO(yO.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r=e[1]||null;null!=r&&(this.base64=(n=r).length>=";base64".length&&";base64"===n.substring(n.length-";base64".length),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)},CO={STATE_CHANGED:"state_changed"},OO={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function EO(t){switch(t){case"running":case"pausing":case"canceling":return OO.RUNNING;case"paused":return OO.PAUSED;case"success":return OO.SUCCESS;case"canceled":return OO.CANCELED;case"error":default:return OO.ERROR}}var SO=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),TO=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=SO.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=SO.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=SO.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw gO("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw gO("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw gO("cannot .getStatus() before sending");try{return this.xhr_.status}catch(kk){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw gO("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),IO=function(){function t(){}return t.prototype.createXhrIo=function(){return new TO},t}();function xO(t){return"string"==typeof t||t instanceof String}function PO(t){return AO()&&t instanceof Blob}function AO(){return"undefined"!=typeof Blob}function RO(t,e,n,r){if(r<e)throw fO("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw fO("Invalid value for '"+t+"'. Expected "+n+" or less.")}function NO(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function jO(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=NO();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(AO())return new Blob(t);throw new sO("unsupported-environment","This browser doesn't seem to support creating Blobs")}var DO=function(){function t(t,e){var n=0,r="";PO(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(PO(this.data_)){var r=(o=e,a=n,(i=this.data_).webkitSlice?i.webkitSlice(o,a):i.mozSlice?i.mozSlice(o,a):i.slice?i.slice(o,a):null);return null===r?null:new t(r)}var i,o,a;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(AO()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(jO.apply(null,r))}var i=e.map(function(t){return xO(t)?bO(yO.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),MO=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(kk){return new t(e,"")}if(""===n.path)return n;throw new sO("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),a=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],s=0;s<a.length;s++){var u=a[s],c=u.regex.exec(e);if(c){var l=c[u.indices.path];l||(l=""),n=new t(c[u.indices.bucket],l),u.postModify(n);break}}if(null==n)throw function(t){return new sO("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function LO(t){var e,n;try{e=JSON.parse(t)}catch(kk){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function FO(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function VO(t){return"https://firebasestorage.googleapis.com/v0"+t}function UO(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function BO(t,e){return e}var qO=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||BO},zO=null;function HO(){if(zO)return zO;var t=[];t.push(new qO("bucket")),t.push(new qO("generation")),t.push(new qO("metageneration")),t.push(new qO("name","fullPath",!0));var e=new qO("name");e.xform=function(t,e){return function(t){return!xO(t)||t.length<2?t:FO(t)}(e)},t.push(e);var n=new qO("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new qO("timeCreated")),t.push(new qO("updated")),t.push(new qO("md5Hash",null,!0)),t.push(new qO("cacheControl",null,!0)),t.push(new qO("contentDisposition",null,!0)),t.push(new qO("contentEncoding",null,!0)),t.push(new qO("contentLanguage",null,!0)),t.push(new qO("contentType",null,!0)),t.push(new qO("metadata","customMetadata",!0)),zO=t}function WO(t,e,n){var r=LO(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new MO(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function KO(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var GO=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function QO(t){if(!t)throw cO()}function YO(t,e){return function(n,r){var i=WO(t,r,e);return QO(null!==i),i}}function XO(t){return function(e,n){var r;return(r=401===e.getStatus()?new sO("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new sO("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new sO("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function ZO(t){var e=XO(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new sO("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function JO(t,e,n){var r=VO(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new GO(r,"GET",YO(t,n),i);return o.errorHandler=ZO(e),o}function $O(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var tE=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function eE(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(kk){QO(!1)}return QO(!!n&&-1!==(e||["active"]).indexOf(n)),n}var nE=function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function rE(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var iE=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=HO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage._getAuthToken().then(function(n){switch(e._state){case"running":t(n);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=$O(e,r,i),s={name:a.fullPath},u=VO(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=KO(a,n),h=new GO(u,"POST",function(t){var e;eE(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(kk){QO(!1)}return QO(xO(e)),e},t.maxUploadRetryTime);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=XO(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new GO(n,"POST",function(t){var e=eE(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(kk){QO(!1)}n||QO(!1);var i=Number(n);return QO(!isNaN(i)),new tE(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=XO(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage._makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,n=new tE(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,a,s){var u=new tE(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new sO("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,h+l);if(null===d)throw hO();var p=new GO(n,"POST",function(t,n){var i,a=eE(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?YO(e,o)(t,n):null,new tE(s,c,"final"===a,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=s||null,p.errorHandler=XO(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(kk){return t._error=kk,void t._transition("error")}var a=t._ref.storage._makeRequest(o,i);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=JO(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=$O(e,r,i),c=KO(u,n),l=DO.getBlob("--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+s+"--");if(null===l)throw hO();var h={name:u.fullPath},f=VO(o),d=t.maxUploadRetryTime,p=new GO(f,"POST",YO(t,n),d);return p.urlParams=h,p.headers=a,p.body=l.uploadData(),p.errorHandler=XO(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage._makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=lO(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=EO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new nE(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(EO(this._state)){case OO.SUCCESS:rE(this._resolve.bind(null,this.snapshot))();break;case OO.CANCELED:case OO.ERROR:rE(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(EO(this._state)){case OO.RUNNING:case OO.PAUSED:t.next&&rE(t.next.bind(t,this.snapshot))();break;case OO.SUCCESS:t.complete&&rE(t.complete.bind(t))();break;case OO.CANCELED:case OO.ERROR:t.error&&rE(t.error.bind(t,this._error))();break;default:t.error&&rE(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),oE=function(){function t(t,e){this._service=t,this._location=e instanceof MO?e:MO.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new MO(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return FO(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new MO(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw pO(t)},t}();function aE(t){var e={prefixes:[],items:[]};return sE(t,e).then(function(){return e})}function sE(t,e,n){return Object(rf.b)(this,void 0,void 0,function(){var r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return[4,uE(t,{pageToken:n})];case 1:return r=a.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,sE(t,e,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function uE(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r,i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&RO("options.maxResults",1,1e3,e.maxResults),[4,t.storage._getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/","/".length>0&&(o.delimiter="/"),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=VO(e.bucketOnlyServerUrl()),s=t.maxOperationRetryTime,u=new GO(a,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=LO(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new MO(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)s=t._makeStorageReference(new MO(e,c[u].name)),r.items.push(s);return r}(t,e,r)}(t,e,r);return QO(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=XO(e),u}(t.storage,t._location,0,(r=e||{}).pageToken,r.maxResults),[2,t.storage._makeRequest(i,n).getPromise()]}})})}function cE(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new MO(t._location.bucket,n);return new oE(t.storage,r)}var lE=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),hE=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new lE(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new lE(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new lE(t,i,i._ref))}:{next:e.next?function(t){return e.next(new lE(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),fE=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new dE(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new dE(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),dE=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(cE(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new hE(function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new iE(t,new DO(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=yO.RAW),this._throwIfRoot("putString");var r=bO(e,t),i=Object(rf.a)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new hE(new iE(this._delegate,new DO(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return aE(this._delegate).then(function(e){return new fE(e,t.storage)})},t.prototype.list=function(t){var e=this;return uE(this._delegate,t).then(function(t){return new fE(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=JO(t.storage,t._location,HO()),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r;return Object(rf.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage._getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=VO(e.fullServerUrl()),o=KO(n,r),a=t.maxOperationRetryTime,s=new GO(i,"PATCH",YO(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=ZO(e),s}(t.storage,t._location,e,HO()),[2,t.storage._makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=VO(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new GO(r,"GET",function(t,e){return function(n,r){var i=WO(t,r,e);return QO(null!==i),function(t,e){var n=LO(e);if(null===n)return null;if(!xO(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return VO("/b/"+i(t.bucket)+"/o/"+i(n))+UO({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=ZO(e),o}(t.storage,t._location,HO()),[2,t.storage._makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new sO("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage._getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=VO(e.fullServerUrl()),r=new GO(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=ZO(e),r}(t.storage,t._location),[2,t.storage._makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw pO(t)},t}(),pE=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),vE=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(kk){o(kk)}else null!==a?((r=cO()).serverResponse=a.getResponseText(),o(t.errorCallback_?t.errorCallback_(a,r):r)):o(r=n.canceled?t.appDelete_?dO():lO():new sO("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new gE(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new gE(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===SO.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new gE(a,n))}else{var s=n.getErrorCode()===SO.ABORT;e(!1,new gE(!1,null,s))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,u())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(rf.g)([null,t],e));else{var r;u()||a?l.call.apply(l,Object(rf.g)([null,t],e)):(i<64&&(i*=2),1===s?(s=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout(function(){a=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),gE=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function yE(t){return/^[A-Za-z]+:\/\//.test(t)}function mE(t,e){if(t instanceof _E){var n=t;if(null==n._bucket)throw new sO("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new oE(n,n._bucket);return null!=e?mE(r,e):r}if(void 0!==e){if(e.includes(".."))throw fO('`path` param cannot contain ".."');return cE(t,e)}return t}function bE(t,e){if(e&&yE(e)){if(t instanceof _E)return new oE(t,e);throw fO("To use ref(service, url), the first argument must be a Storage instance.")}return mE(t,e)}var _E=function(){function t(t,e,n,r,i){var o,a;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?MO.makeFromBucketSpec(r):null==(a=null==(o=this.app.options)?void 0:o.storageBucket)?null:MO.makeFromBucketSpec(a)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){RO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){RO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new oE(this,t)},t.prototype._makeRequest=function(t,e){var n=this;if(this._deleted)return new pE(dO());var r=function(t,e,n,r,i){var o=UO(t.urlParams),a=t.url+o,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(s,i),new vE(a,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool,this._firebaseVersion);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),wE=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(yE(t))throw fO("ref() expected a child path but got a URL, use refFromURL instead.");return new dE(bE(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!yE(t))throw fO("refFromURL() expected a full URL but got a child path, use ref() instead.");try{MO.makeFromUrl(t)}catch(kk){throw fO("refFromUrl() expected a valid full URL but got an invalid one.")}return new dE(bE(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function kE(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new wE(n,new _E(n,r,new IO,e,$s.a.SDK_VERSION))}!function(t){var e={TaskState:OO,TaskEvent:CO,StringFormat:yO,Storage:_E,Reference:dE};t.INTERNAL.registerComponent(new Sk.a("storage",kE,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.4.3")}($s.a);var CE,OE,EE,SE=((CE={})["trace started"]="Trace {$traceName} was started before.",CE["trace stopped"]="Trace {$traceName} is not running.",CE["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",CE["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",CE["no window"]="Window is not available.",CE["no app id"]="App id is not available.",CE["no project id"]="Project id is not available.",CE["no api key"]="Api key is not available.",CE["invalid cc log"]="Attempted to queue invalid cc event",CE["FB not default"]="Performance can only start when Firebase app instance is the default one.",CE["RC response not ok"]="RC response is not ok",CE["invalid attribute name"]="Attribute name {$attributeName} is invalid.",CE["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",CE["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",CE["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",CE),TE=new eu.b("performance","Performance",SE),IE=new tu.b("Performance");IE.logLevel=tu.a.INFO;var xE,PE=function(){function t(t){if(this.window=t,!t)throw TE.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!Object(eu.w)()||(IE.info("IndexedDB is not supported by current browswer"),!1):(IE.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver(function(t){for(var n=0,r=t.getEntries();n<r.length;n++)e(r[n])}).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===OE&&(OE=new t(EE)),OE},t}();function AE(t,e){var n=t.length-e.length;if(n<0||n>1)throw TE.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}var RE,NE=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=AE("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=AE("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw TE.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw TE.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw TE.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===xE&&(xE=new t),xE},t}();function jE(){return RE}var DE=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}({}),ME=["firebase_","google_","ga_"],LE=new RegExp("^[a-zA-Z]\\w*$");function FE(){var t=PE.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function VE(){switch(PE.getInstance().document.visibilityState){case"visible":return DE.VISIBLE;case"hidden":return DE.HIDDEN;default:return DE.UNKNOWN}}function UE(){var t=PE.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function BE(t){if(!t)return t;var e=NE.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0===n.fpr_enabled||"true"===String(n.fpr_enabled),n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=qE(e.tracesSamplingRate),e.logNetworkAfterSampling=qE(e.networkRequestsSamplingRate),t}function qE(t){return Math.random()<=t}var zE,HE=1;function WE(){return HE=2,zE=zE||function(){var t=PE.getInstance().document;return new Promise(function(e){if(t&&"complete"!==t.readyState){t.addEventListener("readystatechange",function n(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())})}else e()})}().then(function(){return(t=NE.getInstance().installationsService.getId()).then(function(t){RE=t}),t;var t}).then(function(t){return function(t){var e=function(){var t=PE.getInstance().localStorage;if(t){var e=t.getItem("@firebase/performance/configexpire");if(e&&Number(e)>Date.now()){var n=t.getItem("@firebase/performance/config");if(n)try{return JSON.parse(n)}catch(r){return}}}}();return e?(BE(e),Promise.resolve()):function(t){return(e=NE.getInstance().installationsService.getToken(),e.then(function(t){}),e).then(function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+NE.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+NE.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:NE.getInstance().getAppId(),app_version:"0.4.6",sdk_version:"0.0.1"})});return fetch(r).then(function(t){if(t.ok)return t.json();throw TE.create("RC response not ok")})}).catch(function(){IE.info("Could not fetch config, will use default configs")});var e}(t).then(BE).then(function(t){return function(t){var e=PE.getInstance().localStorage;t&&e&&(e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*NE.getInstance().configTimeToLive*60*1e3)))}(t)},function(){})}(t)}).then(function(){return KE()},function(){return KE()})}function KE(){HE=3}var GE,QE=3,YE=[],XE=!1;function ZE(t){setTimeout(function(){var t,e;if(0!==QE)return YE.length?(e=(t=YE.splice(0,1e3)).map(function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}),void function(t,e){return function(t){var e=NE.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(function(t){return t.ok||IE.info("Call to Firebase backend failed."),t.json()}).then(function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(YE=Object(rf.g)(e,YE),IE.info("Retry transport request later.")),QE=3,ZE(r)})}({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:NE.getInstance().logSource,log_event:e},t).catch(function(){YE=Object(rf.g)(t,YE),QE--,IE.info("Tries left: "+QE+"."),ZE(1e4)})):ZE(1e4)},t)}function JE(t){if(!t.eventTime||!t.message)throw TE.create("invalid cc log");YE=Object(rf.g)(YE,[t])}function $E(t,e){var n;GE||(n=nS,GE=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];JE({message:n.apply(void 0,t),eventTime:Date.now()})}),GE(t,e)}function tS(t){var e=NE.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&PE.getInstance().requiredApisAvailable()&&(t.isAuto&&VE()!==DE.VISIBLE||(3===HE?eS(t):WE().then(function(){return eS(t)},function(){return eS(t)})))}function eS(t){if(jE()){var e=NE.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout(function(){return $E(t,1)},0)}}function nS(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:rS(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:rS(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function rS(){return{google_app_id:NE.getInstance().getAppId(),app_instance_id:jE(),web_app_info:{sdk_version:"0.4.6",page_url:PE.getInstance().getUrl(),service_worker_status:FE(),visibility_state:VE(),effective_connection_type:UE()},application_process_state:0}}var iS=["_fp","_fcp","_fid"],oS=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=PE.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw TE.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw TE.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),tS(this)},t.prototype.record=function(t,e,n){if(t<=0)throw TE.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw TE.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=Object(rf.a)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}tS(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),this.putMetric(t,void 0===this.counters[t]?e:this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(o=this.name,0===(i=t).length||i.length>100||!(o&&o.startsWith("_wt_")&&iS.indexOf(i)>-1)&&i.startsWith("_"))throw TE.create("invalid custom metric name",{customMetricName:t});var n,r,i,o;this.counters[t]=(n=e,(r=Math.floor(n))<n&&IE.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n,r=!(0===(n=t).length||n.length>40||ME.some(function(t){return n.startsWith(t)})||!n.match(LE)),i=function(t){return 0!==t.length&&t.length<=100}(e);if(r&&i)this.customAttributes[t]=e;else{if(!r)throw TE.create("invalid attribute name",{attributeName:t});if(!i)throw TE.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return Object(rf.a)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=PE.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),a=Math.floor(1e3*PE.getInstance().getTimeOrigin());if(o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd))),n){var s=n.find(function(t){return"first-paint"===t.name});s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find(function(t){return"first-contentful-paint"===t.name});u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}tS(o)}},t.createUserTimingTrace=function(e){tS(new t(e,!1,e))},t}();function aS(t){var e=t;if(e&&void 0!==e.responseStart){var n=PE.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=NE.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout(function(){return $E(t,0)},0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function sS(){jE()&&(setTimeout(function(){return function(){var t=PE.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout(function(){oS.createOobTrace(e,n),r=void 0},5e3);t.onFirstInputDelay(function(t){r&&(clearTimeout(r),oS.createOobTrace(e,n,t))})}else oS.createOobTrace(e,n)}()},0),setTimeout(function(){return function(){for(var t=PE.getInstance(),e=0,n=t.getEntriesByType("resource");e<n.length;e++)aS(n[e]);t.setupObserver("resource",aS)}()},0),setTimeout(function(){return function(){for(var t=PE.getInstance(),e=0,n=t.getEntriesByType("measure");e<n.length;e++)uS(n[e]);t.setupObserver("measure",uS)}()},0))}function uS(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&oS.createUserTimingTrace(e)}var cS=function(){function t(t){this.app=t,PE.getInstance().requiredApisAvailable()&&Object(eu.N)().then(function(t){t&&(XE||(ZE(5500),XE=!0),WE().then(sS,sS))}).catch(function(t){IE.info("Environment doesn't support IndexedDB: "+t)})}return t.prototype.trace=function(t){return new oS(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return NE.getInstance().instrumentationEnabled},set:function(t){NE.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return NE.getInstance().dataCollectionEnabled},set:function(t){NE.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();!function(t){t.INTERNAL.registerComponent(new Sk.a("performance",function(t){return function(t,e){if("[DEFAULT]"!==t.name)throw TE.create("FB not default");if("undefined"==typeof window)throw TE.create("no window");return function(t){EE=t}(window),NE.getInstance().firebaseAppInstance=t,NE.getInstance().installationsService=e,new cS(t)}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC")),t.registerVersion("@firebase/performance","0.4.6")}($s.a);var lS,hS="https://www.googletagmanager.com/gtag/js",fS=function(t){return t.EVENT="event",t.SET="set",t.CONFIG="config",t}({}),dS=function(t){return t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results",t}({}),pS=new tu.b("@firebase/analytics");function vS(t,e,n,r,i,o){return Object(rf.b)(this,void 0,void 0,function(){var a,s,u,c;return Object(rf.d)(this,function(l){switch(l.label){case 0:a=r[i],l.label=1;case 1:return l.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return l.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=l.sent(),(u=s.find(function(t){return t.measurementId===i}))?[4,e[u.appId]]:[3,6];case 5:l.sent(),l.label=6;case 6:return[3,8];case 7:return c=l.sent(),pS.error(c),[3,8];case 8:return t(fS.CONFIG,i,o),[2]}})})}function gS(t,e,n,r,i){return Object(rf.b)(this,void 0,void 0,function(){var o,a,s,u,c,l,h;return Object(rf.d)(this,function(f){switch(f.label){case 0:return f.trys.push([0,4,,5]),o=[],i&&i.send_to?(a=i.send_to,Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=f.sent(),u=function(t){var n=s.find(function(e){return e.measurementId===t}),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},c=0,l=a;c<l.length&&"break"!==u(l[c]);c++);f.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return f.sent(),t(fS.EVENT,r,i||{}),[3,5];case 4:return h=f.sent(),pS.error(h),[3,5];case 5:return[2]}})})}var yS=((lS={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",lS["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",lS["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",lS["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",lS["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",lS["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",lS["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",lS["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',lS["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',lS),mS=new eu.b("analytics","Analytics",yS),bS=new(function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=1e3),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}());function _S(t){var e;return Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s;return Object(rf.d)(this,function(u){switch(u.label){case 0:return n=t.appId,r={method:"GET",headers:(c=t.apiKey,new Headers({Accept:"application/json","x-goog-api-key":c}))},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(i,r)];case 1:if(200===(o=u.sent()).status||304===o.status)return[3,6];a="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,o.json()];case 3:return s=u.sent(),(null===(e=s.error)||void 0===e?void 0:e.message)&&(a=s.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw mS.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a});case 6:return[2,o.json()]}var c})})}function wS(t,e,n,r){var i=e.throttleEndTimeMillis,o=e.backoffCount;return void 0===r&&(r=bS),Object(rf.b)(this,void 0,void 0,function(){var e,a,s,u,c,l,h;return Object(rf.d)(this,function(f){switch(f.label){case 0:e=t.appId,a=t.measurementId,f.label=1;case 1:return f.trys.push([1,3,,4]),[4,kS(n,i)];case 2:return f.sent(),[3,4];case 3:if(s=f.sent(),a)return pS.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+s.message+"]"),[2,{appId:e,measurementId:a}];throw s;case 4:return f.trys.push([4,6,,7]),[4,_S(t)];case 5:return u=f.sent(),r.deleteThrottleMetadata(e),[2,u];case 6:if(!function(t){if(!(t instanceof eu.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c=f.sent())){if(r.deleteThrottleMetadata(e),a)return pS.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+a+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:a}];throw c}return l=503===Number(c.customData.httpStatus)?Object(eu.j)(o,r.intervalMillis,30):Object(eu.j)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:o+1},r.setThrottleMetadata(e,h),pS.debug("Calling attemptFetch again in "+l+" millis"),[2,wS(t,h,n,r)];case 7:return[2]}})})}function kS(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(mS.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var CS,OS,ES=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),SS={},TS=[],IS={},xS="dataLayer",PS="gtag",AS=!1;function RS(t){if(AS)throw mS.create("already-initialized");t.dataLayerName&&(xS=t.dataLayerName),t.gtagName&&(PS=t.gtagName)}function NS(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:if(Object(eu.s)())return[2,!1];if(!Object(eu.e)())return[2,!1];if(!Object(eu.w)())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Object(eu.N)()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}})})}!function(t){t.INTERNAL.registerComponent(new Sk.a("analytics",function(t){return function(t,e){!function(){var t=[];if(Object(eu.s)()&&t.push("This is a browser extension environment."),Object(eu.e)()||t.push("Cookies are not available."),t.length>0){var e=t.map(function(t,e){return"("+(e+1)+") "+t}).join(" "),n=mS.create("invalid-analytics-context",{errorInfo:e});pS.warn(n.message)}}();var n,r,i=t.options.appId;if(!i)throw mS.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw mS.create("no-api-key");pS.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=SS[i])throw mS.create("already-exists",{id:i});if(!AS){n=xS,r=[],Array.isArray(window[n])?r=window[n]:window[n]=r;var o=function(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){return function(i,o,a){return Object(rf.b)(this,void 0,void 0,function(){var s;return Object(rf.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==fS.EVENT?[3,2]:[4,gS(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==fS.CONFIG?[3,4]:[4,vS(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(fS.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),pS.error(s),[3,7];case 7:return[2]}})})}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(SS,TS,IS,xS,PS);OS=o.wrappedGtag,CS=o.gtagCore,AS=!0}return SS[i]=function(t,e,n,r,i,o){return Object(rf.b)(this,void 0,void 0,function(){var a,s,u,c,l,h,f;return Object(rf.d)(this,function(d){switch(d.label){case 0:return(a=function(t,e,n){return void 0===e&&(e=bS),Object(rf.b)(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return Object(rf.d)(this,function(c){if(i=(n=t.options).apiKey,o=n.measurementId,!(r=n.appId))throw mS.create("no-app-id");if(!i){if(o)return[2,{measurementId:o,appId:r}];throw mS.create("no-api-key")}return a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new ES,setTimeout(function(){return Object(rf.b)(u,void 0,void 0,function(){return Object(rf.d)(this,function(t){return s.abort(),[2]})})},6e4),[2,wS({appId:r,apiKey:i,measurementId:o},a,s,e)]})})}(t)).then(function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&pS.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(function(t){return pS.error(t)}),e.push(a),s=function(){return Object(rf.b)(this,void 0,void 0,function(){var t;return Object(rf.d)(this,function(e){switch(e.label){case 0:return Object(eu.w)()?[3,1]:(pS.warn(mS.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,Object(eu.N)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),pS.warn(mS.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}})})}().then(function(t){return t?r.getId():void 0}),[4,Promise.all([a,s])];case 1:return u=d.sent(),c=u[0],l=u[1],function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(hS))return r}return null}()||function(t,e){var n=document.createElement("script");n.src=hS+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}(o,c.measurementId),i("js",new Date),(f={}).origin="firebase",f.update=!0,h=f,null!=l&&(h.firebase_id=l),i(fS.CONFIG,c.measurementId,h),[2,c.measurementId]}})})}(t,TS,IS,e,CS,xS),{app:t,logEvent:function(t,e,n){(function(t,e,n,r,i){return Object(rf.b)(this,void 0,void 0,function(){var o,a;return Object(rf.d)(this,function(s){switch(s.label){case 0:return i&&i.global?(t(fS.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=Object(rf.a)(Object(rf.a)({},r),{send_to:o}),t(fS.EVENT,n,a),s.label=3;case 3:return[2]}})})})(OS,SS[i],t,e,n).catch(function(t){return pS.error(t)})},setCurrentScreen:function(t,e){(function(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(fS.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(fS.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}})})})(OS,SS[i],t,e).catch(function(t){return pS.error(t)})},setUserId:function(t,e){(function(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i;return Object(rf.d)(this,function(o){switch(o.label){case 0:return r&&r.global?(t(fS.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(fS.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}})})})(OS,SS[i],t,e).catch(function(t){return pS.error(t)})},setUserProperties:function(t,e){(function(t,e,n,r){return Object(rf.b)(this,void 0,void 0,function(){var i,o,a,s,u;return Object(rf.d)(this,function(c){switch(c.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)i["user_properties."+(s=a[o])]=n[s];return t(fS.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:u=c.sent(),t(fS.CONFIG,u,{update:!0,user_properties:n}),c.label=3;case 3:return[2]}})})})(OS,SS[i],t,e).catch(function(t){return pS.error(t)})},setAnalyticsCollectionEnabled:function(t){(function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}})})})(SS[i],t).catch(function(t){return pS.error(t)})},INTERNAL:{delete:function(){return delete SS[i],Promise.resolve()}}}}(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())},"PUBLIC").setServiceProps({settings:RS,EventName:dS,isSupported:NS})),t.INTERNAL.registerComponent(new Sk.a("analytics-internal",function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(kk){throw mS.create("interop-component-reg-failed",{reason:kk})}},"PRIVATE")),t.registerVersion("@firebase/analytics","0.6.4")}($s.a);var jS,DS=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}})})},t}(),MS=((jS={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",jS["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",jS["registration-api-key"]="Undefined API key. Check Firebase app initialization.",jS["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",jS["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",jS["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",jS["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",jS["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",jS["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",jS["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',jS["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',jS["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",jS["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",jS),LS=new eu.b("remoteconfig","Remote Config",MS),FS=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u,c,l,h,f,d,p,v,g;return Object(rf.d)(this,function(y){switch(y.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=y.sent(),n=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",r=n+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,i={sdk_version:this.sdkVersion,app_instance_id:e[0],app_instance_id_token:e[1],app_id:this.appId,language_code:(void 0===m&&(m=navigator),m.languages&&m.languages[0]||m.language)},o={method:"POST",headers:{"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},body:JSON.stringify(i)},a=fetch(r,o),s=new Promise(function(e,n){t.signal.addEventListener(function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)})}),y.label=2;case 2:return y.trys.push([2,5,,6]),[4,Promise.race([a,s])];case 3:return y.sent(),[4,a];case 4:return u=y.sent(),[3,6];case 5:throw c=y.sent(),l="fetch-client-network","AbortError"===c.name&&(l="fetch-timeout"),LS.create(l,{originalErrorMessage:c.message});case 6:if(h=u.status,f=u.headers.get("ETag")||void 0,200!==u.status)return[3,11];v=void 0,y.label=7;case 7:return y.trys.push([7,9,,10]),[4,u.json()];case 8:return v=y.sent(),[3,10];case 9:throw g=y.sent(),LS.create("fetch-client-parse",{originalErrorMessage:g.message});case 10:d=v.entries,p=v.state,y.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:"NO_TEMPLATE"!==p&&"EMPTY_CONFIG"!==p||(d={}),304!==h&&200!==h)throw LS.create("fetch-status",{httpStatus:h});return[2,{status:h,eTag:f,config:d}]}var m})})},t}(),VS=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach(function(t){return t()})},t}(),US=["1","true","t","yes","y","on"],BS=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&US.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),qS=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=tu.a.DEBUG;break;case"silent":this._logger.logLevel=tu.a.SILENT;break;default:this._logger.logLevel=tu.a.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e,n;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),n=t[1],(e=t[0])&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}})})},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then(function(){t._isInitializationComplete=!0})),this._initializePromise},t.prototype.fetch=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(rf.d)(this,function(i){switch(i.label){case 0:t=new VS,setTimeout(function(){return Object(rf.b)(r,void 0,void 0,function(){return Object(rf.d)(this,function(e){return t.abort(),[2]})})},this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof eu.c&&-1!==t.code.indexOf("fetch-throttle")}(e)?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}})})},t.prototype.fetchAndActivate=function(){return Object(rf.b)(this,void 0,void 0,function(){return Object(rf.d)(this,function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}})})},t.prototype.getAll=function(){var t,e,n=this;return(t=this._storageCache.getActiveConfig(),e=this.defaultConfig,void 0===t&&(t={}),void 0===e&&(e={}),Object.keys(Object(rf.a)(Object(rf.a)({},t),e))).reduce(function(t,e){return t[e]=n.getValue(e),t},{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new BS("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new BS("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new BS("static"))},t}();function zS(t,e){var n=t.target.error||void 0;return LS.create(e,{originalErrorMessage:n&&n.message})}var HS=function(){function t(t,e,n,r){void 0===r&&(r=new Promise(function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(zS(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}})),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n=this;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.get(a);s.onerror=function(t){i(zS(t,"storage-get"))},s.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(kk){i(LS.create("storage-get",{originalErrorMessage:kk&&kk.message}))}})]}})})},t.prototype.set=function(t,e){return Object(rf.b)(this,void 0,void 0,function(){var n,r=this;return Object(rf.d)(this,function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise(function(i,o){var a=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=r.createCompositeKey(t);try{var u=a.put({compositeKey:s,value:e});u.onerror=function(t){o(zS(t,"storage-set"))},u.onsuccess=function(){i()}}catch(kk){o(LS.create("storage-set",{originalErrorMessage:kk&&kk.message}))}})]}})})},t.prototype.delete=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e,n=this;return Object(rf.d)(this,function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise(function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=n.createCompositeKey(t);try{var s=o.delete(a);s.onerror=function(t){i(zS(t,"storage-delete"))},s.onsuccess=function(){r()}}catch(kk){i(LS.create("storage-delete",{originalErrorMessage:kk&&kk.message}))}})]}})})},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),WS=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return Object(rf.b)(this,void 0,void 0,function(){var t,e,n,r,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=a.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=a.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=a.sent())&&(this.activeConfig=o),[2]}})})},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();function KS(t,e){return new Promise(function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(function(){clearTimeout(o),r(LS.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}var GS,QS=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return Object(rf.b)(this,void 0,void 0,function(){var e;return Object(rf.d)(this,function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}})})},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return Object(rf.b)(this,void 0,void 0,function(){var e,i,o;return Object(rf.d)(this,function(a){switch(a.label){case 0:return[4,KS(t.signal,n)];case 1:a.sent(),a.label=2;case 2:return a.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=a.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return a.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof eu.c&&t.customData))return!1;var e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i=a.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+Object(eu.j)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return a.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}})})},t}();(GS=$s.a).INTERNAL.registerComponent(new Sk.a("remoteConfig",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw LS.create("registration-window");var i=n.options,o=i.projectId,a=i.apiKey,s=i.appId;if(!o)throw LS.create("registration-project-id");if(!a)throw LS.create("registration-api-key");if(!s)throw LS.create("registration-app-id");var u=new HS(s,n.name,e=e||"firebase"),c=new WS(u),l=new tu.b("@firebase/remote-config");l.logLevel=tu.a.ERROR;var h=new FS(r,GS.SDK_VERSION,e,o,a,s),f=new QS(h,u),d=new DS(f,u,c,l),p=new qS(n,d,c,u,l);return p.ensureInitialized(),p},"PUBLIC").setMultipleInstances(!0)),GS.registerVersion("@firebase/remote-config","0.1.31"),$s.a.registerVersion("firebase","8.2.9","app"),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),$s.a.registerVersion("firebase","8.2.9");var YS=o("D0XW");function XS(){return function(t){return t.lift(new ZS)}}var ZS=function(){function t(){f(this,t)}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new JS(t))}}]),t}(),JS=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).hasPrev=!1,r}return p(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(bn.a);function $S(t,e){return function(n){return n.lift(new tT(t,e))}}var tT=function(){function t(e,n){f(this,t),this.compare=e,this.keySelector=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new eT(t,this.compare,this.keySelector))}}]),t}(),eT=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return p(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(bn.a),nT=o("pxpQ"),rT=o("spgP"),iT=o("Jgta"),oT=o("VRyK"),aT=o("qgXg"),sT=o("Ylt2"),uT=function(t){v(n,t);var e=y(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,o=arguments.length>2?arguments[2]:void 0;return f(this,n),(t=e.call(this)).scheduler=o,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=r<1?1:r,t._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return p(n,[{key:"nextInfiniteTimeWindow",value:function(t){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),h(w(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this._events.push(new cT(this._getNow(),t)),this._trimBufferThenGetEvents(),h(w(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new Ye.a;if(this.isStopped||this.hasError?e=Xn.a.EMPTY:(this.observers.push(t),e=new sT.a(this,t)),i&&t.add(t=new nT.a(t,i)),n)for(var a=0;a<o&&!t.closed;a++)t.next(r[a]);else for(var s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||aT.a).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}]),n}(Qe.a),cT=function t(e,n){f(this,t),this.time=e,this.value=n};function lT(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,a=void 0===o?Number.POSITIVE_INFINITY:o,s=t.refCount,u=t.scheduler,c=0,l=!1,h=!1;return function(t){c++,e&&!l||(l=!1,e=new uT(i,a,u),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add(function(){c--,r.unsubscribe(),n&&!h&&s&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)})}}(r))}}function hT(t,e){return e?gn(function(){return t},e):gn(function(){return t})}var fT,dT=o("tf+s"),pT=new s.r("angularfire2.auth.use-emulator"),vT=new s.r("angularfire2.auth.settings"),gT=new s.r("angularfire2.auth.tenant-id"),yT=new s.r("angularfire2.auth.langugage-code"),mT=new s.r("angularfire2.auth.use-device-language"),bT=new s.r("angularfire.auth.persistence"),_T=((fT=function t(e,n,r,i,a,s,u,c,l,h){f(this,t);var d=new rT.d(i),p=Object(rT.h)(d),v=new Qe.a,g=Object(Ge.a)(void 0).pipe(Object(nT.b)(d.outsideAngular),gn(function(){return i.runOutsideAngular(function(){return o.e(5).then(o.bind(null,"6nsN"))})}),Object(pn.a)(function(){return Object(rT.g)(e,i,n)}),Object(pn.a)(function(t){return i.runOutsideAngular(function(){var e=a,n=s;return Object(rT.f)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var r=i.runOutsideAngular(function(){return t.auth()});return e&&r.useEmulator("http://".concat(e.join(":"))),u&&(r.tenantId=u),r.languageCode=c,l&&r.useDeviceLanguage(),n&&(r.settings=n),h&&r.setPersistence(h),r},[e,u,c,l,n,h])})}),lT({bufferSize:1,refCount:!1}));if(ee(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ge.a)(null);else{g.pipe(Gn()).subscribe();var y=g.pipe(gn(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),p,lT({bufferSize:1,refCount:!1})),m=function(t){return new sn.a(function(e){return{unsubscribe:i.runOutsideAngular(function(){return t(e)})}})},b=g.pipe(gn(function(t){return m(t.onAuthStateChanged.bind(t))})),_=g.pipe(gn(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=y.pipe(hT(b),Object(dT.a)(d.outsideAngular),Object(nT.b)(d.insideAngular)),this.user=y.pipe(hT(_),Object(dT.a)(d.outsideAngular),Object(nT.b)(d.insideAngular)),this.idToken=this.user.pipe(gn(function(t){return t?Object(Ke.a)(t.getIdToken()):Object(Ge.a)(null)})),this.idTokenResult=this.user.pipe(gn(function(t){return t?Object(Ke.a)(t.getIdTokenResult()):Object(Ge.a)(null)})),this.credential=Object(oT.a)(y,v,this.authState.pipe(In(function(t){return!t}))).pipe(Object(pn.a)(function(t){return(null==t?void 0:t.user)?t:null}),Object(dT.a)(d.outsideAngular),Object(nT.b)(d.insideAngular))}return Object(rT.i)(this,g,i,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return v.next(t)})}}})}).\u0275fac=function(t){return new(t||fT)(s.Wb(rT.c),s.Wb(rT.b,8),s.Wb(s.C),s.Wb(s.A),s.Wb(pT,8),s.Wb(vT,8),s.Wb(gT,8),s.Wb(yT,8),s.Wb(mT,8),s.Wb(bT,8))},fT.\u0275prov=Object(s.Jb)({factory:function(){return new fT(Object(s.Wb)(rT.c),Object(s.Wb)(rT.b,8),Object(s.Wb)(s.C),Object(s.Wb)(s.A),Object(s.Wb)(pT,8),Object(s.Wb)(vT,8),Object(s.Wb)(gT,8),Object(s.Wb)(yT,8),Object(s.Wb)(mT,8),Object(s.Wb)(bT,8))},token:fT,providedIn:"any"}),fT);function wT(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YS.a;return new sn.a(function(n){var r;return null!=e?e.schedule(function(){r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}})}(t,e)}function kT(t,e){return wT(t,e).pipe(Object(pn.a)(function(t){return{payload:t,type:"query"}}))}function CT(t,n){return kT(t,n).pipe(On(void 0),XS(),Object(pn.a)(function(t){var n=e(t,2),r=n[0],i=n[1],o=i.payload.docChanges(),a=o.map(function(t){return{type:t.type,payload:t}});return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach(function(t,e){var n=o.find(function(e){return e.doc.ref.isEqual(t.ref)}),i=null==r?void 0:r.payload.docs.find(function(e){return e.ref.isEqual(t.ref)});n&&JSON.stringify(n.doc.metadata)===JSON.stringify(t.metadata)||!n&&i&&JSON.stringify(i.metadata)===JSON.stringify(t.metadata)||a.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})}),a}))}function OT(t,e,n){return CT(t,n).pipe(En(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ET(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ET(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ET(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(function(t){return t.payload}),e)},[]),$S(),Object(pn.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}function ET(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function ST(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(rT.e)(_T,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);var TT=function(){function n(t,e,r){f(this,n),this.ref=t,this.query=e,this.afs=r}return p(n,[{key:"stateChanges",value:function(t){var n=CT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(n=n.pipe(Object(pn.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}))),n.pipe(On(void 0),XS(),In(function(t){var n=e(t,2),r=n[0];return n[1].length>0||!r}),Object(pn.a)(function(t){var n=e(t,2);n[0];return n[1]}),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(En(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=ST(t);return OT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pn.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(Object.assign({},n.data()),t({},e.idField,n.id)):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Ke.a)(this.query.get(t)).pipe(Object(nT.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new IT(this.ref.doc(t),this.afs)}}]),n}(),IT=function(){function n(t,e){f(this,n),this.ref=t,this.afs=e}return p(n,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=jT(this.ref.collection(t),e),r=n.ref,i=n.query;return new TT(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return wT(this.ref,this.afs.schedulers.outsideAngular).pipe(On(void 0),XS(),Object(pn.a)(function(t){var n=e(t,2),r=n[0],i=n[1];return i.exists?(null==r?void 0:r.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}})).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(pn.a)(function(n){var r=n.payload;return e.idField?Object.assign(Object.assign({},r.data()),t({},e.idField,r.id)):r.data()}))}},{key:"get",value:function(t){return Object(Ke.a)(this.ref.get(t)).pipe(Object(nT.b)(this.afs.schedulers.insideAngular))}}]),n}(),xT=function(){function e(t,n){f(this,e),this.query=t,this.afs=n}return p(e,[{key:"stateChanges",value:function(t){return t&&0!==t.length?CT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pn.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),In(function(t){return t.length>0}),this.afs.keepUnstableUntilFirst):CT(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe(En(function(t,e){return[].concat(i(t),i(e))},[]))}},{key:"snapshotChanges",value:function(t){var e=ST(t);return OT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return kT(this.query,this.afs.schedulers.outsideAngular).pipe(Object(pn.a)(function(n){return n.payload.docs.map(function(n){return e.idField?Object.assign(t({},e.idField,n.id),n.data()):n.data()})}),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Ke.a)(this.query.get(t)).pipe(Object(nT.b)(this.afs.schedulers.insideAngular))}}]),e}(),PT=new s.r("angularfire2.enableFirestorePersistence"),AT=new s.r("angularfire2.firestore.persistenceSettings"),RT=new s.r("angularfire2.firestore.settings"),NT=new s.r("angularfire2.firestore.use-emulator");function jT(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var DT,MT=((DT=function(){function t(n,r,o,a,s,u,c,l,h){f(this,t),this.schedulers=new rT.d(u),this.keepUnstableUntilFirst=Object(rT.h)(this.schedulers);var d=Object(rT.g)(n,u,r);!iT.a.auth&&h&&Object(rT.j)();var p=l,v=e(Object(rT.f)("".concat(d.name,".firestore"),"AngularFirestore",d,function(){var t=u.runOutsideAngular(function(){return d.firestore()});return a&&t.settings(a),p&&t.useEmulator.apply(t,i(p)),o&&!ee(s)?[t,u.runOutsideAngular(function(){try{return Object(Ke.a)(t.enablePersistence(c||void 0).then(function(){return!0},function(){return!1}))}catch(kk){return"undefined"!=typeof console&&console.warn(kk),Object(Ge.a)(!1)}})]:[t,Object(Ge.a)(!1)]},[a,p,o]),2);this.firestore=v[0],this.persistenceEnabled$=v[1]}return p(t,[{key:"collection",value:function(t,e){var n=jT("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run(function(){return r});return new TT(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new xT(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run(function(){return e});return new IT(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||DT)(s.Wb(rT.c),s.Wb(rT.b,8),s.Wb(PT,8),s.Wb(RT,8),s.Wb(s.C),s.Wb(s.A),s.Wb(AT,8),s.Wb(NT,8),s.Wb(pT,8))},DT.\u0275prov=Object(s.Jb)({factory:function(){return new DT(Object(s.Wb)(rT.c),Object(s.Wb)(rT.b,8),Object(s.Wb)(PT,8),Object(s.Wb)(RT,8),Object(s.Wb)(s.C),Object(s.Wb)(s.A),Object(s.Wb)(AT,8),Object(s.Wb)(NT,8),Object(s.Wb)(pT,8))},token:DT,providedIn:"any"}),DT);function LT(t){return null!=t&&"false"!="".concat(t)}function FT(t){return Array.isArray(t)?t:[t]}function VT(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function UT(t){return t instanceof s.l?t.nativeElement:t}var BT=o("n6bG");function qT(t,e,n,r){return Object(BT.a)(n)&&(r=n,n=void 0),r?qT(t,e,n).pipe(Object(pn.a)(function(t){return Object(Je.a)(t)?r.apply(void 0,i(t)):r(t)})):new sn.a(function(r){zT(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function zT(t,e,n,r,i){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var a=t;t.addEventListener(e,n,i),o=function(){return a.removeEventListener(e,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),o=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)zT(t[c],e,n,r,i)}r.add(o)}o("3N8a"),o("IjjT"),o("7Hc7");var HT=function(){function t(e){f(this,t),this.durationSelector=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new WT(t,this.durationSelector))}}]),t}(),WT=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return p(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(tn.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}($e.a),KT=o("Y7HM");function GT(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(KT.a)(e)?r=Number(e)<1?1:Number(e):Object(Ze.a)(e)&&(n=e),Object(Ze.a)(n)||(n=YS.a),new sn.a(function(e){var i=Object(KT.a)(t)?t:+t-n.now();return n.schedule(QT,i,{index:0,period:r,subscriber:e})})}function QT(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function YT(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YS.a;return e=function(){return GT(t,n)},function(t){return t.lift(new HT(e))}}function XT(t){return function(e){return e.lift(new JT(t))}}var ZT,JT=function(){function t(e){f(this,t),this.notifier=e}return p(t,[{key:"call",value:function(t,e){var n=new $T(t),r=Object(tn.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),$T=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this,t)).seenValue=!1,r}return p(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}($e.a);try{ZT="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(zM){ZT=!1}var tI,eI,nI,rI,iI=((rI=function t(e){f(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ZT)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||rI)(s.Wb(s.C,8))},rI.\u0275prov=Object(s.Jb)({factory:function(){return new rI(Object(s.Wb)(s.C,8))},token:rI,providedIn:"root"}),rI),oI=((nI=function t(){f(this,t)}).\u0275mod=s.Lb({type:nI}),nI.\u0275inj=s.Kb({factory:function(t){return new(t||nI)}}),nI);function aI(t){return function(){if(null==tI&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return tI=!0}}))}finally{tI=tI||!1}return tI}()?t:!!t.capture}var sI,uI,cI,lI,hI,fI,dI=new s.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(s.W)(d)}}),pI=((fI=function(){function t(e){if(f(this,t),this.value="ltr",this.change=new s.n,e){var n=e.documentElement?e.documentElement.dir:null,r=(e.body?e.body.dir:null)||n;this.value="ltr"===r||"rtl"===r?r:"ltr"}}return p(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||fI)(s.Wb(dI,8))},fI.\u0275prov=Object(s.Jb)({factory:function(){return new fI(Object(s.Wb)(dI,8))},token:fI,providedIn:"root"}),fI),vI=((hI=function t(){f(this,t)}).\u0275mod=s.Lb({type:hI}),hI.\u0275inj=s.Kb({factory:function(t){return new(t||hI)}}),hI),gI=((lI=function(){function t(e,n,r){f(this,t),this._ngZone=e,this._platform=n,this._scrolled=new Qe.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return p(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new sn.a(function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(YT(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):Object(Ge.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(In(function(t){return!t||n.indexOf(t)>-1}))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach(function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)}),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return qT(t._getWindow().document,"scroll").subscribe(function(){return t._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||lI)(s.Wb(s.A),s.Wb(iI),s.Wb(d,8))},lI.\u0275prov=Object(s.Jb)({factory:function(){return new lI(Object(s.Wb)(s.A),Object(s.Wb)(iI),Object(s.Wb)(d,8))},token:lI,providedIn:"root"}),lI),yI=((cI=function(){function t(e,n,r){var i=this;f(this,t),this._platform=e,this._document=r,n.runOutsideAngular(function(){var t=i._getWindow();i._change=e.isBrowser?Object(oT.a)(qT(t,"resize"),qT(t,"orientationchange")):Object(Ge.a)(),i._invalidateCache=i.change().subscribe(function(){return i._updateViewportSize()})})}return p(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(YT(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||cI)(s.Wb(iI),s.Wb(s.A),s.Wb(d,8))},cI.\u0275prov=Object(s.Jb)({factory:function(){return new cI(Object(s.Wb)(iI),Object(s.Wb)(s.A),Object(s.Wb)(d,8))},token:cI,providedIn:"root"}),cI),mI=((uI=function t(){f(this,t)}).\u0275mod=s.Lb({type:uI}),uI.\u0275inj=s.Kb({factory:function(t){return new(t||uI)}}),uI),bI=((sI=function t(){f(this,t)}).\u0275mod=s.Lb({type:sI}),sI.\u0275inj=s.Kb({factory:function(t){return new(t||sI)},imports:[[vI,oI,mI],vI,mI]}),sI);function _I(){throw Error("Host already has a portal attached")}var wI,kI,CI=function(){function t(){f(this,t)}return p(t,[{key:"attach",value:function(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&_I(),this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}}]),t}(),OI=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this)).component=t,a.viewContainerRef=r,a.injector=i,a.componentFactoryResolver=o,a}return n}(CI),EI=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=r,o.context=i,o}return p(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,h(w(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,h(w(n.prototype),"detach",this).call(this)}}]),n}(CI),SI=function(t){v(n,t);var e=y(n);function n(t){var r;return f(this,n),(r=e.call(this)).element=t instanceof s.l?t.nativeElement:t,r}return n}(CI),TI=function(){function t(){f(this,t),this._isDisposed=!1,this.attachDomPortal=null}return p(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&_I(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof OI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof EI?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof SI?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),II=function(t){v(n,t);var e=y(n);function n(t,r,i,o,a){var s,u;return f(this,n),(u=e.call(this)).outletElement=t,u._componentFactoryResolver=r,u._appRef=i,u._defaultInjector=o,u.attachDomPortal=function(t){if(!u._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=u._document.createComment("dom-portal");e.parentNode.insertBefore(r,e),u.outletElement.appendChild(e),h((s=b(u),w(n.prototype)),"setDisposeFn",s).call(s,function(){r.parentNode&&r.parentNode.replaceChild(e,r)})},u._document=a,u}return p(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(function(){return e.destroy()})):(e=r.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(function(){n._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context);return r.detectChanges(),r.rootNodes.forEach(function(t){return e.outletElement.appendChild(t)}),this.setDisposeFn(function(){var t=n.indexOf(r);-1!==t&&n.remove(t)}),r}},{key:"dispose",value:function(){h(w(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(TI),xI=((kI=function(t){v(n,t);var e=y(n);function n(t,r,i){var o,a;return f(this,n),(a=e.call(this))._componentFactoryResolver=t,a._viewContainerRef=r,a._isInitialized=!1,a.attached=new s.n,a.attachDomPortal=function(t){if(!a._document)throw Error("Cannot attach DOM portal without _document constructor parameter");var e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");var r=a._document.createComment("dom-portal");t.setAttachedHost(b(a)),e.parentNode.insertBefore(r,e),a._getRootNode().appendChild(e),h((o=b(a),w(n.prototype)),"setDisposeFn",o).call(o,function(){r.parentNode&&r.parentNode.replaceChild(e,r)})},a._document=i,a}return p(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&h(w(n.prototype),"detach",this).call(this),t&&h(w(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){h(w(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),i=e.createComponent(r,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),h(w(n.prototype),"setDisposeFn",this).call(this,function(){return i.destroy()}),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var r=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return h(w(n.prototype),"setDisposeFn",this).call(this,function(){return e._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}]),n}(TI)).\u0275fac=function(t){return new(t||kI)(s.Nb(s.j),s.Nb(s.R),s.Nb(d))},kI.\u0275dir=s.Ib({type:kI,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.zb]}),kI),PI=((wI=function t(){f(this,t)}).\u0275mod=s.Lb({type:wI}),wI.\u0275inj=s.Kb({factory:function(t){return new(t||wI)}}),wI),AI=function(){function t(e,n){f(this,t),this._parentInjector=e,this._customTokens=n}return p(t,[{key:"get",value:function(t,e){var n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}]),t}(),RI=function(){function t(e,n){f(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return p(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=VT(-this._previousScrollPosition.left),t.style.top=VT(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}();function NI(){return Error("Scroll strategy has already been attached.")}var jI=function(){function t(e,n,r,i){var o=this;f(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run(function(){return o._overlayRef.detach()})}}return p(t,[{key:"attach",value:function(t){if(this._overlayRef)throw NI();this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),DI=function(){function t(){f(this,t)}return p(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function MI(t,e){return e.some(function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right})}function LI(t,e){return e.some(function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right})}var FI,VI=function(){function t(e,n,r,i){f(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this._config=i,this._scrollSubscription=null}return p(t,[{key:"attach",value:function(t){if(this._overlayRef)throw NI();this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),r=n.width,i=n.height;MI(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),UI=((FI=function t(e,n,r,i){var o=this;f(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=function(){return new DI},this.close=function(t){return new jI(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new RI(o._viewportRuler,o._document)},this.reposition=function(t){return new VI(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=i}).\u0275fac=function(t){return new(t||FI)(s.Wb(gI),s.Wb(yI),s.Wb(s.A),s.Wb(d))},FI.\u0275prov=Object(s.Jb)({factory:function(){return new FI(Object(s.Wb)(gI),Object(s.Wb)(yI),Object(s.Wb)(s.A),Object(s.Wb)(d))},token:FI,providedIn:"root"}),FI),BI=function t(e){if(f(this,t),this.scrollStrategy=new DI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];void 0!==e[i]&&(this[i]=e[i])}},qI=function t(e,n,r,i,o){f(this,t),this.offsetX=r,this.offsetY=i,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY},zI=function t(e,n){f(this,t),this.connectionPair=e,this.scrollableViewProperties=n};function HI(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "top", "bottom" or "center".'))}function WI(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error("ConnectedPosition: Invalid ".concat(t,' "').concat(e,'". Expected "start", "end" or "center".'))}var KI,GI,QI=((KI=function(){function t(e){var n=this;f(this,t),this._attachedOverlays=[],this._keydownListener=function(t){for(var e=n._attachedOverlays,r=e.length-1;r>-1;r--)if(e[r]._keydownEvents.observers.length>0){e[r]._keydownEvents.next(t);break}},this._document=e}return p(t,[{key:"ngOnDestroy",value:function(){this._detach()}},{key:"add",value:function(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}},{key:"_detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),t}()).\u0275fac=function(t){return new(t||KI)(s.Wb(d))},KI.\u0275prov=Object(s.Jb)({factory:function(){return new KI(Object(s.Wb)(d))},token:KI,providedIn:"root"}),KI),YI=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),XI=((GI=function(){function t(e,n){f(this,t),this._platform=n,this._document=e}return p(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||YI)for(var e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n]);var r=this._document.createElement("div");r.classList.add("cdk-overlay-container"),YI?r.setAttribute("platform","test"):t||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}]),t}()).\u0275fac=function(t){return new(t||GI)(s.Wb(d),s.Wb(iI))},GI.\u0275prov=Object(s.Jb)({factory:function(){return new GI(Object(s.Wb)(d),Object(s.Wb)(iI))},token:GI,providedIn:"root"}),GI),ZI=function(){function t(e,n,r,i,o,a,s,u){var c=this;f(this,t),this._portalOutlet=e,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=u,this._backdropElement=null,this._backdropClick=new Qe.a,this._attachments=new Qe.a,this._detachments=new Qe.a,this._locationChanges=Xn.a.EMPTY,this._backdropClickHandler=function(t){return c._backdropClick.next(t)},this._keydownEvents=new Qe.a,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}return p(t,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(wn(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick.asObservable()}},{key:"attachments",value:function(){return this._attachments.asObservable()}},{key:"detachments",value:function(){return this._detachments.asObservable()}},{key:"keydownEvents",value:function(){return this._keydownEvents.asObservable()}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=VT(this._config.width),t.height=VT(this._config.height),t.minWidth=VT(this._config.minWidth),t.minHeight=VT(this._config.minHeight),t.maxWidth=VT(this._config.maxWidth),t.maxHeight=VT(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var r=function r(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",r),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",r)}),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(function(){return setTimeout(r,500)})}}},{key:"_toggleClasses",value:function(t,e,n){var r=t.classList;FT(e).forEach(function(t){t&&(n?r.add(t):r.remove(t))})}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=t._ngZone.onStable.asObservable().pipe(XT(Object(oT.a)(t._attachments,t._detachments))).subscribe(function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}]),t}(),JI=/([A-Za-z%]+)$/,$I=function(){function t(e,n,r,i,o){f(this,t),this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Qe.a,this._resizeSubscription=Xn.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}return p(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){var e=this;if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){e._isInitialRender=!0,e.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,n=this._originRect,r=this._overlayRect,i=this._viewportRect,o=[],s=a(this._preferredPositions);try{for(s.s();!(e=s.n()).done;){var u=e.value,c=this._getOriginPoint(n,u),l=this._getOverlayPoint(c,r,u),h=this._getOverlayFit(l,r,i,u);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,c);this._canFitWithFlexibleDimensions(h,l,i)?o.push({position:u,origin:c,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(c,u)}):(!t||t.overlayFit.visibleArea<h.visibleArea)&&(t={overlayFit:h,overlayPoint:l,originPoint:c,position:u,overlayRect:r})}}catch(m){s.e(m)}finally{s.f()}if(o.length){var f,d=null,p=-1,v=a(o);try{for(v.s();!(f=v.n()).done;){var g=f.value,y=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);y>p&&(p=y,d=g)}}catch(m){v.e(m)}finally{v.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&tx(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}},{key:"_getOverlayFit",value:function(t,e,n,r){var i=t.x,o=t.y,a=this._getOffset(r,"x"),s=this._getOffset(r,"y");a&&(i+=a),s&&(o+=s);var u=0-o,c=o+e.height-n.height,l=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,u,c),f=l*h;return{visibleArea:f,isCompletelyWithinViewport:e.width*e.height===f,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:l==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var r=n.bottom-e.y,i=n.right-e.x,o=ex(this._overlayRef.getConfig().minHeight),a=ex(this._overlayRef.getConfig().minWidth),s=t.fitsInViewportHorizontally||null!=a&&a<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&s}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var r,i,o=this._viewportRect,a=Math.max(t.x+e.width-o.right,0),s=Math.max(t.y+e.height-o.bottom,0),u=Math.max(o.top-n.top-t.y,0),c=Math.max(o.left-n.left-t.x,0);return r=e.width<=o.width?c||-a:t.x<this._viewportMargin?o.left-n.left-t.x:0,i=e.height<=o.height?u||-s:t.y<this._viewportMargin?o.top-n.top-t.y:0,this._previousPushAmount={x:r,y:i},{x:t.x+r,y:t.y+i}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),r=new zI(t,n);this._positionChanges.next(r)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var i=0;i<n.length;i++)n[i].style.transformOrigin="".concat(e," ").concat(r)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,r,i,o,a,s,u=this._viewportRect,c=this._isRtl();if("top"===e.overlayY)r=t.y,n=u.height-r+this._viewportMargin;else if("bottom"===e.overlayY)i=u.height-t.y+2*this._viewportMargin,n=u.height-i+this._viewportMargin;else{var l=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*l,r=t.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-h/2)}if("end"===e.overlayX&&!c||"start"===e.overlayX&&c)s=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!c||"end"===e.overlayX&&c)a=t.x,o=u.right-t.x;else{var f=Math.min(u.right-t.x+u.left,t.x),d=this._lastBoundingBoxSize.width;o=2*f,a=t.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.x-d/2)}return{top:r,left:a,bottom:i,right:s,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{var i=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=VT(n.height),r.top=VT(n.top),r.bottom=VT(n.bottom),r.width=VT(n.width),r.left=VT(n.left),r.right=VT(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",i&&(r.maxHeight=VT(i)),o&&(r.maxWidth=VT(o))}this._lastBoundingBoxSize=n,tx(this._boundingBox.style,r)}},{key:"_resetBoundingBoxStyles",value:function(){tx(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){tx(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){var a=this._viewportRuler.getViewportScrollPosition();tx(n,this._getExactOverlayY(e,t,a)),tx(n,this._getExactOverlayX(e,t,a))}else n.position="static";var s="",u=this._getOffset(e,"x"),c=this._getOffset(e,"y");u&&(s+="translateX(".concat(u,"px) ")),c&&(s+="translateY(".concat(c,"px)")),n.transform=s.trim(),o.maxHeight&&(r?n.maxHeight=VT(o.maxHeight):i&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=VT(o.maxWidth):i&&(n.maxWidth="")),tx(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=VT(i.y),r}},{key:"_getExactOverlayX",value:function(t,e,n){var r={left:"",right:""},i=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?r.right=this._document.documentElement.clientWidth-(i.x+this._overlayRect.width)+"px":r.left=VT(i.x),r}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(t){return t.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:LI(t,n),isOriginOutsideView:MI(t,n),isOverlayClipped:LI(e,n),isOverlayOutsideView:MI(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(t,e){return t-Math.max(e,0)},t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(function(t){WI("originX",t.originX),HI("originY",t.originY),WI("overlayX",t.overlayX),HI("overlayY",t.overlayY)})}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&FT(t).forEach(function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))})}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach(function(e){t._pane.classList.remove(e)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof s.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}]),t}();function tx(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ex(t){if("number"!=typeof t&&null!=t){var n=e(t.split(JI),2),r=n[0],i=n[1];return i&&"px"!==i?null:parseFloat(r)}return t||null}var nx,rx,ix,ox=function(){function t(e,n,r,i,o,a,s){f(this,t),this._preferredPositions=[],this._positionStrategy=new $I(r,i,o,a,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n)}return p(t,[{key:"_isRtl",get:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"onPositionChange",get:function(){return this._positionStrategy.positionChanges}},{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,r){var i=new qI(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}}]),t}(),ax=function(){function t(){f(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return p(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),r=n.width,i=n.height,o=n.maxWidth,a=n.maxHeight,s=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==i&&"100vh"!==i||a&&"100%"!==a&&"100vh"!==a);t.position=this._cssPosition,t.marginLeft=s?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,s?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),sx=((rx=function(){function t(e,n,r,i){f(this,t),this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i}return p(t,[{key:"global",value:function(){return new ax}},{key:"connectedTo",value:function(t,e,n){return new ox(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new $I(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||rx)(s.Wb(yI),s.Wb(d),s.Wb(iI),s.Wb(XI))},rx.\u0275prov=Object(s.Jb)({factory:function(){return new rx(Object(s.Wb)(yI),Object(s.Wb)(d),Object(s.Wb)(iI),Object(s.Wb)(XI))},token:rx,providedIn:"root"}),rx),ux=0,cx=((nx=function(){function t(e,n,r,i,o,a,s,u,c,l){f(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=i,this._keyboardDispatcher=o,this._injector=a,this._ngZone=s,this._document=u,this._directionality=c,this._location=l}return p(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new BI(t);return i.direction=i.direction||this._directionality.value,new ZI(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+ux++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(s.g)),new II(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||nx)(s.Wb(UI),s.Wb(XI),s.Wb(s.j),s.Wb(sx),s.Wb(QI),s.Wb(s.s),s.Wb(s.A),s.Wb(d),s.Wb(pI),s.Wb(V,8))},nx.\u0275prov=s.Jb({token:nx,factory:nx.\u0275fac}),nx),lx={provide:new s.r("cdk-connected-overlay-scroll-strategy"),deps:[cx],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},hx=((ix=function t(){f(this,t)}).\u0275mod=s.Lb({type:ix}),ix.\u0275inj=s.Kb({factory:function(t){return new(t||ix)},providers:[cx,lx],imports:[[vI,PI,bI],bI]}),ix);function fx(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:YS.a;return function(n){return n.lift(new dx(t,e))}}var dx=function(){function t(e,n){f(this,t),this.dueTime=e,this.scheduler=n}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new px(t,this.dueTime,this.scheduler))}}]),t}(),px=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;return f(this,n),(o=e.call(this,t)).dueTime=r,o.scheduler=i,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return p(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(vx,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(bn.a);function vx(t){t.debouncedNext()}var gx,yx,mx=((yx=function(){function t(){f(this,t)}return p(t,[{key:"create",value:function(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}]),t}()).\u0275fac=function(t){return new(t||yx)},yx.\u0275prov=Object(s.Jb)({factory:function(){return new yx},token:yx,providedIn:"root"}),yx),bx=((gx=function t(){f(this,t)}).\u0275mod=s.Lb({type:gx}),gx.\u0275inj=s.Kb({factory:function(t){return new(t||gx)},providers:[mx]}),gx);function _x(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}var wx,kx=0,Cx=new Map,Ox=null,Ex=((wx=function(){function t(e){f(this,t),this._document=e}return p(t,[{key:"describe",value:function(t,e){this._canBeDescribed(t,e)&&("string"!=typeof e?(this._setMessageId(e),Cx.set(e,{messageElement:e,referenceCount:0})):Cx.has(e)||this._createMessageElement(e),this._isElementDescribedByMessage(t,e)||this._addMessageReference(t,e))}},{key:"removeDescription",value:function(t,e){if(this._isElementNode(t)){if(this._isElementDescribedByMessage(t,e)&&this._removeMessageReference(t,e),"string"==typeof e){var n=Cx.get(e);n&&0===n.referenceCount&&this._deleteMessageElement(e)}Ox&&0===Ox.childNodes.length&&this._deleteMessagesContainer()}}},{key:"ngOnDestroy",value:function(){for(var t=this._document.querySelectorAll("[cdk-describedby-host]"),e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute("cdk-describedby-host");Ox&&this._deleteMessagesContainer(),Cx.clear()}},{key:"_createMessageElement",value:function(t){var e=this._document.createElement("div");this._setMessageId(e),e.textContent=t,this._createMessagesContainer(),Ox.appendChild(e),Cx.set(t,{messageElement:e,referenceCount:0})}},{key:"_setMessageId",value:function(t){t.id||(t.id="cdk-describedby-message-"+kx++)}},{key:"_deleteMessageElement",value:function(t){var e=Cx.get(t),n=e&&e.messageElement;Ox&&n&&Ox.removeChild(n),Cx.delete(t)}},{key:"_createMessagesContainer",value:function(){if(!Ox){var t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),(Ox=this._document.createElement("div")).id="cdk-describedby-message-container",Ox.setAttribute("aria-hidden","true"),Ox.style.display="none",this._document.body.appendChild(Ox)}}},{key:"_deleteMessagesContainer",value:function(){Ox&&Ox.parentNode&&(Ox.parentNode.removeChild(Ox),Ox=null)}},{key:"_removeCdkDescribedByReferenceIds",value:function(t){var e=_x(t,"aria-describedby").filter(function(t){return 0!=t.indexOf("cdk-describedby-message")});t.setAttribute("aria-describedby",e.join(" "))}},{key:"_addMessageReference",value:function(t,e){var n,r,i,o,a=Cx.get(e);n=t,r="aria-describedby",i=a.messageElement.id,(o=_x(n,r)).some(function(t){return t.trim()==i.trim()})||(o.push(i.trim()),n.setAttribute(r,o.join(" "))),t.setAttribute("cdk-describedby-host",""),a.referenceCount++}},{key:"_removeMessageReference",value:function(t,e){var n,r,i,o,a=Cx.get(e);a.referenceCount--,n=t,r="aria-describedby",i=a.messageElement.id,(o=_x(n,r).filter(function(t){return t!=i.trim()})).length?n.setAttribute(r,o.join(" ")):n.removeAttribute(r),t.removeAttribute("cdk-describedby-host")}},{key:"_isElementDescribedByMessage",value:function(t,e){var n=_x(t,"aria-describedby"),r=Cx.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}},{key:"_canBeDescribed",value:function(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;var n=null==e?"":"".concat(e).trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}},{key:"_isElementNode",value:function(t){return t.nodeType===this._document.ELEMENT_NODE}}]),t}()).\u0275fac=function(t){return new(t||wx)(s.Wb(d))},wx.\u0275prov=Object(s.Jb)({factory:function(){return new wx(Object(s.Wb)(d))},token:wx,providedIn:"root"}),wx);"undefined"!=typeof Element&&Element;var Sx,Tx=new s.r("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ix=new s.r("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),xx=((Sx=function(){function t(e,n,r,i){f(this,t),this._ngZone=n,this._defaultOptions=i,this._document=r,this._liveElement=e||this._createLiveElement()}return p(t,[{key:"announce",value:function(t){for(var n,r,i,o=this,a=this._defaultOptions,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];return 1===u.length&&"number"==typeof u[0]?i=u[0]:(r=(n=e(u,2))[0],i=n[1]),this.clear(),clearTimeout(this._previousTimeout),r||(r=a&&a.politeness?a.politeness:"polite"),null==i&&a&&(i=a.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(function(){return new Promise(function(e){clearTimeout(o._previousTimeout),o._previousTimeout=setTimeout(function(){o._liveElement.textContent=t,e(),"number"==typeof i&&(o._previousTimeout=setTimeout(function(){return o.clear()},i))},100)})})}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}]),t}()).\u0275fac=function(t){return new(t||Sx)(s.Wb(Tx,8),s.Wb(s.A),s.Wb(d),s.Wb(Ix,8))},Sx.\u0275prov=Object(s.Jb)({factory:function(){return new Sx(Object(s.Wb)(Tx,8),Object(s.Wb)(s.A),Object(s.Wb)(d),Object(s.Wb)(Ix,8))},token:Sx,providedIn:"root"}),Sx);function Px(t){return 0===t.buttons}var Ax,Rx=new s.r("cdk-focus-monitor-default-options"),Nx=aI({passive:!0,capture:!0}),jx=((Ax=function(){function t(e,n,r,i){var o=this;f(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!o._lastTouchTarget){var e=Px(t)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=Dx(t),o._touchTimeoutId=setTimeout(function(){return o._lastTouchTarget=null},650)},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout(function(){return o._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(t){for(var e=Dx(t),n="focus"===t.type?o._onFocus:o._onBlur,r=e;r;r=r.parentElement)n.call(o,t,r)},this._document=r,this._detectionMode=(null==i?void 0:i.detectionMode)||0}return p(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._platform.isBrowser)return Object(Ge.a)(null);var n=UT(t),r=function(t){if(function(){if(null==eI){var t="undefined"!=typeof document?document.head:null;eI=!(!t||!t.createShadowRoot&&!t.attachShadow)}return eI}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject.asObservable();var o={checkChildren:e,subject:new Qe.a,rootNode:r};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}},{key:"stopMonitoring",value:function(t){var e=UT(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,e,n){var r=UT(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout(function(){return e._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(t){var e=Dx(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);if(n&&(n.checkChildren||e===Dx(t))){var r=this._getFocusOrigin(t);this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run(function(){return t.next(e)})}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,Nx),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,Nx)}),this._rootNodeFocusListenerCount.set(n,r+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,Nx),t.addEventListener("mousedown",e._documentMousedownListener,Nx),t.addEventListener("touchstart",e._documentTouchstartListener,Nx),n.addEventListener("focus",e._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nx),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nx),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var r=this._getDocument(),i=this._getWindow();r.removeEventListener("keydown",this._documentKeydownListener,Nx),r.removeEventListener("mousedown",this._documentMousedownListener,Nx),r.removeEventListener("touchstart",this._documentTouchstartListener,Nx),i.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}]),t}()).\u0275fac=function(t){return new(t||Ax)(s.Wb(s.A),s.Wb(iI),s.Wb(d,8),s.Wb(Rx,8))},Ax.\u0275prov=Object(s.Jb)({factory:function(){return new Ax(Object(s.Wb)(s.A),Object(s.Wb)(iI),Object(s.Wb)(d,8),Object(s.Wb)(Rx,8))},token:Ax,providedIn:"root"}),Ax);function Dx(t){return t.composedPath?t.composedPath()[0]:t.target}var Mx,Lx,Fx=((Lx=function(){function t(e,n){f(this,t),this._platform=e,this._document=n}return p(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||Lx)(s.Wb(iI),s.Wb(d))},Lx.\u0275prov=Object(s.Jb)({factory:function(){return new Lx(Object(s.Wb)(iI),Object(s.Wb)(d))},token:Lx,providedIn:"root"}),Lx),Vx=((Mx=function t(e){f(this,t),e._applyBodyHighContrastModeCssClasses()}).\u0275mod=s.Lb({type:Mx}),Mx.\u0275inj=s.Kb({factory:function(t){return new(t||Mx)(s.Wb(Fx))},imports:[[oI,bx]]}),Mx),Ux=new s.Q("9.2.4"),Bx=function t(){f(this,t)};function qx(t,e){return{type:7,name:t,definitions:e,options:{}}}function zx(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function Hx(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Wx(t){return{type:6,styles:t,offset:null}}function Kx(t,e,n){return{type:0,name:t,styles:e,options:n}}function Gx(t){return{type:5,steps:t}}function Qx(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function Yx(t){Promise.resolve(null).then(t)}var Xx=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return p(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Yx(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Zx=function(){function t(e){var n=this;f(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var r=0,i=0,o=0,a=this.players.length;0==a?Yx(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++r==a&&n._onFinish()}),t.onDestroy(function(){++i==a&&n._onDestroy()}),t.onStart(function(){++o==a&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return p(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function Jx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $x(t){switch(t.length){case 0:return new Xx;case 1:return t[0];default:return new Zx(t)}}function tP(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],s=[],u=-1,c=null;if(r.forEach(function(t){var n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(function(n){var r=n,s=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,a),s){case"!":s=i[n];break;case"*":s=o[n];break;default:s=e.normalizeStyleValue(n,r,s,a)}l[r]=s}),r||s.push(l),c=l,u=n}),a.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(a.join(l)))}return s}function eP(t,e,n,r){switch(e){case"start":t.onStart(function(){return r(n&&nP(n,"start",t))});break;case"done":t.onDone(function(){return r(n&&nP(n,"done",t))});break;case"destroy":t.onDestroy(function(){return r(n&&nP(n,"destroy",t))})}}function nP(t,e,n){var r=n.totalTime,i=rP(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function rP(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!a}}function iP(t,e,n){var r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function oP(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var aP=function(t,e){return!1},sP=function(t,e){return!1},uP=function(t,e,n){return[]},cP=Jx();(cP||"undefined"!=typeof Element)&&(aP=function(t,e){return t.contains(e)},sP=function(){if(cP||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:sP}(),uP=function(t,e,n){var r=[];if(n)for(var i=t.querySelectorAll(e),o=0;o<i.length;o++)r.push(i[o]);else{var a=t.querySelector(e);a&&r.push(a)}return r});var lP=null,hP=!1;function fP(t){lP||(lP=("undefined"!=typeof document?document.body:null)||{},hP=!!lP.style&&"WebkitAppearance"in lP.style);var e=!0;return lP.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in lP.style)&&hP)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in lP.style),e}var dP=sP,pP=aP,vP=uP;function gP(t){var e={};return Object.keys(t).forEach(function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}var yP,mP=((yP=function(){function t(){f(this,t)}return p(t,[{key:"validateStyleProperty",value:function(t){return fP(t)}},{key:"matchesElement",value:function(t,e){return dP(t,e)}},{key:"containsElement",value:function(t,e){return pP(t,e)}},{key:"query",value:function(t,e,n){return vP(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,r,i){return new Xx(n,r)}}]),t}()).\u0275fac=function(t){return new(t||yP)},yP.\u0275prov=s.Jb({token:yP,factory:yP.\u0275fac}),yP),bP=function(){var t=function t(){f(this,t)};return t.NOOP=new mP,t}();function _P(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:wP(parseFloat(e[1]),e[2])}function wP(t,e){switch(e){case"s":return 1e3*t;default:return t}}function kP(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var r,i=0,o="";if("string"==typeof t){var a=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};r=wP(parseFloat(a[1]),a[2]);var s=a[3];null!=s&&(i=wP(parseFloat(s),a[4]));var u=a[5];u&&(o=u)}else r=t;if(!n){var c=!1,l=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:r,delay:i,easing:o}}(t,e,n)}function CP(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function OP(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var r in t)n[r]=t[r];else CP(t,n);return n}function EP(t,e,n){return n?e+":"+n+";":""}function SP(t){for(var e="",n=0;n<t.style.length;n++){var r=t.style.item(n);e+=EP(0,r,t.style.getPropertyValue(r))}for(var i in t.style)t.style.hasOwnProperty(i)&&!i.startsWith("_")&&(e+=EP(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[i]));t.setAttribute("style",e)}function TP(t,e,n){t.style&&(Object.keys(e).forEach(function(r){var i=DP(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Jx()&&SP(t))}function IP(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=DP(e);t.style[n]=""}),Jx()&&SP(t))}function xP(t){return Array.isArray(t)?1==t.length?t[0]:Hx(t):t}var PP=new RegExp("{{\\s*(.+?)\\s*}}","g");function AP(t){var e=[];if("string"==typeof t){for(var n;n=PP.exec(t);)e.push(n[1]);PP.lastIndex=0}return e}function RP(t,e,n){var r=t.toString(),i=r.replace(PP,function(t,r){var i=e[r];return e.hasOwnProperty(r)||(n.push("Please provide a value for the animation param ".concat(r)),i=""),i.toString()});return i==r?t:i}function NP(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var jP=/-+([a-z0-9])/g;function DP(t){return t.replace(jP,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function MP(t,e){return 0===t||0===e}function LP(t,e,n){var r=Object.keys(n);if(r.length&&e.length){var i=e[0],o=[];if(r.forEach(function(t){i.hasOwnProperty(t)||o.push(t),i[t]=n[t]}),o.length)for(var a=function(){var n=e[s];o.forEach(function(e){n[e]=VP(t,e)})},s=1;s<e.length;s++)a()}return e}function FP(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function VP(t,e){return window.getComputedStyle(t)[e]}var UP=new Set(["true","1"]),BP=new Set(["false","0"]);function qP(t,e){var n=UP.has(t)||BP.has(t),r=UP.has(e)||BP.has(e);return function(i,o){var a="*"==t||t==i,s="*"==e||e==o;return!a&&n&&"boolean"==typeof i&&(a=i?UP.has(t):BP.has(t)),!s&&r&&"boolean"==typeof o&&(s=o?UP.has(e):BP.has(e)),a&&s}}var zP=new RegExp("s*:selfs*,?","g");function HP(t,e,n){return new WP(t).build(e,n)}var WP=function(){function t(e){f(this,t),this._driver=e}return p(t,[{key:"build",value:function(t,e){var n=new KP(e);return this._resetContextStyleTimingState(n),FP(this,xP(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,r=e.queryCount=0,i=e.depCount=0,o=[],a=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,u=s.name;u.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,o.push(n.visitState(s,e))}),s.name=u}else if(1==t.type){var c=n.visitTransition(t,e);r+=c.queryCount,i+=c.depCount,a.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:a,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){var i=new Set,o=r||{};if(n.styles.forEach(function(t){if(GP(t)){var e=t;Object.keys(e).forEach(function(t){AP(e[t]).forEach(function(t){o.hasOwnProperty(t)||i.add(t)})})}}),i.size){var a=NP(i.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,r,i,o=FP(this,xP(t.animation),e);return{type:1,matchers:(n=t.expr,r=e.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}var i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=i[1],a=i[2],s=i[3];e.push(qP(o,s)),"<"!=a[0]||"*"==o&&"*"==s||e.push(qP(s,o))}(t,i,r)}):i.push(n),i),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:QP(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return FP(n,t,e)}),options:QP(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,r=e.currentTime,i=0,o=t.steps.map(function(t){e.currentTime=r;var o=FP(n,t,e);return i=Math.max(i,e.currentTime),o});return e.currentTime=i,{type:3,steps:o,options:QP(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,r=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return YP(kP(t,e).duration,0,"");var r=t;if(r.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var i=YP(0,0,"");return i.dynamic=!0,i.strValue=r,i}return YP((n=n||kP(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;var i=t.styles?t.styles:Wx({});if(5==i.type)n=this.visitKeyframes(i,e);else{var o=t.styles,a=!1;if(!o){a=!0;var s={};r.easing&&(s.easing=r.easing),o=Wx(s)}e.currentTime+=r.duration+r.delay;var u=this.visitStyle(o,e);u.isEmptyStep=a,n=u}return e.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var r=!1,i=null;return n.forEach(function(t){if(GP(t)){var e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(var o in e)if(e[o].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,r=e.currentAnimateTimings,i=e.currentTime,o=e.currentTime;r&&o>0&&(o-=r.duration+r.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(r){if(n._driver.validateStyleProperty(r)){var a,s,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[r],d=!0;f&&(o!=i&&o>=f.startTime&&i<=f.endTime&&(e.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(i,'ms"')),d=!1),o=f.startTime),d&&(h[r]={startTime:o,endTime:i}),e.options&&(a=t[r],s=e.options,u=e.errors,c=s.params||{},(l=AP(a)).length&&l.forEach(function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,o=[],a=!1,s=!1,u=0,c=t.steps.map(function(t){var r=n._makeStyleAst(t,e),c=null!=r.offset?r.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(GP(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(GP(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(r.styles),l=0;return null!=c&&(i++,l=r.offset=c),s=s||l<0||l>1,a=a||l<u,u=l,o.push(l),r});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;i>0&&i<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach(function(t,i){var a=h>0?i==f?1:h*i:o[i],s=a*v;e.currentTime=d+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=a,r.styles.push(t)}),r}},{key:"visitReference",value:function(t,e){return{type:8,animation:FP(this,xP(t.animation),e),options:QP(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:QP(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:QP(t.options)}}},{key:"visitQuery",value:function(t,n){var r=n.currentQuerySelector,i=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(zP,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),a=o[0],s=o[1];n.currentQuerySelector=r.length?r+" "+a:a,iP(n.collectedStyles,n.currentQuerySelector,{});var u=FP(this,xP(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:u,originalSelector:t.selector,options:QP(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:kP(t.timings,e.errors,!0);return{type:12,animation:FP(this,xP(t.animation),e),timings:n,options:null}}}]),t}(),KP=function t(e){f(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function GP(t){return!Array.isArray(t)&&"object"==typeof t}function QP(t){var e;return t?(t=CP(t)).params&&(t.params=(e=t.params)?CP(e):null):t={},t}function YP(t,e,n){return{duration:t,delay:e,easing:n}}function XP(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:a,subTimeline:s}}var ZP=function(){function t(){f(this,t),this._map=new Map}return p(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,i(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),JP=new RegExp(":enter","g"),$P=new RegExp(":leave","g");function tA(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new eA).buildKeyframes(t,e,n,r,i,o,a,s,u,c)}var eA=function(){function t(){f(this,t)}return p(t,[{key:"buildKeyframes",value:function(t,e,n,r,i,o,a,s,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new ZP;var l=new rA(t,e,u,r,i,c,[]);l.options=s,l.currentTimeline.setStyles([o],null,l.errors,s),FP(this,n,l);var h=l.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,l.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[XP(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var r=e.currentTimeline.currentTime,i=null!=n.duration?_P(n.duration):null,o=null!=n.delay?_P(n.delay):null;return 0!==i&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),FP(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,r=e.subContextCount,i=e,o=t.options;if(o&&(o.params||o.delay)&&((i=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=nA);var a=_P(o.delay);i.delayNextStep(a)}t.steps.length&&(t.steps.forEach(function(t){return FP(n,t,i)}),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,r=[],i=e.currentTimeline.currentTime,o=t.options&&t.options.delay?_P(t.options.delay):0;t.steps.forEach(function(a){var s=e.createSubContext(t.options);o&&s.delayNextStep(o),FP(n,a,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)}),r.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(i),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return kP(e.params?RP(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());var i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,r=e.currentTimeline.currentTime,i=t.options||{},o=i.delay?_P(i.delay):0;o&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nA);var a=r,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=s.length;var u=null;s.forEach(function(r,i){e.currentQueryIndex=i;var s=e.createSubContext(t.options,r);o&&s.delayNextStep(o),r===e.element&&(u=s.currentTimeline),FP(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(a),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),a=o*(e.currentQueryTotal-1),s=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=a-s;break;case"full":s=n.currentStaggerTime}var u=e.currentTimeline;s&&u.delayNextStep(s);var c=u.currentTime;FP(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),t}(),nA={},rA=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=a,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new iA(this._driver,n,0),s.push(this.currentTimeline)}return p(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var r=t,i=this.options;null!=r.duration&&(i.duration=_P(r.duration)),null!=r.delay&&(i.delay=_P(r.delay));var o=r.params;if(o){var a=i.params;a||(a=this.options.params={}),Object.keys(o).forEach(function(t){e&&a.hasOwnProperty(t)||(a[t]=RP(o[t],a,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,o=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=nA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new oA(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,o,a){var s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(JP,"."+this._enterClassName)).replace($P,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),s.push.apply(s,i(u))}return o||0!=s.length||a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),s}}]),t}(),iA=function(){function t(e,n,r,i){f(this,t),this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return p(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,r){var i=this;e&&(this._previousKeyframe.easing=e);var o=r&&r.params||{},a=function(t,e){var n,r={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){r[t]="*"}):OP(t,!1,r)}),r}(t,this._globalTimelineStyles);Object.keys(a).forEach(function(t){var e=RP(a[t],o,n);i._pendingStyles[t]=e,i._localTimelineStyles.hasOwnProperty(t)||(i._backFill[t]=i._globalTimelineStyles.hasOwnProperty(t)?i._globalTimelineStyles[t]:"*"),i._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var r=e._styleSummary[n],i=t._styleSummary[n];(!r||i.time>r.time)&&e._updateStyle(n,i.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach(function(o,a){var s=OP(o,!0);Object.keys(s).forEach(function(t){var r=s[t];"!"==r?e.add(t):"*"==r&&n.add(t)}),r||(s.offset=a/t.duration),i.push(s)});var o=e.size?NP(e.values()):[],a=n.size?NP(n.values()):[];if(r){var s=i[0],u=CP(s);s.offset=0,u.offset=1,i=[s,u]}return XP(this.element,i,o,a,this.duration,this.startTime,this.easing,!1)}}]),t}(),oA=function(t){v(n,t);var e=y(n);function n(t,r,i,o,a,s){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return f(this,n),(u=e.call(this,t,r,s.delay)).element=r,u.keyframes=i,u.preStyleProps=o,u.postStyleProps=a,u._stretchStartingKeyframe=c,u.timings={duration:s.duration,delay:s.delay,easing:s.easing},u}return p(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,r=e.duration,i=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],a=r+n,s=n/a,u=OP(t[0],!1);u.offset=0,o.push(u);var c=OP(t[0],!1);c.offset=aA(s),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=OP(t[h],!1);f.offset=aA((n+f.offset*r)/a),o.push(f)}r=a,n=0,i="",t=o}return XP(this.element,t,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(iA);function aA(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var sA=function t(){f(this,t)},uA=function(t){v(n,t);var e=y(n);function n(){return f(this,n),e.apply(this,arguments)}return p(n,[{key:"normalizePropertyName",value:function(t,e){return DP(t)}},{key:"normalizeStyleValue",value:function(t,e,n,r){var i="",o=n.toString().trim();if(cA[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+i}}]),n}(sA),cA=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function lA(t,e,n,r,i,o,a,s,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:a,timelines:s,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var hA={},fA=function(){function t(e,n,r){f(this,t),this._triggerName=e,this.ast=n,this._stateStyles=r}return p(t,[{key:"match",value:function(t,e,n,r){return function(t,e,n,r,i){return t.some(function(t){return t(e,n,r,i)})}(this.ast.matchers,t,e,n,r)}},{key:"buildStyles",value:function(t,e,n){var r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,r,i,o,a,s,u,c){var l=[],h=this.ast.options&&this.ast.options.params||hA,f=this.buildStyles(n,a&&a.params||hA,l),d=s&&s.params||hA,p=this.buildStyles(r,d,l),v=new Set,g=new Map,y=new Map,m="void"===r,b={params:Object.assign(Object.assign({},h),d)},_=c?[]:tA(t,e,this.ast.animation,i,o,f,p,b,u,l),w=0;if(_.forEach(function(t){w=Math.max(t.duration+t.delay,w)}),l.length)return lA(e,this._triggerName,n,r,m,f,p,[],[],g,y,w,l);_.forEach(function(t){var n=t.element,r=iP(g,n,{});t.preStyleProps.forEach(function(t){return r[t]=!0});var i=iP(y,n,{});t.postStyleProps.forEach(function(t){return i[t]=!0}),n!==e&&v.add(n)});var k=NP(v.values());return lA(e,this._triggerName,n,r,m,f,p,_,k,g,y,w)}}]),t}(),dA=function(){function t(e,n){f(this,t),this.styles=e,this.defaultParams=n}return p(t,[{key:"buildStyles",value:function(t,e){var n={},r=CP(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var i=t;Object.keys(i).forEach(function(t){var o=i[t];o.length>1&&(o=RP(o,r,e)),n[t]=o})}}),n}}]),t}(),pA=function(){function t(e,n){var r=this;f(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){r.states[t.name]=new dA(t.style,t.options&&t.options.params||{})}),vA(this.states,"true","1"),vA(this.states,"false","0"),n.transitions.forEach(function(t){r.transitionFactories.push(new fA(e,t,r.states))}),this.fallbackTransition=new fA(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return p(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,r){return this.transitionFactories.find(function(i){return i.match(t,e,n,r)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function vA(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var gA=new ZP,yA=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return p(t,[{key:"register",value:function(t,e){var n=[],r=HP(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=r}},{key:"_buildPlayer",value:function(t,e,n){var r=t.element,i=tP(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],a=this._animations[t],s=new Map;if(a?(n=tA(this._driver,e,a,"ng-enter","ng-leave",{},{},i,gA,o)).forEach(function(t){var e=iP(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=r._driver.computeStyle(e,n,"*")})});var u=$x(n.map(function(t){var e=s.get(t.element);return r._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return r.destroy(t)}),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,r){var i=rP(e,"","","");return eP(this._getPlayer(t),n,i,r),function(){}}},{key:"command",value:function(t,e,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,r[0]||{});else this.register(t,r[0])}}]),t}(),mA=[],bA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_A={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wA=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";f(this,t),this.namespaceId=n;var r,i=e&&e.hasOwnProperty("value");if(this.value=null!=(r=i?e.value:e)?r:null,i){var o=CP(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return p(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),kA=new wA("void"),CA=function(){function t(e,n,r){f(this,t),this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,PA(n,this._hostClassName)}return p(t,[{key:"listen",value:function(t,e,n,r){var i,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var a=iP(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};a.push(s);var u=iP(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(PA(t,"ng-trigger"),PA(t,"ng-trigger-"+e),u[e]=kA),function(){o._engine.afterFlush(function(){var t=a.indexOf(s);t>=0&&a.splice(t,1),o._triggers[e]||delete u[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),a=new EA(this.id,e,t),s=this._engine.statesByElement.get(t);s||(PA(t,"ng-trigger"),PA(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,s={}));var u=s[e],c=new wA(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),s[e]=c,u||(u=kA),"void"===c.value||u.value!==c.value){var l=iP(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==r.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!i)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:a,isFallbackTransition:f}),f||(PA(t,"ng-animate-queued"),a.onStart(function(){AA(t,"ng-animate-queued")})),a.onDone(function(){var e=r.players.indexOf(a);e>=0&&r.players.splice(e,1);var n=r._engine.playersByElement.get(t);if(n){var i=n.indexOf(a);i>=0&&n.splice(i,1)}}),this.players.push(a),l.push(a),a}if(!function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var o=n[i];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){IP(t,p),TP(t,v)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,r){e._elementListeners.set(r,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,r=this._engine.driver.query(t,".ng-trigger",!0);r.forEach(function(t){if(!t.__ng_removed){var r=n._engine.fetchNamespacesByElement(t);r.size?r.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return r.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,r){var i=this,o=this._engine.statesByElement.get(t);if(o){var a=[];if(Object.keys(o).forEach(function(e){if(i._triggers[e]){var n=i.trigger(t,e,"void",r);n&&a.push(n)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&$x(a).onDone(function(){return i._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(n&&r){var i=new Set;n.forEach(function(n){var o=n.name;if(!i.has(o)){i.add(o);var a=e._triggers[o].fallbackTransition,s=r[o]||kA,u=new wA("void"),c=new EA(e.id,o,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:o,transition:a,fromState:s,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var i=!1;if(r.totalAnimations){var o=r.players.length?r.playersByQueriedElement.get(t):[];if(o&&o.length)i=!0;else for(var a=t;a=a.parentNode;)if(r.statesByElement.get(a)){i=!0;break}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{var s=t.__ng_removed;s&&s!==bA||(r.afterFlush(function(){return n.clearElementCache(t)}),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){PA(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(r){var i=r.player;if(!i.destroyed){var o=r.element,a=e._elementListeners.get(o);a&&a.forEach(function(e){if(e.name==r.triggerName){var n=rP(o,r.triggerName,r.fromState.value,r.toState.value);n._data=t,eP(r.player,e.phase,n,e.callback)}}),i.markedForDestroy?e._engine.afterFlush(function(){i.destroy()}):n.push(r)}}),this._queue=[],n.sort(function(t,n){var r=t.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),OA=function(){function t(e,n,r){f(this,t),this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return p(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new CA(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var r=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(r);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return r.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var o=n[r[i]].namespaceId;if(o){var a=this._fetchNamespace(o);a&&e.add(a)}}return e}},{key:"trigger",value:function(t,e,n,r){if(SA(e)){var i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}},{key:"insertNode",value:function(t,e,n,r){if(SA(e)){var i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var a=this._fetchNamespace(t);a&&a.insertNode(e,n)}r&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),PA(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),AA(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,r){if(SA(e)){var i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,r)}}else this._onRemovalComplete(e,r)}},{key:"markElementAsRemoved",value:function(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,r,i){return SA(e)?this._fetchNamespace(t).listen(e,n,r,i):function(){}}},{key:"_buildInstruction",value:function(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return $x(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=bA,n.namespaceId){this.destroyInnerAnimations(t);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)PA(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,e)}finally{for(var o=0;o<i.length;o++)i[o]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?$x(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new ZP,o=[],a=new Map,s=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),r=0;r<e.length;r++)h.add(e[r])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=xA(d,this.collectedEnterElements),v=new Map,g=0;p.forEach(function(t,e){var n="ng-enter"+g++;v.set(e,n),t.forEach(function(t){return PA(t,n)})});for(var y=[],m=new Set,b=new Set,_=0;_<this.collectedLeaveElements.length;_++){var w=this.collectedLeaveElements[_],k=w.__ng_removed;k&&k.setForRemoval&&(y.push(w),m.add(w),k.hasAnimation?this.driver.query(w,".ng-star-inserted",!0).forEach(function(t){return m.add(t)}):b.add(w))}var C=new Map,O=xA(d,Array.from(m));O.forEach(function(t,e){var n="ng-leave"+g++;C.set(e,n),t.forEach(function(t){return PA(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=v.get(e);t.forEach(function(t){return AA(t,n)})}),O.forEach(function(t,e){var n=C.get(e);t.forEach(function(t){return AA(t,n)})}),y.forEach(function(t){n.processLeaveNode(t)})});for(var E=[],S=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(function(t){var e=t.player,i=t.element;if(E.push(e),n.collectedEnterElements.length){var a=i.__ng_removed;if(a&&a.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,i),d=C.get(i),p=v.get(i),g=n._buildInstruction(t,r,p,d,h);if(g.errors&&g.errors.length)S.push(g);else{if(h)return e.onStart(function(){return IP(i,g.fromStyles)}),e.onDestroy(function(){return TP(i,g.toStyles)}),void o.push(e);if(t.isFallbackTransition)return e.onStart(function(){return IP(i,g.fromStyles)}),e.onDestroy(function(){return TP(i,g.toStyles)}),void o.push(e);g.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(i,g.timelines),s.push({instruction:g,player:e,element:i}),g.queriedElements.forEach(function(t){return iP(u,t,[]).push(e)}),g.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var r=c.get(e);r||c.set(e,r=new Set),n.forEach(function(t){return r.add(t)})}}),g.postStyleProps.forEach(function(t,e){var n=Object.keys(t),r=l.get(e);r||l.set(e,r=new Set),n.forEach(function(t){return r.add(t)})})}});if(S.length){var I=[];S.forEach(function(t){I.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return I.push("- ".concat(t,"\n"))})}),E.forEach(function(t){return t.destroy()}),this.reportError(I)}var x=new Map,P=new Map;s.forEach(function(t){var e=t.element;r.has(e)&&(P.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),o.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){iP(x,e,[]).push(t),t.destroy()})});var A=y.filter(function(t){return jA(t,c,l)}),R=new Map;IA(R,this.driver,b,l,"*").forEach(function(t){jA(t,c,l)&&A.push(t)});var N=new Map;p.forEach(function(t,e){IA(N,n.driver,new Set(t),c,"!")}),A.forEach(function(t){var e=R.get(t),n=N.get(t);R.set(t,Object.assign(Object.assign({},e),n))});var j=[],D=[],M={};s.forEach(function(t){var e=t.element,i=t.player,s=t.instruction;if(r.has(e)){if(h.has(e))return i.onDestroy(function(){return TP(e,s.toStyles)}),i.disabled=!0,i.overrideTotalTime(s.totalTime),void o.push(i);var u=M;if(P.size>1){for(var c=e,l=[];c=c.parentNode;){var f=P.get(c);if(f){u=f;break}l.push(c)}l.forEach(function(t){return P.set(t,u)})}var d=n._buildAnimation(i.namespaceId,s,x,a,N,R);if(i.setRealPlayer(d),u===M)j.push(i);else{var p=n.playersByElement.get(u);p&&p.length&&(i.parentPlayer=$x(p)),o.push(i)}}else IP(e,s.fromStyles),i.onDestroy(function(){return TP(e,s.toStyles)}),D.push(i),h.has(e)&&o.push(i)}),D.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=$x(e);t.setRealPlayer(n)}}),o.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var L=0;L<y.length;L++){var F=y[L],V=F.__ng_removed;if(AA(F,"ng-leave"),!V||!V.hasAnimation){var U=[];if(u.size){var B=u.get(F);B&&B.length&&U.push.apply(U,i(B));for(var q=this.driver.query(F,".ng-animating",!0),z=0;z<q.length;z++){var H=u.get(q[z]);H&&H.length&&U.push.apply(U,i(H))}}var W=U.filter(function(t){return!t.destroyed});W.length?RA(this,F,W):this.processLeaveNode(F)}}return y.length=0,j.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),j}},{key:"elementContainsData",value:function(t,e){var n=!1,r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,r,i){var o=[];if(e){var a=this.playersByQueriedElement.get(t);a&&(o=a)}else{var s=this.playersByElement.get(t);if(s){var u=!i||"void"==i;s.forEach(function(t){t.queued||(u||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||r&&r!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,n){var r,i=this,o=e.element,s=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=a(e.timelines);try{var l=function(){var t=r.value.element,a=t!==o,c=iP(n,t,[]);i._getPreviousPlayers(t,a,s,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})};for(c.s();!(r=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}IP(o,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,r,i,o){var a=this,s=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Xx(e.duration,e.delay);var p,v,g=f!==u,y=(p=(n.get(f)||mA).map(function(t){return t.getRealPlayer()}),v=[],NA(p,v),v).filter(function(t){return!!t.element&&t.element===f}),m=i.get(f),b=o.get(f),_=tP(0,a._normalizer,0,e.keyframes,m,b),w=a._buildPlayer(e,_,y);if(e.subTimeline&&r&&h.add(f),g){var k=new EA(t,s,f);k.setRealPlayer(w),c.push(k)}return w});c.forEach(function(t){iP(a.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var r;if(t instanceof Map){if(r=t.get(e)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){var o=r.indexOf(n);r.splice(o,1)}0==r.length&&delete t[e]}return r}(a.playersByQueriedElement,t.element,t)})}),l.forEach(function(t){return PA(t,"ng-animating")});var d=$x(f);return d.onDestroy(function(){l.forEach(function(t){return AA(t,"ng-animating")}),TP(u,e.toStyles)}),h.forEach(function(t){iP(r,t,[]).push(d)}),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Xx(t.duration,t.delay)}}]),t}(),EA=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Xx,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return p(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return eP(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){iP(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function SA(t){return t&&1===t.nodeType}function TA(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function IA(t,e,n,r,i){var o=[];n.forEach(function(t){return o.push(TA(t))});var a=[];r.forEach(function(n,r){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=_A,a.push(r))}),t.set(r,o)});var s=0;return n.forEach(function(t){return TA(t,o[s++])}),a}function xA(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var r=new Set(e),i=new Map;function o(t){if(!t)return 1;var e=i.get(t);if(e)return e;var a=t.parentNode;return e=n.has(a)?a:r.has(a)?1:o(a),i.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function PA(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function AA(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function RA(t,e,n){$x(n).onDone(function(){return t.processLeaveNode(e)})}function NA(t,e){for(var n=0;n<t.length;n++){var r=t[n];r instanceof Zx?NA(r.players,e):e.push(r)}}function jA(t,e,n){var r=n.get(t);if(!r)return!1;var i=e.get(t);return i?r.forEach(function(t){return i.add(t)}):e.set(t,r),n.delete(t),!0}var DA=function(){function t(e,n,r){var i=this;f(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new OA(e,n,r),this._timelineEngine=new yA(e,n,r),this._transitionEngine.onRemovalComplete=function(t,e){return i.onRemovalComplete(t,e)}}return p(t,[{key:"registerTrigger",value:function(t,e,n,r,i){var o=t+"-"+r,a=this._triggerCache[o];if(!a){var s=[],u=HP(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));a=function(t,e){return new pA(t,e)}(r,u),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}},{key:"onRemove",value:function(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,n,r,i){if("@"==r.charAt(0)){var o=e(oP(r),2),a=o[0],s=o[1];this._timelineEngine.command(a,n,s,i)}else this._transitionEngine.trigger(t,n,r,i)}},{key:"listen",value:function(t,n,r,i,o){if("@"==r.charAt(0)){var a=e(oP(r),2),s=a[0],u=a[1];return this._timelineEngine.listen(s,n,u,o)}return this._transitionEngine.listen(t,n,r,i,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function MA(t,e){var n=null,r=null;return Array.isArray(e)&&e.length?(n=FA(e[0]),e.length>1&&(r=FA(e[e.length-1]))):e&&(n=FA(e)),n||r?new LA(t,n,r):null}var LA=function(){var t=function(){function t(e,n,r){f(this,t),this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;var i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}return p(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&TP(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(TP(this._element,this._initialStyles),this._endStyles&&(TP(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(IP(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(IP(this._element,this._endStyles),this._endStyles=null),TP(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function FA(t){for(var e=null,n=Object.keys(t),r=0;r<n.length;r++){var i=n[r];VA(i)&&((e=e||{})[i]=t[i])}return e}function VA(t){return"display"===t||"position"===t}var UA=function(){function t(e,n,r,i,o,a,s){var u=this;f(this,t),this._element=e,this._name=n,this._duration=r,this._delay=i,this._easing=o,this._fillMode=a,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return p(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=KA(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),WA(t,"",e),HA(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){BA(this._element,this._name,"paused")}},{key:"resume",value:function(){BA(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=qA(this._element,this._name);this._position=t*this._duration,WA(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),HA(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,r;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=KA(t,"").split(","),(r=zA(n,e))>=0&&(n.splice(r,1),WA(t,"",n.join(","))))}}]),t}();function BA(t,e,n){WA(t,"PlayState",n,qA(t,e))}function qA(t,e){var n=KA(t,"");return n.indexOf(",")>0?zA(n.split(","),e):zA([n],e)}function zA(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function HA(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function WA(t,e,n,r){var i="animation"+e;if(null!=r){var o=t.style[i];if(o.length){var a=o.split(",");a[r]=n,n=a.join(",")}}t.style[i]=n}function KA(t,e){return t.style["animation"+e]||""}var GA=function(){function t(e,n,r,i,o,a,s,u){f(this,t),this.element=e,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=o,this._finalStyles=s,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=i+o,this._buildStyler()}return p(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new UA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(r){"offset"!=r&&(e[r]=n?t._finalStyles[r]:VP(t.element,r))})}this.currentSnapshot=e}}]),t}(),QA=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this)).element=t,i._startingStyles={},i.__initialized=!1,i._styles=gP(r),i}return p(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),h(w(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),h(w(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,h(w(n.prototype),"destroy",this).call(this))}}]),n}(Xx),YA=function(){function t(){f(this,t),this._count=0,this._head=document.querySelector("head")}return p(t,[{key:"validateStyleProperty",value:function(t){return fP(t)}},{key:"matchesElement",value:function(t,e){return dP(t,e)}},{key:"containsElement",value:function(t,e){return pP(t,e)}},{key:"query",value:function(t,e,n){return vP(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return gP(t)});var r="@keyframes ".concat(e," {\n"),i="";n.forEach(function(t){i=" ";var e=parseFloat(t.offset);r+="".concat(i).concat(100*e,"% {\n"),i+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(e,": ").concat(n,";\n"))}}),r+="".concat(i,"}\n")}),r+="}\n";var o=document.createElement("style");return o.textContent=r,o}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=o.filter(function(t){return t instanceof GA}),s={};MP(n,r)&&a.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=LP(t,e,s));if(0==n)return new QA(t,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(l);var h=MA(t,e),f=new GA(t,e,c,n,r,i,u,h);return f.onDestroy(function(){var t;(t=l).parentNode.removeChild(t)}),f}}]),t}(),XA=function(){function t(e,n,r,i){f(this,t),this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return p(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:VP(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),ZA=function(){function t(){f(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(JA().toString()),this._cssKeyframesDriver=new YA}return p(t,[{key:"validateStyleProperty",value:function(t){return fP(t)}},{key:"matchesElement",value:function(t,e){return dP(t,e)}},{key:"containsElement",value:function(t,e){return pP(t,e)}},{key:"query",value:function(t,e,n){return vP(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var u={},c=o.filter(function(t){return t instanceof XA});MP(n,r)&&c.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=MA(t,e=LP(t,e=e.map(function(t){return OP(t,!1)}),u));return new XA(t,e,s,l)}}]),t}();function JA(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var $A,tR=(($A=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._nextAnimationId=0,i._renderer=t.createRenderer(r.body,{id:"0",encapsulation:s.S.None,styles:[],data:{animation:[]}}),i}return p(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Hx(t):t;return rR(this._renderer,null,e,"register",[n]),new eR(e,this._renderer)}}]),n}(Bx)).\u0275fac=function(t){return new(t||$A)(s.Wb(s.G),s.Wb(d))},$A.\u0275prov=s.Jb({token:$A,factory:$A.\u0275fac}),$A),eR=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this))._id=t,i._renderer=r,i}return p(n,[{key:"create",value:function(t,e){return new nR(this._id,t,e||{},this._renderer)}}]),n}(function(){return function t(){f(this,t)}}()),nR=function(){function t(e,n,r,i){f(this,t),this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return p(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return rR(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function rR(t,e,n,r,i){return t.setProperty(e,"@@".concat(n,":").concat(r),i)}var iR,oR,aR,sR,uR=((iR=function(){function t(e,n,r){f(this,t),this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return p(t,[{key:"createRenderer",value:function(t,e){var n=this,r=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var i=this._rendererCache.get(r);return i||(i=new cR("",r,this.engine),this._rendererCache.set(r,i)),i}var o=e.id,a=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,t),e.data.animation.forEach(function e(r){Array.isArray(r)?r.forEach(e):n.engine.registerTrigger(o,a,t,r.name,r)}),new lR(this,a,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,n,r){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return n(r)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var n=e(t,2);(0,n[0])(n[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,r]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||iR)(s.Wb(s.G),s.Wb(DA),s.Wb(s.A))},iR.\u0275prov=s.Jb({token:iR,factory:iR.\u0275fac}),iR),cR=function(){function t(e,n,r){f(this,t),this.namespaceId=e,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return p(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,r){this.delegate.setStyle(t,e,n,r)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),lR=function(t){v(r,t);var n=y(r);function r(t,e,i,o){var a;return f(this,r),(a=n.call(this,e,i,o)).factory=t,a.namespaceId=e,a}return p(r,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,n,r){var i,o,a=this;if("@"==n.charAt(0)){var s,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=n.substr(1),l="";return"@"!=c.charAt(0)&&(o=(i=c).indexOf("."),c=(s=e([i.substring(0,o),i.substr(o+1)],2))[0],l=s[1]),this.engine.listen(this.namespaceId,u,c,l,function(t){a.factory.scheduleListenerCallback(t._data||-1,r,t)})}return this.delegate.listen(t,n,r)}}]),r}(cR),hR=((oR=function(t){v(n,t);var e=y(n);function n(t,r,i){return f(this,n),e.call(this,t.body,r,i)}return n}(DA)).\u0275fac=function(t){return new(t||oR)(s.Wb(d),s.Wb(bP),s.Wb(sA))},oR.\u0275prov=s.Jb({token:oR,factory:oR.\u0275fac}),oR),fR=new s.r("AnimationModuleType"),dR=[{provide:bP,useFactory:function(){return"function"==typeof JA()?new ZA:new YA}},{provide:fR,useValue:"BrowserAnimations"},{provide:Bx,useClass:tR},{provide:sA,useFactory:function(){return new uA}},{provide:DA,useClass:hR},{provide:s.G,useFactory:function(t,e,n){return new uR(t,e,n)},deps:[Pe,DA,s.A]}],pR=((aR=function t(){f(this,t)}).\u0275mod=s.Lb({type:aR}),aR.\u0275inj=s.Kb({factory:function(t){return new(t||aR)},providers:dR,imports:[We]}),aR),vR=new s.Q("9.2.4"),gR=new s.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),yR=((sR=function(){function t(e,n,r){f(this,t),this._hasDoneGlobalChecks=!1,this._document=r,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return p(t,[{key:"_getDocument",value:function(){var t=this._document||document;return"object"==typeof t&&t?t:null}},{key:"_getWindow",value:function(){var t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}},{key:"_checksAreEnabled",value:function(){return Object(s.X)()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){var t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){var t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(!t&&e&&e.body&&"function"==typeof getComputedStyle){var n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);var r=getComputedStyle(n);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&vR.full!==Ux.full&&console.warn("The Angular Material version ("+vR.full+") does not match the Angular CDK version ("+Ux.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275mod=s.Lb({type:sR}),sR.\u0275inj=s.Kb({factory:function(t){return new(t||sR)(s.Wb(Fx),s.Wb(gR,8),s.Wb(d,8))},imports:[[vI],vI]}),sR);function mR(t,e){return function(t){v(r,t);var n=y(r);function r(){var t;f(this,r);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(t=n.call.apply(n,[this].concat(o))).color=e,t}return p(r,[{key:"color",get:function(){return this._color},set:function(t){var n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),n&&this._elementRef.nativeElement.classList.add("mat-".concat(n)),this._color=n)}}]),r}(t)}try{"undefined"!=typeof Intl}catch(zM){!1}var bR,_R,wR,kR,CR,OR,ER=function(){function t(e,n,r){f(this,t),this._renderer=e,this.element=n,this.config=r,this.state=3}return p(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),SR={enterDuration:450,exitDuration:400},TR=aI({passive:!0}),IR=["mousedown","touchstart"],xR=["mouseup","mouseleave","touchend","touchcancel"],PR=function(){function t(e,n,r,i){f(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=UT(r))}return p(t,[{key:"fadeInRipple",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},SR),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);var a=r.radius||function(t,e,n){var r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),s=t-i.left,u=e-i.top,c=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=s-a+"px",l.style.top=u-a+"px",l.style.height=2*a+"px",l.style.width=2*a+"px",null!=r.color&&(l.style.backgroundColor=r.color),l.style.transitionDuration="".concat(c,"ms"),this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new ER(this,l,r);return h.state=0,this._activeRipples.add(h),r.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var t=h===n._mostRecentTransientRipple;h.state=1,r.persistent||t&&n._isPointerDown||h.fadeOut()},c),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,r=Object.assign(Object.assign({},SR),t.config.animation);n.style.transitionDuration="".concat(r.exitDuration,"ms"),n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(function(){t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(t){return t.fadeOut()})}},{key:"setupTriggerEvents",value:function(t){var e=UT(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(IR))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(xR),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=Px(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){t.forEach(function(t){e._triggerElement.addEventListener(t,e,TR)})})}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(IR.forEach(function(e){t._triggerElement.removeEventListener(e,t,TR)}),this._pointerUpEventsRegistered&&xR.forEach(function(e){t._triggerElement.removeEventListener(e,t,TR)}))}}]),t}(),AR=new s.r("mat-ripple-global-options"),RR=((_R=function(){function t(e,n,r,i,o){f(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new PR(this,n,e,r)}return p(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}]),t}()).\u0275fac=function(t){return new(t||_R)(s.Nb(s.l),s.Nb(s.A),s.Nb(iI),s.Nb(AR,8),s.Nb(fR,8))},_R.\u0275dir=s.Ib({type:_R,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&s.Fb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),_R),NR=((bR=function t(){f(this,t)}).\u0275mod=s.Lb({type:bR}),bR.\u0275inj=s.Kb({factory:function(t){return new(t||bR)},imports:[[yR,oI],yR]}),bR),jR=["mat-button",""],DR=["*"],MR=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],LR=mR(function(t){return function(t){v(n,t);var e=y(n);function n(){var t;f(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disabled=!1,t}return p(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=LT(t)}}]),n}(t)}(function(t){v(n,t);var e=y(n);function n(){var t;f(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i)))._disableRipple=!1,t}return p(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=LT(t)}}]),n}(function t(e){f(this,t),this._elementRef=e}))),FR=((kR=function(t){v(n,t);var e=y(n);function n(t,r,i){var o;f(this,n),(o=e.call(this,t))._focusMonitor=r,o._animationMode=i,o.isRoundButton=o._hasHostAttributes("mat-fab","mat-mini-fab"),o.isIconButton=o._hasHostAttributes("mat-icon-button");var s,u=a(MR);try{for(u.s();!(s=u.n()).done;){var c=s.value;o._hasHostAttributes(c)&&o._getHostElement().classList.add(c)}}catch(l){u.e(l)}finally{u.f()}return t.nativeElement.classList.add("mat-button-base"),o._focusMonitor.monitor(o._elementRef,!0),o.isRoundButton&&(o.color="accent"),o}return p(n,[{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"program",e=arguments.length>1?arguments[1]:void 0;this._focusMonitor.focusVia(this._getHostElement(),t,e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.some(function(e){return t._getHostElement().hasAttribute(e)})}}]),n}(LR)).\u0275fac=function(t){return new(t||kR)(s.Nb(s.l),s.Nb(jx),s.Nb(fR,8))},kR.\u0275cmp=s.Hb({type:kR,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&s.Ec(RR,1),2&t&&s.nc(n=s.ac())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:3,hostBindings:function(t,e){2&t&&(s.Db("disabled",e.disabled||null),s.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.zb],attrs:jR,ngContentSelectors:DR,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(s.hc(),s.Sb(0,"span",0),s.gc(1),s.Rb(),s.Ob(2,"div",1),s.Ob(3,"div",2)),2&t&&(s.Cb(2),s.Fb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),s.ic("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[RR],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled],.mat-flat-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),kR),VR=((wR=function t(){f(this,t)}).\u0275mod=s.Lb({type:wR}),wR.\u0275inj=s.Kb({factory:function(t){return new(t||wR)},imports:[[NR,yR],yR]}),wR),UR=function(){function t(e){f(this,t),this.total=e}return p(t,[{key:"call",value:function(t,e){return e.subscribe(new BR(t,this.total))}}]),t}(),BR=function(t){v(n,t);var e=y(n);function n(t,r){var i;return f(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return p(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(bn.a),qR=new Set,zR=((OR=function(){function t(e){f(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):HR}return p(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!qR.has(t))try{CR||((CR=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(CR)),CR.sheet&&(CR.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),qR.add(t))}catch(kk){console.error(kk)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||OR)(s.Wb(iI))},OR.\u0275prov=Object(s.Jb)({factory:function(){return new OR(Object(s.Wb)(iI))},token:OR,providedIn:"root"}),OR);function HR(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var WR,KR=((WR=function(){function t(e,n){f(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new Qe.a}return p(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return GR(FT(t)).some(function(t){return e._registerQuery(t).mql.matches})}},{key:"observe",value:function(t){var e=this,n=rn(GR(FT(t)).map(function(t){return e._registerQuery(t).observable}));return(n=ln(n.pipe(wn(1)),n.pipe(function(t){return t.lift(new UR(1))},fx(0)))).pipe(Object(pn.a)(function(t){var e={matches:!1,breakpoints:{}};return t.forEach(function(t){e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),r={observable:new sn.a(function(t){var r=function(n){return e._zone.run(function(){return t.next(n)})};return n.addListener(r),function(){n.removeListener(r)}}).pipe(On(n),Object(pn.a)(function(e){return{query:t,matches:e.matches}}),XT(this._destroySubject)),mql:n};return this._queries.set(t,r),r}}]),t}()).\u0275fac=function(t){return new(t||WR)(s.Wb(zR),s.Wb(s.A))},WR.\u0275prov=Object(s.Jb)({factory:function(){return new WR(Object(s.Wb)(zR),Object(s.Wb)(s.A))},token:WR,providedIn:"root"}),WR);function GR(t){return t.map(function(t){return t.split(",")}).reduce(function(t,e){return t.concat(e)}).map(function(t){return t.trim()})}function QR(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",1),s.Sb(1,"button",2),s.Zb("click",function(){return s.rc(n),s.cc().action()}),s.Bc(2),s.Rb(),s.Rb()}if(2&t){var r=s.cc();s.Cb(2),s.Cc(r.data.action)}}function YR(t,e){}var XR,ZR,JR,$R,tN,eN,nN,rN,iN=Math.pow(2,31)-1,oN=function(){function t(e,n){var r=this;f(this,t),this._overlayRef=n,this._afterDismissed=new Qe.a,this._afterOpened=new Qe.a,this._onAction=new Qe.a,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(function(){return r.dismiss()}),e._onExit.subscribe(function(){return r._finishDismiss()})}return p(t,[{key:"dismiss",value:function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}},{key:"dismissWithAction",value:function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}},{key:"closeWithAction",value:function(){this.dismissWithAction()}},{key:"_dismissAfter",value:function(t){var e=this;this._durationTimeoutId=setTimeout(function(){return e.dismiss()},Math.min(t,iN))}},{key:"_open",value:function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}},{key:"_finishDismiss",value:function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}},{key:"afterDismissed",value:function(){return this._afterDismissed.asObservable()}},{key:"afterOpened",value:function(){return this.containerInstance._onEnter}},{key:"onAction",value:function(){return this._onAction.asObservable()}}]),t}(),aN=new s.r("MatSnackBarData"),sN=function t(){f(this,t),this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"},uN=((XR=function(){function t(e,n){f(this,t),this.snackBarRef=e,this.data=n}return p(t,[{key:"action",value:function(){this.snackBarRef.dismissWithAction()}},{key:"hasAction",get:function(){return!!this.data.action}}]),t}()).\u0275fac=function(t){return new(t||XR)(s.Nb(oN),s.Nb(aN))},XR.\u0275cmp=s.Hb({type:XR,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(s.Sb(0,"span"),s.Bc(1),s.Rb(),s.zc(2,QR,3,1,"div",0)),2&t&&(s.Cb(1),s.Cc(e.data.message),s.Cb(1),s.ic("ngIf",e.hasAction))},directives:[At,FR],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),XR),cN={snackBarState:qx("state",[Kx("void, hidden",Wx({transform:"scale(0.8)",opacity:0})),Kx("visible",Wx({transform:"scale(1)",opacity:1})),Qx("* => visible",zx("150ms cubic-bezier(0, 0, 0.2, 1)")),Qx("* => void, * => hidden",zx("75ms cubic-bezier(0.4, 0.0, 1, 1)",Wx({opacity:0})))])},lN=((JR=function(t){v(n,t);var e=y(n);function n(t,r,i,o){var a;return f(this,n),(a=e.call(this))._ngZone=t,a._elementRef=r,a._changeDetectorRef=i,a.snackBarConfig=o,a._destroyed=!1,a._onExit=new Qe.a,a._onEnter=new Qe.a,a._animationState="void",a.attachDomPortal=function(t){return a._assertNotAttached(),a._applySnackBarClasses(),a._portalOutlet.attachDomPortal(t)},a._role="assertive"!==o.politeness||o.announcementMessage?"off"===o.politeness?null:"status":"alert",a}return p(n,[{key:"attachComponentPortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}},{key:"onAnimationEnd",value:function(t){var e=t.fromState,n=t.toState;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){var r=this._onEnter;this._ngZone.run(function(){r.next(),r.complete()})}}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}},{key:"exit",value:function(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),this._onExit}},{key:"ngOnDestroy",value:function(){this._destroyed=!0,this._completeExit()}},{key:"_completeExit",value:function(){var t=this;this._ngZone.onMicrotaskEmpty.asObservable().pipe(wn(1)).subscribe(function(){t._onExit.next(),t._onExit.complete()})}},{key:"_applySnackBarClasses",value:function(){var t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(function(e){return t.classList.add(e)}):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}},{key:"_assertNotAttached",value:function(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}]),n}(TI)).\u0275fac=function(t){return new(t||JR)(s.Nb(s.A),s.Nb(s.l),s.Nb(s.h),s.Nb(sN))},JR.\u0275cmp=s.Hb({type:JR,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&s.Ec(xI,3),2&t&&s.nc(n=s.ac())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:2,hostBindings:function(t,e){1&t&&s.xc("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&(s.Db("role",e._role),s.yc("@state",e._animationState))},features:[s.zb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&s.zc(0,YR,0,0,"ng-template",0)},directives:[xI],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[cN.snackBarState]}}),JR),hN=((ZR=function t(){f(this,t)}).\u0275mod=s.Lb({type:ZR}),ZR.\u0275inj=s.Kb({factory:function(t){return new(t||ZR)},imports:[[hx,PI,te,VR,yR],yR]}),ZR),fN=new s.r("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new sN}}),dN=((tN=function(){function t(e,n,r,i,o,a){f(this,t),this._overlay=e,this._live=n,this._injector=r,this._breakpointObserver=i,this._parentSnackBar=o,this._defaultConfig=a,this._snackBarRefAtThisLevel=null}return p(t,[{key:"_openedSnackBarRef",get:function(){var t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}},{key:"openFromComponent",value:function(t,e){return this._attach(t,e)}},{key:"openFromTemplate",value:function(t,e){return this._attach(t,e)}},{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage||(r.announcementMessage=t),this.openFromComponent(uN,r)}},{key:"dismiss",value:function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}},{key:"ngOnDestroy",value:function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}},{key:"_attachSnackBarContainer",value:function(t,e){var n=new AI(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[sN,e]])),r=new OI(lN,e.viewContainerRef,n),i=t.attach(r);return i.instance.snackBarConfig=e,i.instance}},{key:"_attach",value:function(t,e){var n=Object.assign(Object.assign(Object.assign({},new sN),this._defaultConfig),e),r=this._createOverlay(n),i=this._attachSnackBarContainer(r,n),o=new oN(i,r);if(t instanceof s.M){var a=new EI(t,null,{$implicit:n.data,snackBarRef:o});o.instance=i.attachTemplatePortal(a)}else{var u=this._createInjector(n,o),c=new OI(t,void 0,u),l=i.attachComponentPortal(c);o.instance=l.instance}return this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait)").pipe(XT(r.detachments())).subscribe(function(t){var e=r.overlayElement.classList;t.matches?e.add("mat-snack-bar-handset"):e.remove("mat-snack-bar-handset")}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}},{key:"_animateSnackBar",value:function(t,e){var n=this;t.afterDismissed().subscribe(function(){n._openedSnackBarRef==t&&(n._openedSnackBarRef=null),e.announcementMessage&&n._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(function(){t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(function(){return t._dismissAfter(e.duration)}),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}},{key:"_createOverlay",value:function(t){var e=new BI;e.direction=t.direction;var n=this._overlay.position().global(),r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}},{key:"_createInjector",value:function(t,e){return new AI(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[oN,e],[aN,t.data]]))}}]),t}()).\u0275fac=function(t){return new(t||tN)(s.Wb(cx),s.Wb(xx),s.Wb(s.s),s.Wb(KR),s.Wb(tN,12),s.Wb(fN))},tN.\u0275prov=Object(s.Jb)({factory:function(){return new tN(Object(s.Wb)(cx),Object(s.Wb)(xx),Object(s.Wb)(s.o),Object(s.Wb)(KR),Object(s.Wb)(tN,12),Object(s.Wb)(fN))},token:tN,providedIn:hN}),tN),pN=(($R=function t(e,n){var r=this;f(this,t),this.injector=e,this.snackbar=n,this.openSnackbar=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;r.snackbar.open(t,"Close",{duration:e})},this.createTags=function(t,e){return Xo(r,void 0,void 0,regeneratorRuntime.mark(function n(){var r,o,s,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==t.length){n.next=2;break}return n.abrupt("return",null);case 2:r=[],o=a(t),n.prev=4,o.s();case 6:if((s=o.n()).done){n.next=25;break}return u=s.value,n.next=10,e.getTagByName(u);case 10:if(c=n.sent,n.t0=[],n.t1=i(r),!c.uid){n.next=17;break}n.t2=c.ref,n.next=20;break;case 17:return n.next=19,e.saveTag(u);case 19:n.t2=n.sent;case 20:n.t3=n.t2,n.t4=[n.t3],r=n.t0.concat.call(n.t0,n.t1,n.t4);case 23:n.next=6;break;case 25:n.next=30;break;case 27:n.prev=27,n.t5=n.catch(4),o.e(n.t5);case 30:return n.prev=30,o.f(),n.finish(30);case 33:return n.abrupt("return",r);case 34:case"end":return n.stop()}},n,null,[[4,27,30,33]])}))},this.getDarkColor=function(){for(var t="#",e=0;e<6;e++)t+=Math.floor(10*Math.random());return t}}).\u0275fac=function(t){return new(t||$R)(s.Wb(s.s),s.Wb(dN))},$R.\u0275prov=s.Jb({token:$R,factory:$R.\u0275fac,providedIn:"root"}),$R),vN=$s.a.auth,gN=((eN=function(){function t(e,n,r,i){var o=this;f(this,t),this.fireStore=e,this.fireAuth=n,this.router=r,this.common=i,this.googleSignIn=function(){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new vN.GoogleAuthProvider,t.abrupt("return",this.signIn(e));case 2:case"end":return t.stop()}},t,this)}))},this.facebookSignIn=function(){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new vN.FacebookAuthProvider,t.abrupt("return",this.signIn(e));case 2:case"end":return t.stop()}},t,this)}))},this.emailSignIn=function(t,e){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function n(){var r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.fireAuth.signInWithEmailAndPassword(t,e).then(function(t){return r.updateUserData(t.user)});case 1:case"end":return n.stop()}},n,this)}))},this.getUserByUid=function(t){return o.fireStore.doc("users/".concat(t)).valueChanges()},this.emailSignUp=function(t,e){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function n(){var r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.fireAuth.createUserWithEmailAndPassword(t,e).then(function(t){return r.updateUserData(t.user,t.user.email).then(function(){return r.router.navigate(["home"])}).then()}));case 1:case"end":return n.stop()}},n,this)}))},this.signIn=function(t){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.fireAuth.signInWithPopup(t).then(function(t){return n.updateUserData(t.user).then(function(){return n.router.navigate(["home"])}).catch(function(t){return n.common.openSnackbar(t.message),t})}).catch(function(t){return n.common.openSnackbar(t.message)}));case 1:case"end":return e.stop()}},e,this)}))},this.signOut=function(){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fireAuth.signOut();case 2:return t.abrupt("return",this.router.navigate(["login"]));case 3:case"end":return t.stop()}},t,this)}))},this.user$=n.authState.pipe(gn(function(t){return t?(o.user=t,o.userRef=o.fireStore.doc("users/".concat(t.uid)).ref,o.router.navigate(["home"]).then(),o.fireStore.doc("users/".concat(t.uid)).valueChanges()):Object(Ge.a)(null)})),this.user$.subscribe()}return p(t,[{key:"updateUserData",value:function(t,e){return this.fireStore.doc("users/".concat(t.uid)).set({uid:t.uid,email:t.email,displayName:e||t.displayName,photoURL:t.photoURL},{merge:!0})}}]),t}()).\u0275fac=function(t){return new(t||eN)(s.Wb(MT),s.Wb(_T),s.Wb(Io),s.Wb(pN))},eN.\u0275prov=s.Jb({token:eN,factory:eN.\u0275fac,providedIn:"root"}),eN),yN=["flipContainer"],mN=[[["","front",""]],[["","back",""]]],bN=["[front]","[back]"],_N=((rN=function(){function t(e){f(this,t),this.renderer=e}return p(t,[{key:"ngOnInit",value:function(){this.rotate()}},{key:"ngOnChanges",value:function(t){void 0!==this.flipContainer&&this.rotate()}},{key:"rotate",value:function(){this.flip?this.renderer.addClass(this.flipContainer.nativeElement,"rotate"):this.renderer.removeClass(this.flipContainer.nativeElement,"rotate")}}]),t}()).\u0275fac=function(t){return new(t||rN)(s.Nb(s.F))},rN.\u0275cmp=s.Hb({type:rN,selectors:[["ngx-flip"]],viewQuery:function(t,e){var n;1&t&&s.Ec(yN,3),2&t&&s.nc(n=s.ac())&&(e.flipContainer=n.first)},inputs:{flip:"flip"},features:[s.Ab],ngContentSelectors:bN,decls:6,vars:0,consts:[[1,"flipper"],["flipContainer",""],[1,"front"],[1,"back"]],template:function(t,e){1&t&&(s.hc(mN),s.Sb(0,"div",0,1),s.Sb(2,"div",2),s.gc(3),s.Rb(),s.Sb(4,"div",3),s.gc(5,1),s.Rb(),s.Rb())},styles:["[_nghost-%COMP%]{-webkit-perspective:1000px;perspective:1000px;display:block}[_nghost-%COMP%]   .flipper[_ngcontent-%COMP%]{-webkit-transition:.6s;transition:.6s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;height:100%;width:100%;position:relative}[_nghost-%COMP%]   .back[_ngcontent-%COMP%], [_nghost-%COMP%]   .front[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;left:0;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transition:z-index .3s ease-in-out;transition:z-index .3s ease-in-out}[_nghost-%COMP%]   .front[_ngcontent-%COMP%]{z-index:2;-webkit-transform:rotateY(0);transform:rotateY(0)}[_nghost-%COMP%]   .back[_ngcontent-%COMP%]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[_nghost-%COMP%]   .rotate[_ngcontent-%COMP%]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}[_nghost-%COMP%]   .rotate[_ngcontent-%COMP%]   .front[_ngcontent-%COMP%]{z-index:1!important}[_nghost-%COMP%]   .rotate[_ngcontent-%COMP%]   .back[_ngcontent-%COMP%]{z-index:2!important}"],changeDetection:0}),rN),wN=((nN=function t(){f(this,t)}).\u0275mod=s.Lb({type:nN}),nN.\u0275inj=s.Kb({factory:function(t){return new(t||nN)},imports:[[te]]}),nN);function kN(t,e){1&t&&(s.Sb(0,"div"),s.Bc(1," Email is missing "),s.Ob(2,"br"),s.Rb())}function CN(t,e){1&t&&(s.Sb(0,"div"),s.Bc(1," Email format is incorrect "),s.Rb())}function ON(t,e){1&t&&(s.Sb(0,"div"),s.Bc(1," Password is missing "),s.Ob(2,"br"),s.Rb())}function EN(t,e){if(1&t&&(s.Sb(0,"div"),s.zc(1,kN,3,0,"div",24),s.zc(2,CN,2,0,"div",24),s.zc(3,ON,3,0,"div",24),s.Rb()),2&t){var n=s.cc(2);s.Cb(1),s.ic("ngIf",null==n.loginForm.get("email").errors?null:n.loginForm.get("email").errors.required),s.Cb(1),s.ic("ngIf",null==n.loginForm.get("email").errors?null:n.loginForm.get("email").errors.invalidEmailFormat),s.Cb(1),s.ic("ngIf",null==n.loginForm.get("password").errors?null:n.loginForm.get("password").errors.required)}}function SN(t,e){1&t&&(s.Sb(0,"div"),s.Bc(1," Email is missing "),s.Ob(2,"br"),s.Rb())}function TN(t,e){1&t&&(s.Sb(0,"div"),s.Bc(1," Email format is incorrect "),s.Rb())}function IN(t,e){1&t&&(s.Sb(0,"div"),s.Bc(1," Password is missing "),s.Ob(2,"br"),s.Rb())}function xN(t,e){1&t&&(s.Sb(0,"div"),s.Bc(1," PasswordRe is missing "),s.Ob(2,"br"),s.Rb())}function PN(t,e){1&t&&(s.Sb(0,"div"),s.Bc(1," Password mismatch "),s.Rb())}function AN(t,e){if(1&t&&(s.zc(0,SN,3,0,"div",24),s.zc(1,TN,2,0,"div",24),s.zc(2,IN,3,0,"div",24),s.zc(3,xN,3,0,"div",24),s.zc(4,PN,2,0,"div",24)),2&t){var n=s.cc(2);s.ic("ngIf",null==n.registrationForm.get("email").errors?null:n.registrationForm.get("email").errors.required),s.Cb(1),s.ic("ngIf",null==n.registrationForm.get("email").errors?null:n.registrationForm.get("email").errors.invalidEmailFormat),s.Cb(1),s.ic("ngIf",null==n.registrationForm.get("password").errors?null:n.registrationForm.get("password").errors.required),s.Cb(1),s.ic("ngIf",null==n.registrationForm.get("passwordRe").errors?null:n.registrationForm.get("passwordRe").errors.required),s.Cb(1),s.ic("ngIf",null==n.registrationForm.errors?null:n.registrationForm.errors.passwordMismatch)}}function RN(t,e){if(1&t&&(s.Sb(0,"div",21),s.zc(1,EN,4,3,"div",22),s.zc(2,AN,5,5,"ng-template",null,23,s.Ac),s.Rb()),2&t){var n=s.oc(3),r=s.cc();s.Cb(1),s.ic("ngIf",!r.flipped)("ngIfElse",n)}}var NN,jN,DN,MN,LN=((jN=function(){function t(e,n,r,i){var o=this;f(this,t),this.auth=e,this.router=n,this.common=r,this.formBuilder=i,this.flipped=!1,this.flip=function(){o.flipped=!o.flipped},this.login=function(){o.loginForm.invalid||o.auth.emailSignIn(o.loginForm.get("email").value,o.loginForm.get("password").value).then()},this.register=function(){o.registrationForm.invalid||o.auth.emailSignUp(o.registrationForm.get("email").value,o.registrationForm.get("password").value).then(function(t){return console.log(t)}).catch(function(t){return console.log(o.common.openSnackbar(t.message))})},this.createLoginForm=function(){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.loginForm=this.formBuilder.group({email:["",[da.required,Zs]],password:["",[da.required]]});case 1:case"end":return t.stop()}},t,this)}))},this.createRegistrationForm=function(){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.registrationForm=this.formBuilder.group({email:["",[da.required,Zs]],password:["",[da.required]],passwordRe:["",da.required]},{validators:Js});case 1:case"end":return t.stop()}},t,this)}))},this.createLoginForm().then(),this.createRegistrationForm().then()}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||jN)(s.Nb(gN),s.Nb(Io),s.Nb(pN),s.Nb(Qs))},jN.\u0275cmp=s.Hb({type:jN,selectors:[["app-login"]],decls:38,vars:9,consts:[[1,"login-panel-container"],[1,"login-title","neon"],[1,"login-container"],[3,"flip"],["front","",1,"login-panel"],[1,"login-header"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"login-input-fields"],["placeholder","Email",1,"login-input",3,"formControlName"],["type","password","placeholder","Password",1,"login-input",3,"formControlName"],[1,"login-button-cotnainer"],["type","button",1,"button",3,"click"],["type","submit",1,"button","button-primary"],[1,"social-login-container"],[1,"button","google-button",3,"click"],[1,"button","facebook-button",3,"click"],["back","",1,"login-panel"],["type","password","placeholder","Repeat password",1,"login-input",3,"formControlName"],["type","submit",1,"button","button-submit"],[1,"login-card-container"],["class","info-card warning",4,"ngIf"],[1,"info-card","warning"],[4,"ngIf","ngIfElse"],["notFlipped",""],[4,"ngIf"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"div"),s.Sb(2,"h1",1),s.Bc(3,"AskAway"),s.Rb(),s.Rb(),s.Sb(4,"div",2),s.Sb(5,"ngx-flip",3),s.Sb(6,"div",4),s.Sb(7,"h1",5),s.Bc(8,"Log in to your account"),s.Rb(),s.Sb(9,"form",6),s.Zb("ngSubmit",function(){return e.login()}),s.Sb(10,"div",7),s.Ob(11,"input",8),s.Ob(12,"input",9),s.Sb(13,"div",10),s.Sb(14,"button",11),s.Zb("click",function(){return e.flip()}),s.Bc(15,"Registration"),s.Rb(),s.Sb(16,"button",12),s.Bc(17,"Login"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(18,"div",13),s.Sb(19,"button",14),s.Zb("click",function(){return e.auth.googleSignIn()}),s.Bc(20,"Sign in with Google"),s.Rb(),s.Sb(21,"button",15),s.Zb("click",function(){return e.auth.facebookSignIn()}),s.Bc(22,"Sign in with Facebook"),s.Rb(),s.Rb(),s.Rb(),s.Sb(23,"div",16),s.Sb(24,"form",6),s.Zb("ngSubmit",function(){return e.register()}),s.Sb(25,"h1",5),s.Bc(26,"Register an account"),s.Rb(),s.Sb(27,"div",7),s.Ob(28,"input",8),s.Ob(29,"input",9),s.Ob(30,"input",17),s.Sb(31,"div",10),s.Sb(32,"button",11),s.Zb("click",function(){return e.flip()}),s.Bc(33,"Back"),s.Rb(),s.Sb(34,"button",18),s.Bc(35,"Registration"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(36,"div",19),s.zc(37,RN,4,2,"div",20),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Cb(5),s.ic("flip",e.flipped),s.Cb(4),s.ic("formGroup",e.loginForm),s.Cb(2),s.ic("formControlName","email"),s.Cb(1),s.ic("formControlName","password"),s.Cb(12),s.ic("formGroup",e.registrationForm),s.Cb(4),s.ic("formControlName","email"),s.Cb(1),s.ic("formControlName","password"),s.Cb(1),s.ic("formControlName","passwordRe"),s.Cb(7),s.ic("ngIf",e.flipped?e.registrationForm.errors:e.loginForm.errors))},directives:[_N,Ls,Ua,Us,sa,Va,qs,At],styles:[".login-panel-container[_ngcontent-%COMP%]{width:100%;height:100vh;margin:0;padding-top:3rem;background:linear-gradient(-45deg,#ea5c54,#bb6dec)}.login-panel[_ngcontent-%COMP%]{margin:auto;background-color:var(--dark-background);border:thin solid var(--secondary-color);width:var(--login-panel-width);height:var(--login-panel-heigth);border-radius:.2rem}.login-header[_ngcontent-%COMP%]{color:var(--base-font-color);font-size:larger;padding:3rem}.login-title[_ngcontent-%COMP%]{font-size:6rem;margin:1rem auto;text-align:center}.login-input-fields[_ngcontent-%COMP%]{width:80%;margin:0 auto;display:flex;flex-direction:column;align-items:center;flex-wrap:nowrap;flex-basis:80%}.login-input[_ngcontent-%COMP%]{width:100%;margin-top:1rem;padding:.4rem;color:var(--base-font-color);font-weight:bolder;font-size:large;height:50px;background:none;border:thin solid var(--secondary-color);border-radius:.6em;outline:none;transition:.4s}.login-input[_ngcontent-%COMP%]::-moz-placeholder{padding:.2rem;color:var(--base-hint-color)}.login-input[_ngcontent-%COMP%]::placeholder{padding:.2rem;color:var(--base-hint-color)}.login-input[_ngcontent-%COMP%]:focus{transition:.4s;box-shadow:0 0 16px var(--secondary-color)}.login-button-cotnainer[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-end;margin:0 1rem}.login-button-cotnainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{flex:2;margin:1rem 1rem 1rem 0;align-items:flex-start}.login-button-cotnainer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{flex:1;margin:1rem 0 1rem 1rem;align-items:flex-end}.social-login-container[_ngcontent-%COMP%]{display:flex;border-top:2px solid var(--secondary-color-faded);flex-direction:column;align-items:flex-end}.login-card-container[_ngcontent-%COMP%]{margin:var(--login-panel-heigth) auto 0 auto}.login-container[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.info-card[_ngcontent-%COMP%]{min-height:70px;margin-top:1rem}"]}),jN),FN=((NN=function(){function t(e){var n=this;f(this,t),this.auth=e,this.activateRoute=function(t){n.activatedRoute.emit(t)},this.activatedRoute=new s.n}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||NN)(s.Nb(gN))},NN.\u0275cmp=s.Hb({type:NN,selectors:[["app-header"]],outputs:{activatedRoute:"activatedRoute"},decls:11,vars:0,consts:[[1,"main-header"],["matRipple","",3,"click"]],template:function(t,e){1&t&&(s.Sb(0,"nav",0),s.Sb(1,"a",1),s.Zb("click",function(){return e.activateRoute("profile")}),s.Bc(2,"Profile"),s.Rb(),s.Sb(3,"a",1),s.Zb("click",function(){return e.activateRoute("questions")}),s.Bc(4,"My questions"),s.Rb(),s.Sb(5,"a",1),s.Zb("click",function(){return e.activateRoute("explore")}),s.Bc(6,"Explore"),s.Rb(),s.Sb(7,"a",1),s.Zb("click",function(){return e.activateRoute("about")}),s.Bc(8,"About"),s.Rb(),s.Sb(9,"a",1),s.Zb("click",function(){return e.auth.signOut()}),s.Bc(10,"Log out"),s.Rb(),s.Rb())},directives:[RR],styles:[".main-header[_ngcontent-%COMP%]{margin:.5rem auto 0;z-index:1000;position:fixed;top:0;width:100%;display:flex;flex-direction:row;justify-content:stretch}.main-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{flex:1;padding:.4em;text-align:center;cursor:pointer;font-weight:bolder;color:var(--base-hint-color);transition:.4s}.main-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--base-font-color);transition:.4s}"]}),NN),VN=qx("detailExpand",[Kx("collapsed",Wx({height:"0px",minHeight:"0"})),Kx("expanded",Wx({height:"*"})),Qx("expanded <=> collapsed",zx(".4s cubic-bezier(0.4, 0.0, 0.2, 1)"))]),UN=qx("fade",[Kx("void",Wx({opacity:0,transform:"scale(0.5)"})),Qx("* <=> void",zx("400ms ease-out"))]),BN=qx("valueChanged",[Qx("void => *",[]),Qx("* => void",[]),Qx("* => *",[zx(1200,Gx([Wx({background:"#FFD900",color:"#FF5500",offset:0}),Wx({background:"inherit",color:"inherit",offset:1})]))])]),qN=(qx("textWrap",[Kx("collapsed",Wx({"white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden",height:"29px"})),Kx("expanded",Wx({height:"auto","white-space":"pre-wrap","text-overflow":"unset",overflow:"hidden"})),Qx("expanded <=> collapsed",zx(".4s cubic-bezier(0.4, 0.0, 0.2, 1)"))]),qx("fadeIn",[Kx("void",Wx({opacity:0,transform:"scale(.5)"})),Qx("void <=> *",[zx("{{time}}ms")],{params:{time:100}})])),zN=qx("questionCardAnimation",[Qx(":enter",[function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}(".explore-question",[Wx({opacity:0,transform:"scale(.5)"}),(DN=[zx("400ms"),Wx({opacity:1,transform:"none"})],{type:12,timings:100,animation:DN})],{optional:!0})])]),HN=((MN=function t(e,n,r){var o=this;f(this,t),this.injector=e,this.common=n,this.firestore=r,this.getQuestionsForLoggedInUser=function(){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.questionRef.ref.where("submitter","==",this.auth.userRef).get().then(function(t){var n=[];return t.docs.forEach(function(t){n=[].concat(i(n),[Object.assign(Object.assign({uid:t.id},t.data()),{votes:e.getVotesForQuestionByQuestionUid(t.id),answers:e.getAnswersForQuestionUid(t.id)})])}),n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}))},this.getVotesForQuestionByQuestionUid=function(t){return o.firestore.collection("questions/".concat(t,"/votes")).valueChanges()},this.getUserVoteForQuestionByQuestionUid=function(t){return o.firestore.collection("questions/".concat(t,"/votes"),function(t){return t.where("voter","==",o.auth.userRef)}).valueChanges()},this.voteQuestion=function(t,e){var n=o.firestore.collection("questions/".concat(t,"/votes")).ref,r={vote:e,voter:o.auth.userRef};n.where("voter","==",o.auth.userRef).get().then(function(t){var e;(null===(e=t.docs[0])||void 0===e?void 0:e.id)?t.docs[0].ref.update(r).then():n.add(r).then()})},this.getUserVoteForQuestion=function(t){return o.firestore.collection("questions/".concat(t,"/votes")).ref.where("voter","==",o.auth.userRef).get().then(function(t){return t.docs[0].id?t.docs[0].data():null})},this.getAnswersForQuestionUid=function(t){return o.firestore.collection("questions/".concat(t,"/answers")).get().toPromise().then(function(t){var e=[];return t.docs.forEach(function(t){e=[].concat(i(e),[Object.assign({uid:t.id},t.data())])}),e})},this.sendQuestion=function(t){var e={question:t.question,detail:t.detail,tags:t.tags,submitter:o.auth.userRef,timestamp:$s.a.firestore.FieldValue.serverTimestamp()};o.questionRef.add(e).then()},this.sendAnswer=function(t){var e=t.uid,n=t.answer,r=o.firestore.collection("questions/".concat(e,"/answers")),i={answer:n,submitter:o.auth.userRef,timestamp:$s.a.firestore.FieldValue.serverTimestamp()};r.add(i).then()},this.getTags=function(){return o.tagRef.get().pipe(Object(pn.a)(function(t){return t.docs.map(function(t){return Object.assign({uid:t.id},t.data())})}))},this.getRandomQuestionsByTags=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return o.firestore.collection("questions",function(e){return e.where("tags","array-contains-any",t)}).get().pipe(Object(pn.a)(function(t){return o.randomizeQuestions(t,e)}))},this.getRandomQuestions=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return o.questionRef.get().pipe(Object(pn.a)(function(e){return o.randomizeQuestions(e,t)}))},this.randomizeQuestions=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=t.docs.map(function(t){return t.id});if(n.length<e)return o.getRandomQuestionsByUidsAndSnapshot(n,t);var r=o.getRandomUids(e,n);return o.getRandomQuestionsByUidsAndSnapshot(r,t)},this.getTagByName=function(t){return Xo(o,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.tagRef.ref.where("tag","==",t.toLocaleLowerCase()),e.next=3,n.get().then(function(t){var e,n,r;return Object.assign({uid:null===(e=null==t?void 0:t.docs[0])||void 0===e?void 0:e.id,ref:null===(n=null==t?void 0:t.docs[0])||void 0===n?void 0:n.ref},null===(r=null==t?void 0:t.docs[0])||void 0===r?void 0:r.data())});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}))},this.saveTag=function(t){var e={color:o.common.getDarkColor(),tag:t};return o.tagRef.add(e)},this.getRandomUids=function(t,e){return e.sort(function(){return Math.random()-Math.random()}).slice(0,t)},this.getRandomQuestionsByUidsAndSnapshot=function(t,e){return e.docs.filter(function(e){return t.some(function(t){return t===e.id})}).map(function(t){return Object.assign({},{uid:t.id,votes:o.getUserVoteForQuestionByQuestionUid(t.id)},t.data())})},this.auth=e.get(gN),this.questionRef=r.collection("questions"),this.tagRef=r.collection("tags")}).\u0275fac=function(t){return new(t||MN)(s.Wb(s.s),s.Wb(pN),s.Wb(MT))},MN.\u0275prov=s.Jb({token:MN,factory:MN.\u0275fac,providedIn:"root"}),MN);function WN(t,e){1&t&&(s.Sb(0,"span",3),s.bc(),s.Sb(1,"svg",4),s.Ob(2,"path",5),s.Ob(3,"g"),s.Ob(4,"g"),s.Ob(5,"g"),s.Ob(6,"g"),s.Ob(7,"g"),s.Ob(8,"g"),s.Rb(),s.Rb())}var KN=["*"];function GN(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",2),s.Zb("click",function(){return s.rc(n),s.cc().hide()}),s.Rb()}}var QN,YN=[[["ng2-dropdown-button"]],[["ng2-dropdown-menu"]]],XN=["ng2-dropdown-button","ng2-dropdown-menu"],ZN=((QN=function(){function t(e){f(this,t),this.element=e,this.onMenuToggled=new s.n,this.showCaret=!0}return p(t,[{key:"toggleMenu",value:function(){this.onMenuToggled.emit(!0)}},{key:"getPosition",value:function(){return this.element.nativeElement.getBoundingClientRect()}}]),t}()).\u0275fac=function(t){return new(t||QN)(s.Nb(s.l))},QN.\u0275cmp=s.Hb({type:QN,selectors:[["ng2-dropdown-button"]],inputs:{showCaret:"showCaret"},outputs:{onMenuToggled:"onMenuToggled"},ngContentSelectors:KN,decls:4,vars:1,consts:[["type","button","tabindex","0s",1,"ng2-dropdown-button",3,"click"],[1,"ng2-dropdown-button__label"],["class","ng2-dropdown-button__caret",4,"ngIf"],[1,"ng2-dropdown-button__caret"],["enable-background","new 0 0 32 32","height","16px","id","\u0421\u043b\u043e\u0439_1","version","1.1","viewBox","0 0 32 32","width","16px",0,"xml","space","preserve","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink"],["d","M24.285,11.284L16,19.571l-8.285-8.288c-0.395-0.395-1.034-0.395-1.429,0  c-0.394,0.395-0.394,1.035,0,1.43l8.999,9.002l0,0l0,0c0.394,0.395,1.034,0.395,1.428,0l8.999-9.002  c0.394-0.395,0.394-1.036,0-1.431C25.319,10.889,24.679,10.889,24.285,11.284z","fill","#121313","id","Expand_More"]],template:function(t,e){1&t&&(s.hc(),s.Sb(0,"button",0),s.Zb("click",function(){return e.toggleMenu()}),s.Sb(1,"span",1),s.gc(2),s.Rb(),s.zc(3,WN,9,0,"span",2),s.Rb()),2&t&&(s.Cb(3),s.ic("ngIf",e.showCaret))},directives:[At],styles:['.ng2-dropdown-button[_ngcontent-%COMP%]{font-family:Roboto,"Helvetica Neue",Helvetica,Arial;background:#fff;padding:.45rem .25rem;font-size:14px;letter-spacing:.08rem;color:#444;outline:0;cursor:pointer;font-weight:400;border:none;border-bottom:1px solid #efefef;text-align:left;min-width:100px;width:100%;display:flex;flex-direction:row;max-width:150px}.ng2-dropdown-button[_ngcontent-%COMP%]:hover{color:#222}.ng2-dropdown-button[_ngcontent-%COMP%]:active, .ng2-dropdown-button[_ngcontent-%COMP%]:focus{color:#222;border-bottom:2px solid #2196f3}.ng2-dropdown-button__label[_ngcontent-%COMP%]{flex:1 1 95%}.ng2-dropdown-button__caret[_ngcontent-%COMP%]{width:12px;height:12px;display:flex;flex:1 1 6%}.ng2-dropdown-button--icon[_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%], .ng2-dropdown-button--icon   [_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]{border:none;min-width:40px;width:40px;border-radius:100%;transition:.2s;text-align:center;height:40px;padding:.5em}.ng2-dropdown-button--icon[_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]:active, .ng2-dropdown-button--icon   [_nghost-%COMP%]   .ng2-dropdown-button[_ngcontent-%COMP%]:active{background:rgba(0,0,0,.2)}']}),QN),JN={9:function(t,e,n){n.select(t<e.length-1?e[t+1]:e[0],!0)},38:function(t,e,n){t>0&&n.select(e[t-1],!0)},40:function(t,e,n){t<e.length-1&&n.select(e[t+1],!0)},13:function(t,e,n){return n.selectedItem?n.selectedItem.click():void 0},27:function(){this.hide()}};function $N(t){[38,40].indexOf(t.keyCode)>-1&&t.preventDefault()}var tj,ej,nj,rj,ij,oj=function(){function t(){f(this,t),this.onItemSelected=new s.n,this.onItemClicked=new s.n,this.onItemDestroyed=new s.n}return p(t,[{key:"selectedItem",get:function(){return this._selectedItem}},{key:"select",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._selectedItem=t,e&&t&&(t.focus(),this.onItemSelected.emit(t))}},{key:"unselect",value:function(){this._selectedItem=void 0}}]),t}(),aj=((ij=function t(){f(this,t),this.menuState={isVisible:!1,toString:function(){return!0===this.isVisible?"visible":"hidden"}},this.dropdownState=new oj}).\u0275fac=function(t){return new(t||ij)},ij.\u0275prov=s.Jb({token:ij,factory:function(t){return ij.\u0275fac(t)}}),ij),sj=((rj=function(){function t(e,n){f(this,t),this.state=e,this.element=n,this.preventClose=!1}return p(t,[{key:"ngOnDestroy",value:function(){this.state.dropdownState.onItemDestroyed.emit(this)}},{key:"isSelected",get:function(){return this===this.state.dropdownState.selectedItem}},{key:"select",value:function(t){this.state.dropdownState.select(this,!0),t&&(t.stopPropagation(),t.preventDefault())}},{key:"click",value:function(){this.state.dropdownState.onItemClicked.emit(this)}},{key:"focus",value:function(){this.element.nativeElement.children[0].focus()}}]),t}()).\u0275fac=function(t){return new(t||rj)(s.Nb(aj),s.Nb(s.l))},rj.\u0275cmp=s.Hb({type:rj,selectors:[["ng2-menu-item"]],inputs:{preventClose:"preventClose",value:"value"},ngContentSelectors:KN,decls:2,vars:2,consts:[["role","button","tabindex","0",1,"ng2-menu-item",3,"keydown.enter","click","mouseover"]],template:function(t,e){1&t&&(s.hc(),s.Sb(0,"div",0),s.Zb("keydown.enter",function(){return e.click()})("click",function(){return e.click()})("mouseover",function(){return e.select()}),s.gc(1),s.Rb()),2&t&&s.Fb("ng2-menu-item--selected",e.isSelected)},styles:['.ng2-menu-item[_ngcontent-%COMP%]{font-family:Roboto,"Helvetica Neue",Helvetica,Arial;background:#fff;color:rgba(0,0,0,.87);cursor:pointer;font-size:.9em;text-transform:none;font-weight:400;letter-spacing:.03em;height:48px;line-height:48px;padding:.3em 1.25rem;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;transition:background .25s}.ng2-menu-item--selected[_ngcontent-%COMP%]{background:rgba(158,158,158,.2);outline:0}.ng2-menu-item[_ngcontent-%COMP%]:focus{outline:0}.ng2-menu-item[_ngcontent-%COMP%]:active{background:rgba(158,158,158,.4)}ng2-menu-item[_nghost-%COMP%]     [ng2-menu-item-icon]{vertical-align:middle;font-size:28px;width:1.5em;height:30px;color:rgba(0,0,0,.44)}']}),rj),uj=((nj=function(){function t(e,n,r){f(this,t),this.dropdownState=e,this.element=n,this.renderer=r,this.width=4,this.focusFirstElement=!0,this.appendToBody=!0,this.zIndex=1e3,this.listeners={arrowHandler:void 0,handleKeypress:void 0}}return p(t,[{key:"show",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="undefined"!=typeof document?document:void 0,r="undefined"!=typeof window?window:void 0;this.dropdownState.menuState.isVisible||(this.listeners.handleKeypress=this.renderer.listen(n.body,"keydown",this.handleKeypress.bind(this)),this.listeners.arrowHandler=this.renderer.listen(r,"keydown",$N)),this.dropdownState.menuState.isVisible=!0,t&&this.updatePosition(t,e)}},{key:"hide",value:function(){this.dropdownState.menuState.isVisible=!1,this.dropdownState.dropdownState.unselect(),this.listeners.arrowHandler&&this.listeners.arrowHandler(),this.listeners.handleKeypress&&this.listeners.handleKeypress()}},{key:"updatePosition",value:function(t,e){this.position=t,this.updateOnChange(e)}},{key:"handleKeypress",value:function(t){var e=t.keyCode,n=this.items.toArray(),r=n.indexOf(this.dropdownState.dropdownState.selectedItem);JN.hasOwnProperty(e)&&JN[e].call(this,r,n,this.dropdownState.dropdownState)}},{key:"getMenuElement",value:function(){return this.element.nativeElement.children[0]}},{key:"calcPositionOffset",value:function(t){var e="undefined"!=typeof window?window:void 0,n="undefined"!=typeof document?document:void 0;if(e&&n&&t){var r=this.getMenuElement(),i=void 0!==e.pageXOffset,o="CSS1Compat"===(n.compatMode||""),a=i?e.pageXOffset:o?n.documentElement.scrollLeft:n.body.scrollLeft,s=i?e.pageYOffset:o?n.documentElement.scrollTop:n.body.scrollTop,u=this.applyOffset("".concat(t.top+(this.appendToBody?s-15:0),"px"),t.left+a-5+"px"),c=u.top,l=u.left,h=r.clientWidth,f=r.clientHeight,d=parseInt(c)+f+(this.appendToBody?0:s-15),p=parseInt(l)+h,v=e.innerWidth+e.scrollX;if(d>=e.innerHeight+e.scrollY&&(c=parseInt(c.replace("px",""))-f+"px"),p>=v){var g=p-v+30;l=parseInt(l.replace("px",""))-g+"px"}return{top:c,left:l}}}},{key:"applyOffset",value:function(t,e){if(!this.offset)return{top:t,left:e};var n=this.offset.split(" ");return n[1]||(n[1]="0"),{top:t="".concat(parseInt(t.replace("px",""))+parseInt(n[0]),"px"),left:e="".concat(parseInt(e.replace("px",""))+parseInt(n[1]),"px")}}},{key:"ngOnInit",value:function(){var t="undefined"!=typeof document?document:void 0;this.appendToBody&&t.body.appendChild(this.element.nativeElement)}},{key:"updateOnChange",value:function(){var t=this.getMenuElement(),e=this.calcPositionOffset(this.position);e&&(this.renderer.setStyle(t,"top",e.top.toString()),this.renderer.setStyle(t,"left",e.left.toString())),this.focusFirstElement&&this.items.first&&!this.dropdownState.dropdownState.selectedItem&&this.dropdownState.dropdownState.select(this.items.first,!1)}},{key:"ngOnDestroy",value:function(){var t=this.element.nativeElement;t.parentNode.removeChild(t),this.listeners.handleKeypress&&this.listeners.handleKeypress()}}]),t}()).\u0275fac=function(t){return new(t||nj)(s.Nb(aj),s.Nb(s.l),s.Nb(s.F))},nj.\u0275cmp=s.Hb({type:nj,selectors:[["ng2-dropdown-menu"]],contentQueries:function(t,e,n){var r;1&t&&s.Gb(n,sj,1),2&t&&s.nc(r=s.ac())&&(e.items=r)},inputs:{width:"width",focusFirstElement:"focusFirstElement",appendToBody:"appendToBody",zIndex:"zIndex",offset:"offset"},ngContentSelectors:KN,decls:4,vars:12,consts:[[1,"ng2-dropdown-menu__options-container"],["class","ng2-dropdown-backdrop",3,"click",4,"ngIf"],[1,"ng2-dropdown-backdrop",3,"click"]],template:function(t,e){1&t&&(s.hc(),s.Sb(0,"div"),s.Sb(1,"div",0),s.gc(2),s.Rb(),s.Rb(),s.zc(3,GN,1,0,"div",1)),2&t&&(s.Eb("ng2-dropdown-menu ng2-dropdown-menu---width--",e.width,""),s.wc("z-index",e.zIndex),s.Fb("ng2-dropdown-menu--inside-element",!e.appendToBody)("ng2-dropdown-menu--open",e.dropdownState.menuState.isVisible),s.ic("@fade",e.dropdownState.menuState.toString()),s.Cb(1),s.ic("@opacity",e.dropdownState.menuState.toString()),s.Cb(2),s.ic("ngIf",e.dropdownState.menuState.isVisible))},directives:[At],styles:["[_nghost-%COMP%]{display:block}.ng2-dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;box-shadow:0 1px 2px 0 rgba(0,0,0,.3);position:absolute;padding:.5em 0;background:#fff;border-radius:1px;max-height:400px;width:260px;min-height:0;display:block}.ng2-dropdown-menu.ng2-dropdown-menu--inside-element[_ngcontent-%COMP%]{position:fixed}.ng2-dropdown-menu.ng2-dropdown-menu--width--2[_ngcontent-%COMP%]{width:200px}.ng2-dropdown-menu.ng2-dropdown-menu--width--4[_ngcontent-%COMP%]{width:260px}.ng2-dropdown-menu.ng2-dropdown-menu--width--6[_ngcontent-%COMP%]{width:320px}.ng2-dropdown-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;z-index:1;overflow:hidden}[_nghost-%COMP%]     .ng2-menu-divider{height:1px;min-height:1px;max-height:1px;width:100%;display:block;background:#f9f9f9}"],data:{animation:[qx("fade",[Kx("visible",Wx({opacity:1,height:"*",width:"*"})),Kx("hidden",Wx({opacity:0,overflow:"hidden",height:0,width:0})),Qx("hidden => visible",[zx("250ms ease-in",Wx({opacity:1,height:"*",width:"*"}))]),Qx("visible => hidden",[zx("350ms ease-out",Wx({opacity:0,width:0,height:0}))])]),qx("opacity",[Qx("hidden => visible",[zx("450ms ease-in",Gx([Wx({opacity:0,offset:0}),Wx({opacity:1,offset:1})]))]),Qx("visible => hidden",[zx("250ms ease-out",Gx([Wx({opacity:1,offset:0}),Wx({opacity:.5,offset:.3}),Wx({opacity:0,offset:1})]))])])]}}),nj),cj=((ej=function(){function t(e){f(this,t),this.state=e,this.dynamicUpdate=!0,this.onItemClicked=new s.n,this.onItemSelected=new s.n,this.onShow=new s.n,this.onHide=new s.n}return p(t,[{key:"ngOnInit",value:function(){var t=this;this.state.dropdownState.onItemClicked.subscribe(function(e){t.onItemClicked.emit(e),e.preventClose||t.hide.call(t)}),this.button&&this.button.onMenuToggled.subscribe(function(){t.toggleMenu()}),this.state.dropdownState.onItemSelected.subscribe(function(e){t.onItemSelected.emit(e)}),this.state.dropdownState.onItemDestroyed.subscribe(function(e){var n,r=t.menu.items.toArray();e===t.state.dropdownState.selectedItem&&(t.menu.focusFirstElement&&(n=e===r[0]&&r.length>1?r[1]:r[0]),t.state.dropdownState.select(n))})}},{key:"toggleMenu",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.button.getPosition();this.state.menuState.isVisible?this.hide():this.show(t)}},{key:"hide",value:function(){this.menu.hide(),this.onHide.emit(this)}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.button.getPosition();this.menu.show(t,this.dynamicUpdate),this.onShow.emit(this)}},{key:"scrollListener",value:function(){this.button&&this.dynamicUpdate&&this.menu.updatePosition(this.button.getPosition(),!0)}}]),t}()).\u0275fac=function(t){return new(t||ej)(s.Nb(aj))},ej.\u0275cmp=s.Hb({type:ej,selectors:[["ng2-dropdown"]],contentQueries:function(t,e,n){var r;1&t&&(s.Gb(n,ZN,3),s.Gb(n,uj,3)),2&t&&(s.nc(r=s.ac())&&(e.button=r.first),s.nc(r=s.ac())&&(e.menu=r.first))},hostBindings:function(t,e){1&t&&s.Zb("scroll",function(){return e.scrollListener()},!1,s.qc)},inputs:{dynamicUpdate:"dynamicUpdate"},outputs:{onItemClicked:"onItemClicked",onItemSelected:"onItemSelected",onShow:"onShow",onHide:"onHide"},features:[s.Bb([aj])],ngContentSelectors:XN,decls:3,vars:0,consts:[[1,"ng2-dropdown-container"]],template:function(t,e){1&t&&(s.hc(YN),s.Sb(0,"div",0),s.gc(1),s.gc(2,1),s.Rb())},encapsulation:2}),ej),lj=((tj=function t(){f(this,t)}).\u0275mod=s.Lb({type:tj}),tj.\u0275inj=s.Kb({factory:function(t){return new(t||tj)},imports:[[te]]}),tj),hj=["input"];function fj(t,e){}var dj=function(t,e){return{item:t,index:e}};function pj(t,e){if(1&t&&(s.Sb(0,"div"),s.zc(1,fj,0,0,"ng-template",4),s.Rb()),2&t){var n=s.cc();s.Db("contenteditable",n.editing),s.Cb(1),s.ic("ngTemplateOutletContext",s.lc(3,dj,n.model,n.index))("ngTemplateOutlet",n.template)}}function vj(t,e){if(1&t){var n=s.Tb();s.Sb(0,"delete-icon",8),s.Zb("click",function(t){return s.rc(n),s.cc(2).remove(t)}),s.Rb()}}function gj(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",5),s.Sb(1,"div",6),s.Zb("keydown.enter",function(t){return s.rc(n),s.cc().disableEditMode(t)})("keydown.escape",function(t){return s.rc(n),s.cc().disableEditMode(t)})("click",function(t){return s.rc(n),s.cc().editing?t.stopPropagation():void 0})("blur",function(t){return s.rc(n),s.cc().onBlurred(t)}),s.Bc(2),s.Rb(),s.zc(3,vj,1,0,"delete-icon",7),s.Rb()}if(2&t){var r=s.cc();s.Cb(1),s.Db("contenteditable",r.editing)("title",r.getDisplayValue(r.model)),s.Cb(1),s.Dc(" ",r.getDisplayValue(r.model)," "),s.Cb(1),s.ic("ngIf",r.isDeleteIconVisible())}}function yj(t,e){if(1&t&&s.Ob(0,"tag-ripple",9),2&t){var n=s.cc();s.ic("state",n.rippleState),s.Db("tabindex",-1)}}function mj(t,e){if(1&t&&(s.Ob(0,"span",6),s.dc(1,"highlight")),2&t){var n=s.cc().$implicit,r=s.cc();s.ic("innerHTML",s.fc(1,1,n[r.displayBy],r.tagInput.inputForm.value.value),s.sc)}}function bj(t,e){}var _j=function(t,e,n){return{item:t,index:e,last:n}};function wj(t,e){if(1&t&&s.zc(0,bj,0,0,"ng-template",7),2&t){var n=s.cc(),r=n.$implicit,i=n.index,o=n.last,a=s.cc();s.ic("ngTemplateOutlet",a.templates.first)("ngTemplateOutletContext",s.mc(2,_j,r,i,o))}}function kj(t,e){if(1&t&&(s.Sb(0,"ng2-menu-item",3),s.zc(1,mj,2,4,"span",4),s.zc(2,wj,1,6,void 0,5),s.Rb()),2&t){var n=e.$implicit,r=s.cc();s.ic("value",n)("ngSwitch",!!r.templates.length),s.Cb(1),s.ic("ngSwitchCase",!1)}}function Cj(t,e){if(1&t){var n=s.Tb();s.Sb(0,"tag",6),s.Zb("onSelect",function(){s.rc(n);var t=e.$implicit;return s.cc().selectItem(t)})("onRemove",function(){s.rc(n);var t=e.$implicit,r=e.index;return s.cc().onRemoveRequested(t,r)})("onKeyDown",function(t){return s.rc(n),s.cc().handleKeydown(t)})("onTagEdited",function(t){return s.rc(n),s.cc().updateEditedTag(t)})("onBlur",function(t){s.rc(n);var r=e.index;return s.cc().onTagBlurred(t,r)})("dragstart",function(t){s.rc(n);var r=e.$implicit,i=e.index,o=s.cc();return o.dragZone?o.onDragStarted(t,r,i):void 0})("drop",function(t){s.rc(n);var r=e.index,i=s.cc();return i.dragZone?i.onTagDropped(t,r):void 0})("dragenter",function(t){s.rc(n);var e=s.cc();return e.dragZone?e.onDragOver(t):void 0})("dragover",function(t){s.rc(n);var r=e.index,i=s.cc();return i.dragZone?i.onDragOver(t,r):void 0})("dragleave",function(){s.rc(n);var t=s.cc();return t.dragZone?t.dragProvider.onDragEnd():void 0}),s.Rb()}if(2&t){var r=e.$implicit,i=e.index,o=s.cc();s.jc("draggable",o.editable),s.ic("canAddTag",o.isTagValid)("disabled",o.disable)("@animation",o.animationMetadata)("hasRipple",o.ripple)("index",i)("removable",o.removable)("editable",o.editable)("displayBy",o.displayBy)("identifyBy",o.identifyBy)("template",o.hasCustomTemplate()?o.templates.first:void 0)("draggable",o.dragZone)("model",r),s.Db("tabindex",0)}}function Oj(t,e){1&t&&s.Ob(0,"div",7)}function Ej(t,e){if(1&t&&(s.Sb(0,"p",10),s.Sb(1,"span"),s.Bc(2),s.Rb(),s.Rb()),2&t){var n=e.$implicit;s.Cb(2),s.Cc(n)}}function Sj(t,e){if(1&t&&(s.Sb(0,"div",8),s.zc(1,Ej,3,1,"p",9),s.Rb()),2&t){var n=s.cc();s.ic("ngClass",n.theme),s.Cb(1),s.ic("ngForOf",n.errors)}}var Tj,Ij,xj=["*"],Pj=((Tj=function(){function t(){f(this,t)}return p(t,[{key:"transform",value:function(t,e){if(!e.trim())return t;try{var n=new RegExp("(".concat(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),")"),"i");return t.replace(n,"<b>$1</b>")}catch(kk){return t}}}]),t}()).\u0275fac=function(t){return new(t||Tj)},Tj.\u0275pipe=s.Mb({name:"highlight",type:Tj,pure:!0}),Tj),Aj={8:"DELETE",46:"DELETE",37:"SWITCH_PREV",39:"SWITCH_NEXT",9:"TAB"},Rj=((Ij=function(){function t(){f(this,t),this.state={dragging:!1,dropping:!1,index:void 0}}return p(t,[{key:"setDraggedItem",value:function(t,e){t&&t.dataTransfer&&t.dataTransfer.setData("Text",JSON.stringify(e))}},{key:"getDraggedItem",value:function(t){if(t&&t.dataTransfer){var e=t.dataTransfer.getData("Text");try{return JSON.parse(e)}catch(zM){return}}}},{key:"setSender",value:function(t){this.sender=t}},{key:"setReceiver",value:function(t){this.receiver=t}},{key:"onTagDropped",value:function(t,e,n){this.onDragEnd(),this.sender.onRemoveRequested(t,e),this.receiver.onAddingRequested(!1,t,n)}},{key:"setState",value:function(t){this.state=Object.assign(Object.assign({},this.state),t)}},{key:"getState",value:function(t){return t?this.state[t]:this.state}},{key:"onDragEnd",value:function(){this.setState({dragging:!1,dropping:!1,index:void 0})}}]),t}()).\u0275fac=function(t){return new(t||Ij)},Ij.\u0275prov=s.Jb({token:Ij,factory:function(t){return Ij.\u0275fac(t)}}),Ij),Nj={tagInput:{separatorKeys:[],separatorKeyCodes:[],maxItems:1/0,placeholder:"+ Tag",secondaryPlaceholder:"Enter a new tag",validators:[],asyncValidators:[],onlyFromAutocomplete:!1,errorMessages:{},theme:"",onTextChangeDebounce:250,inputId:null,inputClass:"",clearOnBlur:!1,hideForm:!1,addOnBlur:!1,addOnPaste:!1,pasteSplitPattern:",",blinkIfDupe:!0,removable:!0,editable:!1,allowDupes:!1,modelAsStrings:!1,trimTags:!0,ripple:!0,tabIndex:"",disable:!1,dragZone:"",onRemoving:void 0,onAdding:void 0,displayBy:"display",identifyBy:"value",animationDuration:{enter:"250ms",leave:"150ms"}},dropdown:{displayBy:"display",identifyBy:"value",appendToBody:!0,offset:"50 0",focusFirstElement:!1,showDropdownIfEmpty:!1,minimumTextLength:1,limitItemsTo:1/0,keepOpen:!0,dynamicUpdate:!0,zIndex:1e3,matchingFn:function(t,e){var n=e[this.displayBy].toString();return n&&n.toLowerCase().indexOf(t.toLowerCase())>=0}}},jj=function(){var t=function(){function t(){f(this,t)}return p(t,[{key:"setOptions",value:function(e){t.defaults.tagInput=Object.assign(Object.assign({},Nj.tagInput),e.tagInput),t.defaults.dropdown=Object.assign(Object.assign({},Nj.dropdown),e.dropdown)}}]),t}();return t.defaults=Nj,t}();function Dj(t){return t===Object(t)}var Mj,Lj=((Mj=function(){function t(){f(this,t),this._items=[],this.displayBy=jj.defaults.tagInput.displayBy,this.identifyBy=jj.defaults.tagInput.identifyBy}return p(t,[{key:"items",get:function(){return this._items},set:function(t){this._items=t,this._onChangeCallback(this._items)}},{key:"onTouched",value:function(){this._onTouchedCallback()}},{key:"writeValue",value:function(t){this._items=t||[]}},{key:"registerOnChange",value:function(t){this._onChangeCallback=t}},{key:"registerOnTouched",value:function(t){this._onTouchedCallback=t}},{key:"getItemValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&this.dropdown?this.dropdown.identifyBy:this.identifyBy;return Dj(t)?t[n]:t}},{key:"getItemDisplay",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e&&this.dropdown?this.dropdown.displayBy:this.displayBy;return Dj(t)?t[n]:t}},{key:"getItemsWithout",value:function(t){return this.items.filter(function(e,n){return n!==t})}}]),t}()).\u0275fac=function(t){return new(t||Mj)},Mj.\u0275dir=s.Ib({type:Mj,inputs:{displayBy:"displayBy",identifyBy:"identifyBy"}}),Mj);function Fj(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.listeners.hasOwnProperty(t))throw new Error("The event entered may be wrong");n&&this.listeners[t].push(e)}var Vj,Uj,Bj,qj,zj=((Uj=function(){function t(){f(this,t),this.onSubmit=new s.n,this.onBlur=new s.n,this.onFocus=new s.n,this.onKeyup=new s.n,this.onKeydown=new s.n,this.inputTextChange=new s.n,this.validators=[],this.asyncValidators=[],this.tabindex="",this.disabled=!1,this.item=new Is({value:"",disabled:this.disabled})}return p(t,[{key:"inputText",get:function(){return this.item.value},set:function(t){this.item.setValue(t),this.inputTextChange.emit(t)}},{key:"ngOnInit",value:function(){this.item.setValidators(this.validators),this.item.setAsyncValidators(this.asyncValidators),this.form=new xs({item:this.item})}},{key:"ngOnChanges",value:function(t){t.disabled&&!t.disabled.firstChange&&(t.disabled.currentValue?this.form.controls.item.disable():this.form.controls.item.enable())}},{key:"value",get:function(){return this.form.get("item")}},{key:"isInputFocused",value:function(){var t="undefined"!=typeof document?document:void 0;return!!t&&t.activeElement===this.input.nativeElement}},{key:"getErrorMessages",value:function(t){var e=this;return Object.keys(t).filter(function(t){return e.value.hasError(t)}).map(function(e){return t[e]})}},{key:"hasErrors",value:function(){var t=this.form,e=t.dirty,n=t.value,r=t.valid;return e&&n.item&&!r}},{key:"focus",value:function(){this.input.nativeElement.focus()}},{key:"blur",value:function(){this.input.nativeElement.blur()}},{key:"getElementPosition",value:function(){return this.input.nativeElement.getBoundingClientRect()}},{key:"destroy",value:function(){var t=this.input.nativeElement;t.parentElement.removeChild(t)}},{key:"onKeyDown",value:function(t){if(this.inputText=this.value.value,"Enter"!==t.key)return this.onKeydown.emit(t);this.submit(t)}},{key:"onKeyUp",value:function(t){return this.inputText=this.value.value,this.onKeyup.emit(t)}},{key:"submit",value:function(t){t.preventDefault(),this.onSubmit.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||Uj)},Uj.\u0275cmp=s.Hb({type:Uj,selectors:[["tag-input-form"]],viewQuery:function(t,e){var n;1&t&&s.Ec(hj,1),2&t&&s.nc(n=s.ac())&&(e.input=n.first)},inputs:{validators:"validators",asyncValidators:"asyncValidators",tabindex:"tabindex",disabled:"disabled",inputText:"inputText",placeholder:"placeholder",inputId:"inputId",inputClass:"inputClass"},outputs:{onSubmit:"onSubmit",onBlur:"onBlur",onFocus:"onFocus",onKeyup:"onKeyup",onKeydown:"onKeydown",inputTextChange:"inputTextChange"},features:[s.Ab],decls:3,vars:8,consts:[[3,"formGroup","ngSubmit"],["type","text","autocomplete","off","minlength","1","formControlName","item",1,"ng2-tag-input__text-input",3,"tabindex","ngClass","focus","blur","keydown","keyup"],["input",""]],template:function(t,e){1&t&&(s.Sb(0,"form",0),s.Zb("ngSubmit",function(t){return e.submit(t)}),s.Sb(1,"input",1,2),s.Zb("focus",function(t){return e.onFocus.emit(t)})("blur",function(t){return e.onBlur.emit(t)})("keydown",function(t){return e.onKeyDown(t)})("keyup",function(t){return e.onKeyUp(t)}),s.Rb(),s.Rb()),2&t&&(s.ic("formGroup",e.form),s.Cb(1),s.jc("tabindex",e.disabled?-1:e.tabindex?e.tabindex:0),s.ic("ngClass",e.inputClass),s.Db("id",e.inputId)("placeholder",e.placeholder)("aria-label",e.placeholder)("tabindex",e.tabindex)("disabled",e.disabled?e.disabled:null))},directives:[Ls,Ua,Us,sa,Ks,Va,qs,Tt],styles:['.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:.25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f;border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.ng2-tag-input__text-input[_ngcontent-%COMP%]{display:inline;vertical-align:middle;border:none;padding:0 .5rem;height:38px;font-size:1em;font-family:Roboto,"Helvetica Neue",sans-serif}.ng2-tag-input__text-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input__text-input[disabled=true][_ngcontent-%COMP%]{opacity:.5;background:#fff}']}),Uj),Hj=((Vj=function t(){f(this,t),this.state="none"}).\u0275fac=function(t){return new(t||Vj)},Vj.\u0275cmp=s.Hb({type:Vj,selectors:[["tag-ripple"]],inputs:{state:"state"},decls:1,vars:1,consts:[[1,"tag-ripple"]],template:function(t,e){1&t&&s.Ob(0,"div",0),2&t&&s.ic("@ink",e.state)},styles:["[_nghost-%COMP%] {\n            width: 100%;\n            height: 100%;\n            left: 0;\n            overflow: hidden;\n            position: absolute;\n        }\n\n        .tag-ripple[_ngcontent-%COMP%] {\n            background: rgba(0, 0, 0, 0.1);\n            top: 50%;\n            left: 50%;\n            height: 100%;\n            transform: translate(-50%, -50%);\n            position: absolute;\n        }"],data:{animation:[qx("ink",[Kx("none",Wx({width:0,opacity:0})),Qx("none => clicked",[zx(300,Gx([Wx({opacity:1,offset:0,width:"30%",borderRadius:"100%"}),Wx({opacity:1,offset:.5,width:"50%"}),Wx({opacity:.5,offset:1,width:"100%",borderRadius:"16px"})]))])])]}}),Vj),Wj="undefined"!=typeof window?window.navigator:{userAgent:"Chrome",vendor:"Google Inc"},Kj=/Chrome/.test(Wj.userAgent)&&/Google Inc/.test(Wj.vendor),Gj=((Bj=function(){function e(t,n,r){f(this,e),this.element=t,this.renderer=n,this.cdRef=r,this.disabled=!1,this.onSelect=new s.n,this.onRemove=new s.n,this.onBlur=new s.n,this.onKeyDown=new s.n,this.onTagEdited=new s.n,this.editing=!1,this.rippleState="none"}return p(e,[{key:"readonly",get:function(){return"string"!=typeof this.model&&!0===this.model.readonly}},{key:"select",value:function(t){this.readonly||this.disabled||(t&&t.stopPropagation(),this.focus(),this.onSelect.emit(this.model))}},{key:"remove",value:function(t){t.stopPropagation(),this.onRemove.emit(this)}},{key:"focus",value:function(){this.element.nativeElement.focus()}},{key:"move",value:function(){this.moving=!0}},{key:"keydown",value:function(t){if(this.editing){if(13===t.keyCode)return this.disableEditMode(t)}else this.onKeyDown.emit({event:t,model:this.model})}},{key:"blink",value:function(){var t=this.element.nativeElement.classList;t.add("blink"),setTimeout(function(){return t.remove("blink")},50)}},{key:"toggleEditMode",value:function(){if(this.editable)return this.editing?void 0:this.activateEditMode()}},{key:"onBlurred",value:function(e){if(this.editable){this.disableEditMode();var n=e.target.innerText,r="string"==typeof this.model?n:Object.assign(Object.assign({},this.model),t({},this.displayBy,n));this.onBlur.emit(r)}}},{key:"getDisplayValue",value:function(t){return"string"==typeof t?t:t[this.displayBy]}},{key:"isRippleVisible",get:function(){return!this.readonly&&!this.editing&&Kj&&this.hasRipple}},{key:"disableEditMode",value:function(t){var e=this.element.nativeElement.classList,n=this.getContentEditableText();this.editing=!1,e.remove("tag--editing"),n?(this.storeNewValue(n),this.cdRef.detectChanges(),t&&t.preventDefault()):this.setContentEditableText(this.model)}},{key:"isDeleteIconVisible",value:function(){return!this.readonly&&!this.disabled&&this.removable&&!this.editing}},{key:"getContentEditableText",value:function(){var t=this.getContentEditable();return t?t.innerText.trim():""}},{key:"setContentEditableText",value:function(t){var e=this.getContentEditable(),n=this.getDisplayValue(t);e.innerText=n}},{key:"activateEditMode",value:function(){this.element.nativeElement.classList.add("tag--editing"),this.editing=!0}},{key:"storeNewValue",value:function(e){var n,r=this;if("string"==typeof(i=this.model)?i!==e:i[r.displayBy]!==e){var i,o="string"==typeof this.model?e:(t(n={index:this.index},this.identifyBy,r.model[r.identifyBy]!==r.model[r.displayBy]?this.model[this.identifyBy]:e),t(n,this.displayBy,e),n);this.canAddTag(o)?this.onTagEdited.emit({tag:o,index:this.index}):this.setContentEditableText(this.model)}}},{key:"getContentEditable",value:function(){return this.element.nativeElement.querySelector("[contenteditable]")}}]),e}()).\u0275fac=function(t){return new(t||Bj)(s.Nb(s.l),s.Nb(s.F),s.Nb(s.h))},Bj.\u0275cmp=s.Hb({type:Bj,selectors:[["tag"]],viewQuery:function(t,e){var n;1&t&&s.Ec(Hj,1),2&t&&s.nc(n=s.ac())&&(e.ripple=n.first)},hostVars:2,hostBindings:function(t,e){1&t&&s.Zb("keydown",function(t){return e.keydown(t)}),2&t&&s.Fb("moving",e.moving)},inputs:{disabled:"disabled",model:"model",removable:"removable",editable:"editable",template:"template",displayBy:"displayBy",identifyBy:"identifyBy",index:"index",hasRipple:"hasRipple",canAddTag:"canAddTag"},outputs:{onSelect:"onSelect",onRemove:"onRemove",onBlur:"onBlur",onKeyDown:"onKeyDown",onTagEdited:"onTagEdited"},decls:4,vars:8,consts:[[3,"ngSwitch","click","dblclick","mousedown","mouseup"],[4,"ngSwitchCase"],["class","tag-wrapper",4,"ngSwitchCase"],[3,"state",4,"ngIf"],[3,"ngTemplateOutletContext","ngTemplateOutlet"],[1,"tag-wrapper"],["spellcheck","false",1,"tag__text","inline",3,"keydown.enter","keydown.escape","click","blur"],["aria-label","Remove tag","role","button",3,"click",4,"ngIf"],["aria-label","Remove tag","role","button",3,"click"],[3,"state"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Zb("click",function(t){return e.select(t)})("dblclick",function(){return e.toggleEditMode()})("mousedown",function(){return e.rippleState="clicked"})("mouseup",function(){return e.rippleState="none"}),s.zc(1,pj,2,6,"div",1),s.zc(2,gj,4,4,"div",2),s.Rb(),s.zc(3,yj,1,2,"tag-ripple",3)),2&t&&(s.Fb("disabled",e.disabled),s.ic("ngSwitch",!!e.template),s.Db("tabindex",-1)("aria-label",e.getDisplayValue(e.model)),s.Cb(1),s.ic("ngSwitchCase",!0),s.Cb(1),s.ic("ngSwitchCase",!1),s.Cb(1),s.ic("ngIf",e.isRippleVisible))},directives:function(){return[Ut,Bt,At,Ht,eD,Hj]},styles:["[_nghost-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%], [_nghost-%COMP%] > div[_ngcontent-%COMP%]:focus{outline:0;overflow:hidden;transition:opacity 1s;z-index:1}[_nghost-%COMP%]{max-width:400px}.blink[_nghost-%COMP%]{-webkit-animation:.3s ease-in-out forwards blink;animation:.3s ease-in-out forwards blink}@-webkit-keyframes blink{0%{opacity:.3}}@keyframes blink{0%{opacity:.3}}[_nghost-%COMP%]   .disabled[_ngcontent-%COMP%]{cursor:not-allowed}[_nghost-%COMP%]   [contenteditable=true][_ngcontent-%COMP%]{outline:0}.tag-wrapper[_ngcontent-%COMP%]{flex-direction:row;display:flex}.tag__text[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}"]}),Bj),Qj=[qx("animation",[Kx("in",Wx({opacity:1})),Kx("out",Wx({opacity:0})),Qx(":enter",[zx("{{ enter }}",Gx([Wx({opacity:0,offset:0,transform:"translate(0px, 20px)"}),Wx({opacity:.3,offset:.3,transform:"translate(0px, -10px)"}),Wx({opacity:.5,offset:.5,transform:"translate(0px, 0px)"}),Wx({opacity:.75,offset:.75,transform:"translate(0px, 5px)"}),Wx({opacity:1,offset:1,transform:"translate(0px, 0px)"})]))]),Qx(":leave",[zx("{{ leave }}",Gx([Wx({opacity:1,transform:"translateX(0)",offset:0}),Wx({opacity:1,transform:"translateX(-15px)",offset:.7}),Wx({opacity:0,transform:"translateX(100%)",offset:1})]))])])],Yj=((qj=function(){function e(t){var n=this;f(this,e),this.injector=t,this.offset=Nj.dropdown.offset,this.focusFirstElement=Nj.dropdown.focusFirstElement,this.showDropdownIfEmpty=Nj.dropdown.showDropdownIfEmpty,this.minimumTextLength=Nj.dropdown.minimumTextLength,this.limitItemsTo=Nj.dropdown.limitItemsTo,this.displayBy=Nj.dropdown.displayBy,this.identifyBy=Nj.dropdown.identifyBy,this.matchingFn=Nj.dropdown.matchingFn,this.appendToBody=Nj.dropdown.appendToBody,this.keepOpen=Nj.dropdown.keepOpen,this.dynamicUpdate=Nj.dropdown.dynamicUpdate,this.zIndex=Nj.dropdown.zIndex,this.items=[],this.tagInput=this.injector.get(tD),this._autocompleteItems=[],this.show=function(){var t=n.tagInput.items.length===n.tagInput.maxItems,e=n.getFormValue(),r=e.trim().length>=n.minimumTextLength,i=n.calculatePosition(),o=n.getMatchingItems(e),a=o.length>0,s=n.tagInput.disable,u=!1===n.isVisible&&(a&&r||n.showDropdownIfEmpty&&a&&!e),c=n.isVisible&&!a;return n.autocompleteObservable&&r?n.getItemsFromObservable(e):!n.showDropdownIfEmpty&&!e||t||s?n.dropdown.hide():(n.setItems(o),void(u?n.dropdown.show(i):c&&n.hide()))},this.requestAdding=function(t){return Object(rf.b)(n,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.createTagModel(t),e.next=3,this.tagInput.onAddingRequested(!0,n).catch(function(){});case 3:case"end":return e.stop()}},e,this)}))},this.resetItems=function(){n.items=[]},this.getItemsFromObservable=function(t){n.setLoadingState(!0),n.autocompleteObservable(t).pipe(Gn()).subscribe(function(e){n.setLoadingState(!1).populateItems(e),n.setItems(n.getMatchingItems(t)),n.items.length?n.dropdown.show(n.calculatePosition()):n.dropdown.hide()},function(){return n.setLoadingState(!1)})}}return p(e,[{key:"autocompleteItems",get:function(){var e=this,n=this._autocompleteItems;return n?n.map(function(n){var r;return"string"==typeof n?(t(r={},e.displayBy,n),t(r,e.identifyBy,n),r):n}):[]},set:function(t){this._autocompleteItems=t}},{key:"ngAfterViewInit",value:function(){var t=this;this.onItemClicked().subscribe(function(e){t.requestAdding(e)}),this.onHide().subscribe(this.resetItems);var e=this.keepOpen;this.tagInput.onTextChange.asObservable().pipe($S(),fx(200),In(function(t){return!1!==e||t.length>0})).subscribe(this.show)}},{key:"updatePosition",value:function(){var t=this.tagInput.inputForm.getElementPosition();this.dropdown.menu.updatePosition(t,this.dynamicUpdate)}},{key:"isVisible",get:function(){return this.dropdown.menu.dropdownState.menuState.isVisible}},{key:"onHide",value:function(){return this.dropdown.onHide}},{key:"onItemClicked",value:function(){return this.dropdown.onItemClicked}},{key:"selectedItem",get:function(){return this.dropdown.menu.dropdownState.dropdownState.selectedItem}},{key:"state",get:function(){return this.dropdown.menu.dropdownState}},{key:"hide",value:function(){this.resetItems(),this.dropdown.hide()}},{key:"scrollListener",value:function(){this.isVisible&&this.dynamicUpdate&&this.updatePosition()}},{key:"onWindowBlur",value:function(){this.dropdown.hide()}},{key:"getFormValue",value:function(){var t=this.tagInput.formValue;return t?t.toString().trim():""}},{key:"calculatePosition",value:function(){return this.tagInput.inputForm.getElementPosition()}},{key:"createTagModel",value:function(e){var n,r="string"==typeof e.value?e.value:e.value[this.displayBy],i="string"==typeof e.value?e.value:e.value[this.identifyBy];return Object.assign(Object.assign({},e.value),(t(n={},this.tagInput.displayBy,r),t(n,this.tagInput.identifyBy,i),n))}},{key:"getMatchingItems",value:function(t){var e=this;if(!t&&!this.showDropdownIfEmpty)return[];var n=this.tagInput.allowDupes;return this.autocompleteItems.filter(function(r){var i=!n&&e.tagInput.tags.some(function(t){return("string"==typeof t.model?t.model:t.model[e.tagInput.identifyBy])===r[e.identifyBy]});return e.matchingFn(t,r)&&!1===i})}},{key:"setItems",value:function(t){this.items=t.slice(0,this.limitItemsTo||t.length)}},{key:"populateItems",value:function(e){var n=this;return this.autocompleteItems=e.map(function(e){var r;return"string"==typeof e?(t(r={},n.displayBy,e),t(r,n.identifyBy,e),r):e}),this}},{key:"setLoadingState",value:function(t){return this.tagInput.isLoading=t,this}}]),e}()).\u0275fac=function(t){return new(t||qj)(s.Nb(s.s))},qj.\u0275cmp=s.Hb({type:qj,selectors:[["tag-input-dropdown"]],contentQueries:function(t,e,n){var r;1&t&&s.Gb(n,s.M,0),2&t&&s.nc(r=s.ac())&&(e.templates=r)},viewQuery:function(t,e){var n;1&t&&s.Ec(cj,1),2&t&&s.nc(n=s.ac())&&(e.dropdown=n.first)},hostBindings:function(t,e){1&t&&s.Zb("scroll",function(){return e.scrollListener()},!1,s.qc)("blur",function(){return e.onWindowBlur()},!1,s.qc)},inputs:{offset:"offset",focusFirstElement:"focusFirstElement",showDropdownIfEmpty:"showDropdownIfEmpty",minimumTextLength:"minimumTextLength",limitItemsTo:"limitItemsTo",displayBy:"displayBy",identifyBy:"identifyBy",matchingFn:"matchingFn",appendToBody:"appendToBody",keepOpen:"keepOpen",dynamicUpdate:"dynamicUpdate",zIndex:"zIndex",autocompleteItems:"autocompleteItems",autocompleteObservable:"autocompleteObservable"},decls:3,vars:6,consts:[[3,"dynamicUpdate"],[3,"focusFirstElement","zIndex","appendToBody","offset"],[3,"value","ngSwitch",4,"ngFor","ngForOf"],[3,"value","ngSwitch"],[3,"innerHTML",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"innerHTML"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(s.Sb(0,"ng2-dropdown",0),s.Sb(1,"ng2-dropdown-menu",1),s.zc(2,kj,3,3,"ng2-menu-item",2),s.Rb(),s.Rb()),2&t&&(s.ic("dynamicUpdate",e.dynamicUpdate),s.Cb(1),s.ic("focusFirstElement",e.focusFirstElement)("zIndex",e.zIndex)("appendToBody",e.appendToBody)("offset",e.offset),s.Cb(1),s.ic("ngForOf",e.items))},directives:[cj,uj,xt,sj,Ut,Bt,qt,Ht],pipes:[Pj],encapsulation:2}),qj);"undefined"!=typeof window&&window;var Xj,Zj,Jj,$j={provide:na,useExisting:Object(s.V)(function(){return tD}),multi:!0},tD=((Zj=function(e){v(r,e);var n=y(r);function r(e,o){var a;return f(this,r),(a=n.call(this)).renderer=e,a.dragProvider=o,a.separatorKeys=Nj.tagInput.separatorKeys,a.separatorKeyCodes=Nj.tagInput.separatorKeyCodes,a.placeholder=Nj.tagInput.placeholder,a.secondaryPlaceholder=Nj.tagInput.secondaryPlaceholder,a.maxItems=Nj.tagInput.maxItems,a.validators=Nj.tagInput.validators,a.asyncValidators=Nj.tagInput.asyncValidators,a.onlyFromAutocomplete=Nj.tagInput.onlyFromAutocomplete,a.errorMessages=Nj.tagInput.errorMessages,a.theme=Nj.tagInput.theme,a.onTextChangeDebounce=Nj.tagInput.onTextChangeDebounce,a.inputId=Nj.tagInput.inputId,a.inputClass=Nj.tagInput.inputClass,a.clearOnBlur=Nj.tagInput.clearOnBlur,a.hideForm=Nj.tagInput.hideForm,a.addOnBlur=Nj.tagInput.addOnBlur,a.addOnPaste=Nj.tagInput.addOnPaste,a.pasteSplitPattern=Nj.tagInput.pasteSplitPattern,a.blinkIfDupe=Nj.tagInput.blinkIfDupe,a.removable=Nj.tagInput.removable,a.editable=Nj.tagInput.editable,a.allowDupes=Nj.tagInput.allowDupes,a.modelAsStrings=Nj.tagInput.modelAsStrings,a.trimTags=Nj.tagInput.trimTags,a.ripple=Nj.tagInput.ripple,a.tabindex=Nj.tagInput.tabIndex,a.disable=Nj.tagInput.disable,a.dragZone=Nj.tagInput.dragZone,a.onRemoving=Nj.tagInput.onRemoving,a.onAdding=Nj.tagInput.onAdding,a.animationDuration=Nj.tagInput.animationDuration,a.onAdd=new s.n,a.onRemove=new s.n,a.onSelect=new s.n,a.onFocus=new s.n,a.onBlur=new s.n,a.onTextChange=new s.n,a.onPaste=new s.n,a.onValidationError=new s.n,a.onTagEdited=new s.n,a.isLoading=!1,a.listeners={keydown:[],keyup:[]},a.inputTextChange=new s.n,a.inputTextValue="",a.errors=[],a.appendTag=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.items.length,n=a.items,r=a.modelAsStrings?t[a.identifyBy]:t;a.items=[].concat(i(n.slice(0,e)),[r],i(n.slice(e,n.length)))},a.createTag=function(e){var n,r=function(t,e){return"string"==typeof t?t.trim():t[e]};return Object.assign(Object.assign({},"string"!=typeof e?e:{}),(t(n={},a.displayBy,a.trimTags?r(e,a.displayBy):e),t(n,a.identifyBy,a.trimTags?r(e,a.identifyBy):e),n))},a.isTagValid=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.dropdown?a.dropdown.selectedItem:void 0,r=a.getItemDisplay(t).trim();if(n&&!e||!r)return!1;var i=a.findDupe(t,e);if(!a.allowDupes&&i&&a.blinkIfDupe){var o=a.tags.find(function(t){return a.getItemValue(t.model)===a.getItemValue(i)});o&&o.blink()}var s=[!i||a.allowDupes,!a.maxItemsReached,e&&a.onlyFromAutocomplete||!a.onlyFromAutocomplete];return s.filter(Boolean).length===s.length},a.onPasteCallback=function(t){return Object(rf.b)(b(a),void 0,void 0,regeneratorRuntime.mark(function e(){var n,r,i,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=void 0,s=void 0,a=Boolean(window.clipboardData),s=a?window.clipboardData:t.clipboardData,n=null===s?"":s.getData(a?"Text":"text/plain")||"",r=n.split(this.pasteSplitPattern).map(function(t){var e=o.createTag(t);return o.setInputValue(e[o.displayBy]),o.onAddingRequested(!1,e)}),i=function(){return setTimeout(function(){return o.setInputValue("")},50)},Promise.all(r).then(function(){o.onPaste.emit(n),i()}).catch(i);case 2:case"end":return e.stop()}var a,s},e,this)}))},a}return p(r,[{key:"inputText",get:function(){return this.inputTextValue},set:function(t){this.inputTextValue=t,this.inputTextChange.emit(t)}},{key:"tabindexAttr",get:function(){return""!==this.tabindex?"-1":""}},{key:"ngAfterViewInit",value:function(){var t=this;this.setUpKeypressListeners(),this.setupSeparatorKeysListener(),this.setUpInputKeydownListeners(),this.onTextChange.observers.length&&this.setUpTextChangeSubscriber(),(this.clearOnBlur||this.addOnBlur)&&this.setUpOnBlurSubscriber(),this.addOnPaste&&this.setUpOnPasteListener();var e=this.inputForm.form.statusChanges;e.pipe(In(function(t){return"PENDING"!==t})).subscribe(function(){t.errors=t.inputForm.getErrorMessages(t.errorMessages)}),this.isProgressBarVisible$=e.pipe(Object(pn.a)(function(e){return"PENDING"===e||t.isLoading})),this.hideForm&&this.inputForm.destroy()}},{key:"ngOnInit",value:function(){void 0!==this.maxItems&&this.items&&this.items.length>this.maxItems&&(this.maxItems=this.items.length,console.warn("The number of items specified was greater than the property max-items.")),this.editable=!this.onlyFromAutocomplete&&this.editable,this.setAnimationMetadata()}},{key:"onRemoveRequested",value:function(t,e){var n=this;return new Promise(function(r){var i=function(i){n.removeItem(i,e),r(t)};n.onRemoving?n.onRemoving(t).pipe(Gn()).subscribe(i):i(t)})}},{key:"onAddingRequested",value:function(t,e,n,r){var i=this;return new Promise(function(o,a){var s=function(e){return i.addItem(t,e,n,r).then(o).catch(a)};return i.onAdding?i.onAdding(e).pipe(Gn()).subscribe(s,a):s(e)})}},{key:"selectItem",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&"string"!=typeof t&&t.readonly||this.selectedTag===t||(this.selectedTag=t,e&&this.onSelect.emit(t))}},{key:"fireEvents",value:function(t,e){var n=this;this.listeners[t].forEach(function(t){return t.call(n,e)})}},{key:"handleKeydown",value:function(t){var e=t.event,n=e.shiftKey||!1;switch(Aj[e.keyCode||e.which]){case"DELETE":if(this.selectedTag&&this.removable){var r=this.items.indexOf(this.selectedTag);this.onRemoveRequested(this.selectedTag,r)}break;case"SWITCH_PREV":this.moveToTag(t.model,"PREV");break;case"SWITCH_NEXT":this.moveToTag(t.model,"NEXT");break;case"TAB":if(n){if(this.isFirstTag(t.model))return;this.moveToTag(t.model,"PREV")}else{if(this.isLastTag(t.model)&&(this.disable||this.maxItemsReached))return;this.moveToTag(t.model,"NEXT")}break;default:return}e.preventDefault()}},{key:"onFormSubmit",value:function(){return Object(rf.b)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.onAddingRequested(!1,this.formValue);case 3:t.next=8;break;case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return");case 8:case"end":return t.stop()}},t,this,[[0,5]])}))}},{key:"setInputValue",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.getControl().setValue(t,{emitEvent:e})}},{key:"getControl",value:function(){return this.inputForm.value}},{key:"focus",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dragProvider.getState("dragging")||(this.selectItem(void 0,!1),t&&(this.inputForm.focus(),this.onFocus.emit(this.formValue)))}},{key:"blur",value:function(){this.onTouched(),this.onBlur.emit(this.formValue)}},{key:"hasErrors",value:function(){return!!this.inputForm&&this.inputForm.hasErrors()}},{key:"isInputFocused",value:function(){return!!this.inputForm&&this.inputForm.isInputFocused()}},{key:"hasCustomTemplate",value:function(){var t=this.templates?this.templates.first:void 0;return Boolean(t&&t!==(this.dropdown&&this.dropdown.templates?this.dropdown.templates.first:void 0))}},{key:"maxItemsReached",get:function(){return void 0!==this.maxItems&&this.items.length>=this.maxItems}},{key:"formValue",get:function(){var t=this.inputForm.value;return t?t.value:""}},{key:"onDragStarted",value:function(t,e,n){t.stopPropagation();var r={zone:this.dragZone,tag:e,index:n};this.dragProvider.setSender(this),this.dragProvider.setDraggedItem(t,r),this.dragProvider.setState({dragging:!0,index:n})}},{key:"onDragOver",value:function(t,e){this.dragProvider.setState({dropping:!0}),this.dragProvider.setReceiver(this),t.preventDefault()}},{key:"onTagDropped",value:function(t,e){var n=this.dragProvider.getDraggedItem(t);n&&n.zone===this.dragZone&&(this.dragProvider.onTagDropped(n.tag,n.index,e),t.preventDefault(),t.stopPropagation())}},{key:"isDropping",value:function(){var t=this.dragProvider.receiver===this,e=this.dragProvider.getState("dropping");return Boolean(t&&e)}},{key:"onTagBlurred",value:function(t,e){this.items[e]=t,this.blur()}},{key:"trackBy",value:function(t,e){return e[this.identifyBy]}},{key:"updateEditedTag",value:function(t){var e=t.tag;this.onTagEdited.emit(e)}},{key:"moveToTag",value:function(t,e){var n=this.isLastTag(t),r=this.isFirstTag(t);if(!("NEXT"===e&&n||"PREV"===e&&r)){var i="NEXT"===e?1:-1,o=this.getTagIndex(t)+i,a=this.getTagAtIndex(o);return a.select.call(a)}this.focus(!0)}},{key:"isFirstTag",value:function(t){return this.tags.first.model===t}},{key:"isLastTag",value:function(t){return this.tags.last.model===t}},{key:"getTagIndex",value:function(t){return this.tags.toArray().findIndex(function(e){return e.model===t})}},{key:"getTagAtIndex",value:function(t){return this.tags.toArray()[t]}},{key:"removeItem",value:function(t,e){this.items=this.getItemsWithout(e),this.selectedTag===t&&this.selectItem(void 0,!1),this.focus(!0,!1),this.onRemove.emit(t)}},{key:"addItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=this.getItemDisplay(n),a=this.createTag(n);return e&&this.setInputValue(this.getItemValue(n,!0)),new Promise(function(n,s){var u=function(){t.setInputValue(""),t.focus(!i,!1),n(o)},c=function(){t.appendTag(a,r),t.onAdd.emit(a),t.dropdown&&(t.dropdown.hide(),t.dropdown.showDropdownIfEmpty&&t.dropdown.show())},l=t.inputForm.form.status,h=t.isTagValid(a,e),f=function(){return t.onValidationError.emit(a),s()};return"VALID"===l&&h?(c(),u()):"INVALID"!==l&&h?"PENDING"===l?t.inputForm.form.statusChanges.pipe(In(function(t){return"PENDING"!==t}),Gn()).subscribe(function(t){return"VALID"===t&&h?(c(),u()):(u(),f())}):void 0:(u(),f())})}},{key:"setupSeparatorKeysListener",value:function(){var t=this;Fj.call(this,"keydown",function(e){var n=t.separatorKeyCodes.indexOf(e.keyCode)>=0,r=t.separatorKeys.indexOf(e.key)>=0;(n||r&&229!==e.keyCode)&&(e.preventDefault(),t.onAddingRequested(!1,t.formValue).catch(function(){}))},this.separatorKeyCodes.length>0||this.separatorKeys.length>0)}},{key:"setUpKeypressListeners",value:function(){var t=this;Fj.call(this,"keydown",function(e){(37===e.keyCode||8===e.keyCode)&&!t.formValue&&t.items.length&&t.tags.last.select.call(t.tags.last)})}},{key:"setUpInputKeydownListeners",value:function(){var t=this;this.inputForm.onKeydown.subscribe(function(e){"Backspace"===e.key&&""===t.formValue.trim()&&e.preventDefault()})}},{key:"setUpOnPasteListener",value:function(){var t=this;this.renderer.listen(this.inputForm.input.nativeElement,"paste",function(e){return t.onPasteCallback(e),e.preventDefault(),!0})}},{key:"setUpTextChangeSubscriber",value:function(){var t=this;this.inputForm.form.valueChanges.pipe(fx(this.onTextChangeDebounce)).subscribe(function(e){t.onTextChange.emit(e.item)})}},{key:"setUpOnBlurSubscriber",value:function(){var t=this;this.inputForm.onBlur.pipe(fx(100),In(function(){return!(t.dropdown&&t.dropdown.isVisible||!t.formValue)})).subscribe(function(){var e=function(){return t.setInputValue("")};if(t.addOnBlur)return t.onAddingRequested(!1,t.formValue,void 0,!0).then(e).catch(e);e()})}},{key:"findDupe",value:function(t,e){var n=this,r=t[e?this.dropdown.identifyBy:this.identifyBy];return this.items.find(function(t){return n.getItemValue(t)===r})}},{key:"setAnimationMetadata",value:function(){this.animationMetadata={value:"in",params:Object.assign({},this.animationDuration)}}}]),r}(Lj)).\u0275fac=function(t){return new(t||Zj)(s.Nb(s.F),s.Nb(Rj))},Zj.\u0275cmp=s.Hb({type:Zj,selectors:[["tag-input"]],contentQueries:function(t,e,n){var r;1&t&&(s.Gb(n,Yj,1),s.Gb(n,s.M,0)),2&t&&(s.nc(r=s.ac())&&(e.dropdown=r.first),s.nc(r=s.ac())&&(e.templates=r))},viewQuery:function(t,e){var n;1&t&&(s.Ec(zj,1),s.Ec(Gj,1)),2&t&&(s.nc(n=s.ac())&&(e.inputForm=n.first),s.nc(n=s.ac())&&(e.tags=n))},hostVars:1,hostBindings:function(t,e){2&t&&s.Db("tabindex",e.tabindexAttr)},inputs:{separatorKeys:"separatorKeys",separatorKeyCodes:"separatorKeyCodes",placeholder:"placeholder",secondaryPlaceholder:"secondaryPlaceholder",maxItems:"maxItems",validators:"validators",asyncValidators:"asyncValidators",onlyFromAutocomplete:"onlyFromAutocomplete",errorMessages:"errorMessages",theme:"theme",onTextChangeDebounce:"onTextChangeDebounce",inputId:"inputId",inputClass:"inputClass",clearOnBlur:"clearOnBlur",hideForm:"hideForm",addOnBlur:"addOnBlur",addOnPaste:"addOnPaste",pasteSplitPattern:"pasteSplitPattern",blinkIfDupe:"blinkIfDupe",removable:"removable",editable:"editable",allowDupes:"allowDupes",modelAsStrings:"modelAsStrings",trimTags:"trimTags",ripple:"ripple",tabindex:"tabindex",disable:"disable",dragZone:"dragZone",onRemoving:"onRemoving",onAdding:"onAdding",animationDuration:"animationDuration",inputText:"inputText"},outputs:{onAdd:"onAdd",onRemove:"onRemove",onSelect:"onSelect",onFocus:"onFocus",onBlur:"onBlur",onTextChange:"onTextChange",onPaste:"onPaste",onValidationError:"onValidationError",onTagEdited:"onTagEdited",inputTextChange:"inputTextChange"},features:[s.Bb([$j]),s.zb],ngContentSelectors:xj,decls:8,vars:27,consts:[[1,"ng2-tag-input",3,"ngClass","click","drop","dragenter","dragover","dragend"],[1,"ng2-tags-container"],[3,"draggable","canAddTag","disabled","hasRipple","index","removable","editable","displayBy","identifyBy","template","model","onSelect","onRemove","onKeyDown","onTagEdited","onBlur","dragstart","drop","dragenter","dragover","dragleave",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inputText","disabled","validators","asyncValidators","hidden","placeholder","inputClass","inputId","tabindex","onSubmit","onBlur","click","onKeydown","onKeyup"],["class","progress-bar",4,"ngIf"],["class","error-messages",3,"ngClass",4,"ngIf"],[3,"draggable","canAddTag","disabled","hasRipple","index","removable","editable","displayBy","identifyBy","template","model","onSelect","onRemove","onKeyDown","onTagEdited","onBlur","dragstart","drop","dragenter","dragover","dragleave"],[1,"progress-bar"],[1,"error-messages",3,"ngClass"],["class","error-message",4,"ngFor","ngForOf"],[1,"error-message"]],template:function(t,e){1&t&&(s.hc(),s.Sb(0,"div",0),s.Zb("click",function(){return e.focus(!0,!1)})("drop",function(t){return e.dragZone?e.onTagDropped(t,void 0):void 0})("dragenter",function(t){return e.dragZone?e.onDragOver(t):void 0})("dragover",function(t){return e.dragZone?e.onDragOver(t):void 0})("dragend",function(){return e.dragZone?e.dragProvider.onDragEnd():void 0}),s.Sb(1,"div",1),s.zc(2,Cj,1,14,"tag",2),s.Sb(3,"tag-input-form",3),s.Zb("onSubmit",function(){return e.onFormSubmit()})("onBlur",function(){return e.blur()})("click",function(){return e.dropdown?e.dropdown.show():void 0})("onKeydown",function(t){return e.fireEvents("keydown",t)})("onKeyup",function(t){return e.fireEvents("keyup",t)}),s.Rb(),s.Rb(),s.zc(4,Oj,1,0,"div",4),s.dc(5,"async"),s.Rb(),s.zc(6,Sj,2,2,"div",5),s.gc(7)),2&t&&(s.Fb("ng2-tag-input--dropping",e.isDropping())("ng2-tag-input--disabled",e.disable)("ng2-tag-input--loading",e.isLoading)("ng2-tag-input--invalid",e.hasErrors())("ng2-tag-input--focused",e.isInputFocused()),s.ic("ngClass",e.theme),s.Db("tabindex",-1),s.Cb(2),s.ic("ngForOf",e.items)("ngForTrackBy",e.trackBy),s.Cb(1),s.ic("inputText",e.inputText)("disabled",e.disable)("validators",e.validators)("asyncValidators",e.asyncValidators)("hidden",e.maxItemsReached)("placeholder",e.items.length?e.placeholder:e.secondaryPlaceholder)("inputClass",e.inputClass)("inputId",e.inputId)("tabindex",e.tabindex),s.Cb(1),s.ic("ngIf",s.ec(5,25,e.isProgressBarVisible$)),s.Cb(2),s.ic("ngIf",e.hasErrors()))},directives:[Tt,xt,zj,At,Gj],pipes:[Jt],styles:['.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:.25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f;border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}.progress-bar[_ngcontent-%COMP%], .progress-bar[_ngcontent-%COMP%]:before{height:2px;width:100%;margin:0}.progress-bar[_ngcontent-%COMP%]{background-color:#2196f3;display:flex;position:absolute;bottom:0}.progress-bar[_ngcontent-%COMP%]:before{background-color:#82c4f8;content:"";-webkit-animation:2s cubic-bezier(.4,0,.2,1) infinite running-progress;animation:2s cubic-bezier(.4,0,.2,1) infinite running-progress}@-webkit-keyframes running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}100%{margin-left:100%;margin-right:0}}@keyframes running-progress{0%{margin-left:0;margin-right:100%}50%{margin-left:25%;margin-right:0}100%{margin-left:100%;margin-right:0}}tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;font-family:Roboto,"Helvetica Neue",sans-serif;font-weight:400;font-size:1em;letter-spacing:.05rem;color:#444;border-radius:16px;transition:.3s;margin:.1rem .3rem .1rem 0;padding:.08rem .45rem;height:32px;line-height:34px;background:#efefef;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#2196f3;color:#fff;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active{background:#0d8aee;color:#fff;box-shadow:0 2px 3px 1px #d4d1d1}tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#e2e2e2;color:initial;box-shadow:0 2px 3px 1px #d4d1d1}tag.readonly[_ngcontent-%COMP%]{cursor:default}tag.readonly[_ngcontent-%COMP%]:focus, tag[_ngcontent-%COMP%]:focus{outline:0}tag.tag--editing[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;cursor:text}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;border-radius:0;background:#f9f9f9;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active, .minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#d0d0d0;color:initial}.minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#ececec}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.minimal[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .minimal[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.minimal[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;color:#f9f9f9;border-radius:3px;background:#444;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#efefef;color:#444}.dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#2b2b2b;color:#f9f9f9}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.dark[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.dark[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;color:#f9f9f9;border-radius:.25rem;background:#0275d8;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active, .bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#025aa5}.bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#0267bf;color:#f9f9f9}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;font-family:inherit;font-weight:400;font-size:95%;color:#fff;border-radius:.25em;background:#5bc0de;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative;padding:.25em .6em;text-align:center;white-space:nowrap}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):active, .bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(.readonly):not(.tag--editing):focus{background:#28a1c5}.bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#46b8da;color:#fff}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]{cursor:default}.bootstrap3-info[_ngcontent-%COMP%]   tag.readonly[_ngcontent-%COMP%]:focus, .bootstrap3-info[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info[_ngcontent-%COMP%]   tag.tag--editing[_ngcontent-%COMP%]{cursor:text}[_nghost-%COMP%]{display:block}'],data:{animation:Qj}}),Zj),eD=((Xj=function t(){f(this,t)}).\u0275fac=function(t){return new(t||Xj)},Xj.\u0275cmp=s.Hb({type:Xj,selectors:[["delete-icon"]],decls:3,vars:0,consts:[["height","16px","viewBox","0 0 32 32","width","16px"],["d","M17.459,16.014l8.239-8.194c0.395-0.391,0.395-1.024,0-1.414c-0.394-0.391-1.034-0.391-1.428,0  l-8.232,8.187L7.73,6.284c-0.394-0.395-1.034-0.395-1.428,0c-0.394,0.396-0.394,1.037,0,1.432l8.302,8.303l-8.332,8.286  c-0.394,0.391-0.394,1.024,0,1.414c0.394,0.391,1.034,0.391,1.428,0l8.325-8.279l8.275,8.276c0.394,0.395,1.034,0.395,1.428,0  c0.394-0.396,0.394-1.037,0-1.432L17.459,16.014z","fill","#121313"]],template:function(t,e){1&t&&(s.Sb(0,"span"),s.bc(),s.Sb(1,"svg",0),s.Ob(2,"path",1),s.Rb(),s.Rb())},styles:[".dark[_ngcontent-%COMP%]   tag[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #323232}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]{background-color:#fff;display:inline-block;color:#555;vertical-align:middle;max-width:100%;height:42px;line-height:44px}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;box-shadow:none;outline:0;background-color:transparent;padding:0 6px;margin:0;width:auto;max-width:inherit}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-moz-placeholder{color:#777;opacity:1}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#777}.ng2-tag-input.bootstrap3-info[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{border:none;box-shadow:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px rgba(0,0,0,.4);border:1px solid #ccc}.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;transition:.25s;padding:.25rem 0;min-height:32px;cursor:text;border-bottom:2px solid #efefef}.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #2196f3}.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #f44336}.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.minimal.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid transparent}.minimal.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.minimal.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.minimal.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.minimal.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.minimal.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.dark.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #444}.dark.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.dark.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.dark.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.dark.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.dark.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:2px solid #efefef}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap.ng2-tag-input.ng2-tag-input--focused[_ngcontent-%COMP%]{border-bottom:2px solid #0275d8}.bootstrap.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{border-bottom:2px solid #d9534f}.bootstrap.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]{display:block;flex-direction:row;flex-wrap:wrap;position:relative;padding:4px;cursor:text;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);border-radius:4px}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]:focus{outline:0}.bootstrap3-info.ng2-tag-input.ng2-tag-input--dropping[_ngcontent-%COMP%]{opacity:.7}.bootstrap3-info.ng2-tag-input.ng2-tag-input--invalid[_ngcontent-%COMP%]{box-shadow:inset 0 1px 1px #d9534f;border-bottom:1px solid #d9534f}.bootstrap3-info.ng2-tag-input.ng2-tag-input--loading[_ngcontent-%COMP%]{border:none}.bootstrap3-info.ng2-tag-input.ng2-tag-input--disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{margin:.1em 0}.bootstrap3-info.ng2-tag-input[_ngcontent-%COMP%]   .ng2-tags-container[_ngcontent-%COMP%]{flex-wrap:wrap;display:flex}.error-message[_ngcontent-%COMP%]{font-size:.8em;color:#f44336;margin:.5em 0 0}.bootstrap[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#d9534f}delete-icon[_nghost-%COMP%]{width:20px;height:16px;transition:.15s;display:inline-block;text-align:right}delete-icon[_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}delete-icon[_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}delete-icon[_nghost-%COMP%]:hover{transform:scale(1.5) translateY(-3px)}.dark[_nghost-%COMP%], .dark   [_nghost-%COMP%]{text-align:right}.dark[_nghost-%COMP%]   path[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.dark[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.minimal[_nghost-%COMP%], .minimal   [_nghost-%COMP%]{text-align:right}.minimal[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#444}.minimal[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .minimal   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}.bootstrap[_nghost-%COMP%], .bootstrap   [_nghost-%COMP%]{text-align:right}.bootstrap[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap[_nghost-%COMP%]   svg[_ngcontent-%COMP%], .bootstrap   [_nghost-%COMP%]   svg[_ngcontent-%COMP%]{vertical-align:bottom;height:34px}tag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], tag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.darktag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .darktag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .darktag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .darktag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.minimaltag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimaltag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimaltag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .minimaltag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#000}.bootstraptag:active[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstraptag:active   [_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstraptag:focus[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstraptag:focus   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.bootstrap3-info[_nghost-%COMP%], .bootstrap3-info   [_nghost-%COMP%]{height:inherit}.bootstrap3-info[_nghost-%COMP%]   path[_ngcontent-%COMP%], .bootstrap3-info   [_nghost-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}"]}),Xj),nD=new jj,rD=((Jj=function(){function t(){f(this,t)}return p(t,null,[{key:"withDefaults",value:function(t){nD.setOptions(t)}}]),t}()).\u0275mod=s.Lb({type:Jj}),Jj.\u0275inj=s.Kb({factory:function(t){return new(t||Jj)},providers:[Rj,{provide:aa,useValue:!1}],imports:[[te,Xs,Ys,lj]]}),Jj),iD=function(){return{transform:"rotate(180deg)"}};function oD(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",17),s.Sb(1,"a",18),s.Zb("click",function(){return s.rc(n),s.cc().expand()}),s.Rb(),s.Rb()}if(2&t){var r=s.cc();s.ic("ngStyle",r.expanded&&s.kc(1,iD))}}var aD,sD,uD=((aD=function(){function t(e,n,r,i,o){var a=this;f(this,t),this.auth=e,this.formBuilder=n,this.firestore=r,this.common=i,this.questionService=o,this.question={detail:null},this.questionCheckbox=!1,this.tags=[],this.expanded=!1,this.expand=function(){a.expanded=!a.expanded},this.send=function(){return Xo(a,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=this.question.question,!t.t0){t.next=14;break}return t.next=4,this.common.createTags(this.tags,this.questionService);case 4:if(t.t1=t.sent,t.t1){t.next=10;break}return t.next=8,this.questionService.getTagByName("general");case 8:t.t2=t.sent.ref,t.t1=[t.t2];case 10:this.question.tags=t.t1,this.questionService.sendQuestion(this.question),this.expanded=!1,GT(1500).subscribe(function(){return e.resetQuestion()});case 14:case"end":return t.stop()}},t,this)}))},this.resetQuestion=function(){a.expanded=!1,a.tags=[],a.question={detail:null},a.questionCheckbox=!1}}return p(t,[{key:"ngOnInit",value:function(){}},{key:"keyEvent",value:function(t){"Escape"==t.key&&this.resetQuestion()}}]),t}()).\u0275fac=function(t){return new(t||aD)(s.Nb(gN),s.Nb(Qs),s.Nb(MT),s.Nb(pN),s.Nb(HN))},aD.\u0275cmp=s.Hb({type:aD,selectors:[["app-question"]],hostBindings:function(t,e){1&t&&s.Zb("keyup",function(t){return e.keyEvent(t)},!1,s.qc)},decls:23,vars:11,consts:[[1,"overlay"],[1,"neon"],[1,"question-input-container"],["type","checkbox","id","checkbox",1,"c-checkbox",3,"ngModel","ngModelChange"],[1,"c-formContainer"],[1,"c-form"],["placeholder","lol","type","text","name","question","required","",1,"c-form__input",3,"ngModel","ngModelChange"],["for","checkbox",1,"c-form__buttonLabel",3,"click"],["type","button",1,"c-form__button"],["for","checkbox","data-title","Ask something!",1,"c-form__toggle"],[1,"hidden-detail-container"],[1,"tag-container"],[3,"placeholder","secondaryPlaceholder","theme","ngModel","modelAsStrings","ngModelChange"],[1,"detail-container"],[1,"detail-title"],["required","",1,"detail-textarea",3,"ngModel","ngModelChange"],["class","arrow-container",3,"ngStyle",4,"ngIf"],[1,"arrow-container",3,"ngStyle"],["data-ca3_iconfont","ETmodules","data-ca3_icon","",1,"ca3-scroll-down-link","ca3-scroll-down-arrow",3,"click"]],template:function(t,e){1&t&&(s.Sb(0,"header"),s.Sb(1,"div",0),s.Sb(2,"h1",1),s.Bc(3,"AskAway"),s.Rb(),s.Sb(4,"div",2),s.Sb(5,"input",3),s.Zb("ngModelChange",function(t){return e.questionCheckbox=t}),s.Rb(),s.Sb(6,"div",4),s.Sb(7,"form",5),s.Sb(8,"input",6),s.Zb("ngModelChange",function(t){return e.question.question=t}),s.Rb(),s.Sb(9,"label",7),s.Zb("click",function(){return e.send()}),s.Sb(10,"button",8),s.Bc(11,"Send"),s.Rb(),s.Rb(),s.Ob(12,"label",9),s.Rb(),s.Rb(),s.Rb(),s.Ob(13,"br"),s.Sb(14,"div",10),s.Sb(15,"div",11),s.Sb(16,"div"),s.Sb(17,"tag-input",12),s.Zb("ngModelChange",function(t){return e.tags=t}),s.Rb(),s.Rb(),s.Rb(),s.Sb(18,"div",13),s.Sb(19,"h4",14),s.Bc(20,"Tell us more about your question"),s.Rb(),s.Sb(21,"textarea",15),s.Zb("ngModelChange",function(t){return e.question.detail=t}),s.Rb(),s.Rb(),s.Rb(),s.zc(22,oD,2,2,"div",16),s.Rb(),s.Rb()),2&t&&(s.Cb(5),s.ic("ngModel",e.questionCheckbox),s.Cb(3),s.ic("@valueChanged",void 0)("ngModel",e.question.question),s.Cb(6),s.ic("@detailExpand",e.expanded?"expanded":"collapsed"),s.Cb(3),s.ic("placeholder","Tags")("secondaryPlaceholder","+ Add tags")("theme","foundation-theme")("ngModel",e.tags)("modelAsStrings",!0),s.Cb(4),s.ic("ngModel",e.question.detail),s.Cb(1),s.ic("ngIf",e.questionCheckbox))},directives:[ia,Va,Ms,Ls,Ua,Ns,sa,Hs,tD,At,zt],styles:["header[_ngcontent-%COMP%]{text-align:center;width:100%;max-height:10000px;background-size:cover;background-attachment:fixed;position:relative;overflow:hidden;border-radius:0 0 85% 85%/30%;transition:max-height .4s ease-in}header[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{width:100%;height:100%;padding:1px;color:#fff;text-shadow:1px 1px 1px #333;background-image:linear-gradient(135deg,var(--primary-color) 10%,var(--dark-background));transition:.4s}.hidden-detail-container[_ngcontent-%COMP%]{overflow:hidden}h1[_ngcontent-%COMP%]{font-size:80px}h1[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{margin-bottom:30px}.question-input-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.arrow-container[_ngcontent-%COMP%]{width:50px;height:50px;margin:2rem auto 1rem;display:flex;width:100%;justify-content:center}[data-ca3_icon][_ngcontent-%COMP%]:before{font-weight:400;content:attr(data-ca3_icon)}.ca3-scroll-down-arrow[_ngcontent-%COMP%]{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2hldnJvbl90aGluX2Rvd24iIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgMjAgMjAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDIwIDIwIiBmaWxsPSJ3aGl0ZSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTE3LjQxOCw2LjEwOWMwLjI3Mi0wLjI2OCwwLjcwOS0wLjI2OCwwLjk3OSwwYzAuMjcsMC4yNjgsMC4yNzEsMC43MDEsMCwwLjk2OWwtNy45MDgsNy44M2MtMC4yNywwLjI2OC0wLjcwNywwLjI2OC0wLjk3OSwwbC03LjkwOC03LjgzYy0wLjI3LTAuMjY4LTAuMjctMC43MDEsMC0wLjk2OWMwLjI3MS0wLjI2OCwwLjcwOS0wLjI2OCwwLjk3OSwwTDEwLDEzLjI1TDE3LjQxOCw2LjEwOXoiLz48L3N2Zz4=);background-size:contain;background-repeat:no-repeat}.ca3-scroll-down-link[_ngcontent-%COMP%]{cursor:pointer;height:60px;width:80px;margin:0;line-height:60px;color:#fff;z-index:100;text-decoration:none;text-shadow:0 0 3px rgba(0,0,0,.4);-webkit-animation:ca3_fade_move_down 2s ease-in-out infinite;animation:ca3_fade_move_down 2s ease-in-out infinite}@-webkit-keyframes ca3_fade_move_down{0%{-webkit-transform:translateY(-20px);opacity:0}50%{opacity:1}to{-webkit-transform:translateY(20px);opacity:0}}@keyframes ca3_fade_move_down{0%{transform:translateY(-20px);opacity:0}50%{opacity:1}to{transform:translateY(20px);opacity:0}}.detail-title[_ngcontent-%COMP%]{width:30%;margin:1rem auto .5rem;text-align:left}.detail-textarea[_ngcontent-%COMP%]{outline:none;box-sizing:border-box;width:30%;height:160px;border-radius:6px;font-weight:bolder;font-size:larger;color:var(--secondary-color);background-color:hsla(0,0%,100%,.41);transition:.4s}.detail-textarea[_ngcontent-%COMP%]:focus, .detail-textarea[_ngcontent-%COMP%]:valid{background-color:#fff;transition:.4s}.detail-textarea[_ngcontent-%COMP%]::-webkit-scrollbar{width:4px}.detail-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px var(--secondary-color-faded);border-radius:0 6px 6px 0}.detail-textarea[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:var(--secondary-color);border-radius:0 6px 0 0;outline:none}.tag-container[_ngcontent-%COMP%]{width:30%;margin:2rem auto 1rem}  input.ng2-tag-input__text-input{background-color:transparent;color:var(--secondary-color)}  input.ng2-tag-input__text-input::-moz-placeholder{color:var(--secondary-color-faded)}  input.ng2-tag-input__text-input::placeholder{color:var(--secondary-color-faded)}",'@charset "UTF-8";.c-checkbox[_ngcontent-%COMP%]{display:none}.c-checkbox[_ngcontent-%COMP%]:checked + .c-formContainer[_ngcontent-%COMP%]   .c-form[_ngcontent-%COMP%]{width:60em}.c-checkbox[_ngcontent-%COMP%]:checked + .c-formContainer[_ngcontent-%COMP%]   .c-form__toggle[_ngcontent-%COMP%]{visibility:hidden;opacity:0;transform:scale(.7)}.c-checkbox[_ngcontent-%COMP%]:checked + .c-formContainer[_ngcontent-%COMP%]   .c-form__buttonLabel[_ngcontent-%COMP%], .c-checkbox[_ngcontent-%COMP%]:checked + .c-formContainer[_ngcontent-%COMP%]   .c-form__input[_ngcontent-%COMP%]{transition:.2s .1s;visibility:visible;opacity:1;transform:scale(1)}.c-checkbox[_ngcontent-%COMP%]:checked + .c-formContainer[_ngcontent-%COMP%]   .c-form__input[_ngcontent-%COMP%]:required:valid ~ .c-form__toggle[_ngcontent-%COMP%]:before, .c-checkbox[_ngcontent-%COMP%]:not(:checked) + .c-formContainer[_ngcontent-%COMP%]   .c-form__input[_ngcontent-%COMP%]:required:valid ~ .c-form__toggle[_ngcontent-%COMP%]:before{transition:1s ease-out;content:"Question submitted! \ud83d\ude0a"}.c-checkbox[_ngcontent-%COMP%]:not(:checked) + .c-formContainer[_ngcontent-%COMP%]   .c-form__input[_ngcontent-%COMP%]:required:valid ~ .c-form__toggle[_ngcontent-%COMP%]{pointer-events:none;cursor:default}.c-form[_ngcontent-%COMP%], .c-form__toggle[_ngcontent-%COMP%], .c-formContainer[_ngcontent-%COMP%]{width:20em;height:5.25em}.c-formContainer[_ngcontent-%COMP%]{position:relative;font-weight:700}.c-form[_ngcontent-%COMP%], .c-form__toggle[_ngcontent-%COMP%]{position:absolute;border-radius:6.25em;background-color:#fff;transition:.2s}.c-form[_ngcontent-%COMP%]{left:50%;transform:translateX(-50%);padding:.625em;box-sizing:border-box;box-shadow:0 .125em .3125em rgba(0,0,0,.3)}.c-form[_ngcontent-%COMP%], .c-form__toggle[_ngcontent-%COMP%]{display:flex;justify-content:center}.c-form__toggle[_ngcontent-%COMP%]{color:var(--secondary-color);top:0;cursor:pointer;z-index:1;align-items:center}.c-form__toggle[_ngcontent-%COMP%]:before{font-size:1.75em;content:attr(data-title)}.c-form__button[_ngcontent-%COMP%], .c-form__input[_ngcontent-%COMP%]{font:inherit;border:0;outline:0;border-radius:5em;box-sizing:border-box}.c-form__buttonLabel[_ngcontent-%COMP%], .c-form__input[_ngcontent-%COMP%]{font-size:1.75em;opacity:0;visibility:hidden;transform:scale(.7);transition:0s}.c-form__input[_ngcontent-%COMP%]{color:var(--secondary-color);height:100%;width:100%;padding:0 .714em}.c-form__input[_ngcontent-%COMP%]::-moz-placeholder{color:var(--secondary-color-faded)}.c-form__input[_ngcontent-%COMP%]::placeholder{color:var(--secondary-color-faded)}.c-form__input[_ngcontent-%COMP%]:required:valid{color:var(--secondary-color)}.c-form__input[_ngcontent-%COMP%]:required:valid + .c-form__buttonLabel[_ngcontent-%COMP%]{color:var(--base-font-color)}.c-form__input[_ngcontent-%COMP%]:required:valid + .c-form__buttonLabel[_ngcontent-%COMP%]:before{pointer-events:auto}.c-form__buttonLabel[_ngcontent-%COMP%]{color:var(--base-font-color);height:100%;width:auto}.c-form__buttonLabel[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;pointer-events:none;cursor:pointer}.c-form__button[_ngcontent-%COMP%]{color:inherit;padding:0;height:100%;width:5em;background-color:var(--secondary-color)}.c-form__button[_ngcontent-%COMP%]:disabled{background-color:var(--secondary-color-faded)}',"tag-input .ng2-tag-input.foundation-theme{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid #eb960e}  tag-input .ng2-tag-input.foundation-theme:focus{outline:0}  tag-input .ng2-tag-input.foundation-theme.ng2-tag-input--dropping{opacity:.7}  tag-input .ng2-tag-input.foundation-theme.ng2-tag-input--loading{border:none}  tag-input .ng2-tag-input.foundation-theme.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}  tag-input .ng2-tag-input.foundation-theme .ng2-tags-container{flex-wrap:wrap;display:flex}  tag-input .ng2-tag-input.foundation-theme tag{display:flex;flex-direction:row;flex-wrap:wrap;color:#fff;border-radius:1em;background:#eb960e;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}  tag-input .ng2-tag-input.foundation-theme tag:not(.readonly):not(.tag--editing):active,   tag-input .ng2-tag-input.foundation-theme tag:not(.readonly):not(.tag--editing):focus{background:#bb770b}  tag-input .ng2-tag-input.foundation-theme tag:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#bb770b;color:#fff}  tag-input .ng2-tag-input.foundation-theme tag.readonly{cursor:default}  tag-input .ng2-tag-input.foundation-theme tag.readonly:focus,   tag-input .ng2-tag-input.foundation-theme tag:focus{outline:0}  tag-input .ng2-tag-input.foundation-theme tag.tag--editing{cursor:text}  tag-input .ng2-tag-input.foundation-theme tag delete-icon{transition:all .35s;text-align:right}  tag-input .ng2-tag-input.foundation-theme tag delete-icon path{fill:#fff}  tag-input .ng2-tag-input.foundation-theme tag delete-icon svg{vertical-align:bottom;height:34px}"],data:{animation:[VN,UN,BN]}}),aD),cD=["scrollElement"],lD=((sD=function(){function t(){f(this,t),this.goTo=function(t){window.open(t,"_blank")}}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||sD)},sD.\u0275cmp=s.Hb({type:sD,selectors:[["app-footer"]],viewQuery:function(t,e){var n;1&t&&s.Ec(cD,1),2&t&&s.nc(n=s.ac())&&(e.scrollElement=n.first)},decls:37,vars:0,consts:[[1,"footer-container"],["scrollElement",""],[1,"menu-container"],[1,"menu"],[1,"label"],[1,"spacer"],[1,"item",3,"click"],[1,"item"],[3,"click"],[1,"footer-detail-container"],[1,"personal-info-container"],[1,"hint"],[1,"divider","footer-divider"],["href","mailto://gergo.marcell.turi@gmail.com",1,"hint","hint-email"],[1,"horizontal-divider"],[1,"footer-detail"],[1,"image-container"],["src","https://cdn4.iconfinder.com/data/icons/iconsimple-logotypes/512/github-512.png",3,"click"]],template:function(t,e){1&t&&(s.Sb(0,"div",0,1),s.Sb(2,"div",2),s.Sb(3,"div",3),s.Sb(4,"div",4),s.Bc(5,"About me"),s.Rb(),s.Ob(6,"div",5),s.Sb(7,"div",6),s.Zb("click",function(){return e.goTo("https://www.facebook.com/gergomarcellturi/")}),s.Sb(8,"span"),s.Bc(9,"Facebook"),s.Rb(),s.Rb(),s.Sb(10,"div",6),s.Zb("click",function(){return e.goTo("https://twitter.com/gergo_marcell")}),s.Sb(11,"span"),s.Bc(12,"Twitter"),s.Rb(),s.Rb(),s.Sb(13,"div",7),s.Sb(14,"span",8),s.Zb("click",function(){return e.goTo("https://www.youtube.com/watch?v=ETfiUYij5UE")}),s.Bc(15,"Fire mixtape"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(16,"div",9),s.Sb(17,"div",10),s.Sb(18,"span"),s.Bc(19,"Turi, Gerg\u0151 Marcell"),s.Rb(),s.Sb(20,"span",11),s.Bc(21,"DEIK PTI BSc"),s.Rb(),s.Sb(22,"span",11),s.Bc(23,"Neptun: OX3YA0"),s.Rb(),s.Ob(24,"span",12),s.Sb(25,"span"),s.Sb(26,"a",13),s.Bc(27,"gergo.marcell.turi@gmail.com"),s.Rb(),s.Rb(),s.Rb(),s.Ob(28,"div",14),s.Sb(29,"div",15),s.Bc(30," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur, consectetur consequatur deleniti doloribus eligendi est facilis fuga nam obcaecati odit possimus provident saepe, sed unde ut. Aperiam consectetur necessitatibus veritatis. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dolorum eaque esse excepturi minima minus non ratione repellat sint tempore voluptates. Architecto blanditiis corporis debitis dicta illum iste iusto quisquam unde! Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur cum doloremque eos eveniet fugit itaque labore maxime modi numquam optio perferendis possimus qui, ratione tempora tempore tenetur unde? Libero, voluptatibus. "),s.Ob(31,"br"),s.Ob(32,"br"),s.Bc(33," Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusamus aspernatur aut ea enim minima, molestias neque perferendis quaerat repellendus sit, sunt, tempore ullam vero? Consequatur in ipsa numquam quam sapiente! Lorem ipsum dolor sit amet, consectetur adipisicing elit. A ab aliquid assumenda aut cum deleniti est eum, explicabo fugiat labore molestias optio, provident quasi ratione rem sapiente similique tempore veritatis! "),s.Rb(),s.Ob(34,"div",14),s.Sb(35,"div",16),s.Sb(36,"img",17),s.Zb("click",function(){return e.goTo("https://github.com/gergomarcellturi/ask-away")}),s.Rb(),s.Rb(),s.Rb(),s.Rb())},styles:['@import url("https://fonts.googleapis.com/css?family=Lato");.footer-container[_ngcontent-%COMP%]{background-color:var(--dark-background);padding:1rem;width:100%}.personal-info-container[_ngcontent-%COMP%]{border-right:3px solid var(--secondary-color-faded);margin-left:5%;flex:1;font-size:xx-large;display:flex;flex-direction:column;color:var(--base-font-color)}.footer-divider[_ngcontent-%COMP%]{margin-left:0}.hint-email[_ngcontent-%COMP%]:hover{color:var(--base-font-color);transition:.4s;cursor:pointer}.hint-email[_ngcontent-%COMP%]{text-decoration:none}.horizontal-divider[_ngcontent-%COMP%]{height:100%;margin:2rem auto;width:0!important}.footer-detail[_ngcontent-%COMP%]{display:flex;text-align:justify;flex:2;flex-direction:column;color:var(--base-font-color);font-size:large}.footer-detail-container[_ngcontent-%COMP%]{box-sizing:border-box;margin:5rem auto 2rem;display:flex;width:90%;flex-direction:row;justify-content:space-around}.footer-detail-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:1rem}.image-container[_ngcontent-%COMP%]{border-left:3px solid var(--secondary-color-faded);flex:1}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;cursor:pointer;margin:auto;height:auto;width:auto;max-width:70%;max-height:70%}.menu[_ngcontent-%COMP%]{text-transform:uppercase;color:var(--base-font-color);display:inline-block;cursor:pointer;pointer-events:none;position:relative;margin-left:1rem;margin-top:1rem}.menu[_ngcontent-%COMP%]:hover{pointer-events:all}.label[_ngcontent-%COMP%]{pointer-events:all}.label[_ngcontent-%COMP%], .spacer[_ngcontent-%COMP%]{display:inline-block;cursor:pointer}.spacer[_ngcontent-%COMP%]{width:80px;margin-left:15px;margin-right:15px;vertical-align:middle;position:relative}.spacer[_ngcontent-%COMP%]:before{content:"";position:absolute;border-bottom:1px solid #fff;height:1px;width:0;transition:width .25s ease;transition-delay:.7s}.item[_ngcontent-%COMP%]{position:relative;display:inline-block;margin-right:30px;top:10px;opacity:0;transition:opacity .5s ease,top .5s ease;transition-delay:0s}span[_ngcontent-%COMP%]{transition:color .5s ease}.item[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:var(--secondary-color)}.menu[_ngcontent-%COMP%]:hover   .spacer[_ngcontent-%COMP%]:before{width:100%;transition-delay:0s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]{opacity:1;top:0}.item[_ngcontent-%COMP%]:first-child{transition-delay:.45s}.item[_ngcontent-%COMP%]:nth-child(2){transition-delay:.4s}.item[_ngcontent-%COMP%]:nth-child(3){transition-delay:.35s}.item[_ngcontent-%COMP%]:nth-child(4){transition-delay:.3s}.item[_ngcontent-%COMP%]:nth-child(5){transition-delay:.25s}.item[_ngcontent-%COMP%]:nth-child(6){transition-delay:.2s}.item[_ngcontent-%COMP%]:nth-child(7){transition-delay:.15s}.item[_ngcontent-%COMP%]:nth-child(8){transition-delay:.1s}.item[_ngcontent-%COMP%]:nth-child(9){transition-delay:.05s}.item[_ngcontent-%COMP%]:nth-child(10){transition-delay:0s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:first-child{transition-delay:.25s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(2){transition-delay:.3s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(3){transition-delay:.35s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(4){transition-delay:.4s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(5){transition-delay:.45s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(6){transition-delay:.5s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(7){transition-delay:.55s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(8){transition-delay:.6s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(9){transition-delay:.65s}.menu[_ngcontent-%COMP%]:hover   .item[_ngcontent-%COMP%]:nth-child(10){transition-delay:.7s}']}),sD),hD={tooltipState:qx("state",[Kx("initial, void, hidden",Wx({opacity:0,transform:"scale(0)"})),Kx("visible",Wx({transform:"scale(1)"})),Qx("* => visible",zx("200ms cubic-bezier(0, 0, 0.2, 1)",Gx([Wx({opacity:0,transform:"scale(0)",offset:0}),Wx({opacity:.5,transform:"scale(0.99)",offset:.5}),Wx({opacity:1,transform:"scale(1)",offset:1})]))),Qx("* => hidden",zx("100ms cubic-bezier(0, 0, 0.2, 1)",Wx({opacity:0})))])},fD=aI({passive:!0});function dD(t){return Error('Tooltip position "'.concat(t,'" is invalid.'))}var pD,vD,gD,yD=new s.r("mat-tooltip-scroll-strategy"),mD={provide:yD,deps:[cx],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},bD=new s.r("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),_D=((gD=function(){function t(e,n,r,i,o,a,s,u,c,l,h,d){var p=this;f(this,t),this._overlay=e,this._elementRef=n,this._scrollDispatcher=r,this._viewContainerRef=i,this._ngZone=o,this._platform=a,this._ariaDescriber=s,this._focusMonitor=u,this._dir=l,this._defaultOptions=h,this._position="below",this._disabled=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=new Map,this._destroyed=new Qe.a,this._handleKeydown=function(t){p._isTooltipVisible()&&27===t.keyCode&&!function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.length?n.some(function(e){return t[e]}):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}(t)&&(t.preventDefault(),t.stopPropagation(),p._ngZone.run(function(){return p.hide(0)}))},this._scrollStrategy=c,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),u.monitor(n).pipe(XT(this._destroyed)).subscribe(function(t){t?"keyboard"===t&&o.run(function(){return p.show()}):o.run(function(){return p.hide(0)})}),o.runOutsideAngular(function(){n.nativeElement.addEventListener("keydown",p._handleKeydown)})}return p(t,[{key:"position",get:function(){return this._position},set:function(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=LT(t),this._disabled&&this.hide(0)}},{key:"message",get:function(){return this._message},set:function(t){var e=this;this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=t?"".concat(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._updateTooltipMessage(),this._ngZone.runOutsideAngular(function(){Promise.resolve().then(function(){e._ariaDescriber.describe(e._elementRef.nativeElement,e.message)})}))}},{key:"tooltipClass",get:function(){return this._tooltipClass},set:function(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}},{key:"ngOnInit",value:function(){this._setupPointerEvents()}},{key:"ngOnDestroy",value:function(){var t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(function(e,n){t.removeEventListener(n,e,fD)}),this._passiveListeners.clear(),this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message),this._focusMonitor.stopMonitoring(t)}},{key:"show",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.showDelay;if(!this.disabled&&this.message&&(!this._isTooltipVisible()||this._tooltipInstance._showTimeoutId||this._tooltipInstance._hideTimeoutId)){var n=this._createOverlay();this._detach(),this._portal=this._portal||new OI(wD,this._viewContainerRef),this._tooltipInstance=n.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(XT(this._destroyed)).subscribe(function(){return t._detach()}),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}}},{key:"hide",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.hideDelay;this._tooltipInstance&&this._tooltipInstance.hide(t)}},{key:"toggle",value:function(){this._isTooltipVisible()?this.hide():this.show()}},{key:"_isTooltipVisible",value:function(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}},{key:"_createOverlay",value:function(){var t=this;if(this._overlayRef)return this._overlayRef;var e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),n=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return n.positionChanges.pipe(XT(this._destroyed)).subscribe(function(e){t._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&t._tooltipInstance.isVisible()&&t._ngZone.run(function(){return t.hide(0)})}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:n,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(XT(this._destroyed)).subscribe(function(){return t._detach()}),this._overlayRef}},{key:"_detach",value:function(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}},{key:"_updatePosition",value:function(){var t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}},{key:"_getOrigin",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n||"below"==n)t={originX:"center",originY:"above"==n?"top":"bottom"};else if("before"==n||"left"==n&&e||"right"==n&&!e)t={originX:"start",originY:"center"};else{if(!("after"==n||"right"==n&&e||"left"==n&&!e))throw dD(n);t={originX:"end",originY:"center"}}var r=this._invertPosition(t.originX,t.originY);return{main:t,fallback:{originX:r.x,originY:r.y}}}},{key:"_getOverlayPosition",value:function(){var t,e=!this._dir||"ltr"==this._dir.value,n=this.position;if("above"==n)t={overlayX:"center",overlayY:"bottom"};else if("below"==n)t={overlayX:"center",overlayY:"top"};else if("before"==n||"left"==n&&e||"right"==n&&!e)t={overlayX:"end",overlayY:"center"};else{if(!("after"==n||"right"==n&&e||"left"==n&&!e))throw dD(n);t={overlayX:"start",overlayY:"center"}}var r=this._invertPosition(t.overlayX,t.overlayY);return{main:t,fallback:{overlayX:r.x,overlayY:r.y}}}},{key:"_updateTooltipMessage",value:function(){var t=this;this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(wn(1),XT(this._destroyed)).subscribe(function(){t._tooltipInstance&&t._overlayRef.updatePosition()}))}},{key:"_setTooltipClass",value:function(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}},{key:"_invertPosition",value:function(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}},{key:"_setupPointerEvents",value:function(){var t=this;if(this._platform.IOS||this._platform.ANDROID){if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();var e=function(){clearTimeout(t._touchstartTimeout),t.hide(t._defaultOptions.touchendHideDelay)};this._passiveListeners.set("touchend",e).set("touchcancel",e).set("touchstart",function(){clearTimeout(t._touchstartTimeout),t._touchstartTimeout=setTimeout(function(){return t.show()},500)})}}else this._passiveListeners.set("mouseenter",function(){return t.show()}).set("mouseleave",function(){return t.hide()});this._passiveListeners.forEach(function(e,n){t._elementRef.nativeElement.addEventListener(n,e,fD)})}},{key:"_disableNativeGesturesIfNecessary",value:function(){var t=this._elementRef.nativeElement,e=t.style,n=this.touchGestures;"off"!==n&&(("on"===n||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(e.userSelect=e.msUserSelect=e.webkitUserSelect=e.MozUserSelect="none"),"on"!==n&&t.draggable||(e.webkitUserDrag="none"),e.touchAction="none",e.webkitTapHighlightColor="transparent")}}]),t}()).\u0275fac=function(t){return new(t||gD)(s.Nb(cx),s.Nb(s.l),s.Nb(gI),s.Nb(s.R),s.Nb(s.A),s.Nb(iI),s.Nb(Ex),s.Nb(jx),s.Nb(yD),s.Nb(pI,8),s.Nb(bD,8),s.Nb(s.l))},gD.\u0275dir=s.Ib({type:gD,selectors:[["","matTooltip",""]],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),gD),wD=((vD=function(){function t(e,n){f(this,t),this._changeDetectorRef=e,this._breakpointObserver=n,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Qe.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}return p(t,[{key:"show",value:function(t){var e=this;this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(function(){e._visibility="visible",e._showTimeoutId=null,e._markForCheck()},t)}},{key:"hide",value:function(t){var e=this;this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(function(){e._visibility="hidden",e._hideTimeoutId=null,e._markForCheck()},t)}},{key:"afterHidden",value:function(){return this._onHide.asObservable()}},{key:"isVisible",value:function(){return"visible"===this._visibility}},{key:"ngOnDestroy",value:function(){this._onHide.complete()}},{key:"_animationStart",value:function(){this._closeOnInteraction=!1}},{key:"_animationDone",value:function(t){var e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}},{key:"_handleBodyInteraction",value:function(){this._closeOnInteraction&&this.hide(0)}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),t}()).\u0275fac=function(t){return new(t||vD)(s.Nb(s.h),s.Nb(KR))},vD.\u0275cmp=s.Hb({type:vD,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&s.Zb("click",function(){return e._handleBodyInteraction()},!1,s.pc),2&t&&s.wc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){var n;(1&t&&(s.Sb(0,"div",0),s.Zb("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),s.dc(1,"async"),s.Bc(2),s.Rb()),2&t)&&(s.Fb("mat-tooltip-handset",null==(n=s.ec(1,5,e._isHandset))?null:n.matches),s.ic("ngClass",e.tooltipClass)("@state",e._visibility),s.Cb(2),s.Cc(e.message))},directives:[Tt],pipes:[Jt],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[hD.tooltipState]},changeDetection:0}),vD),kD=((pD=function t(){f(this,t)}).\u0275mod=s.Lb({type:pD}),pD.\u0275inj=s.Kb({factory:function(t){return new(t||pD)},providers:[mD],imports:[[Vx,te,hx,yR],yR,mI]}),pD),CD=o("z6cu"),OD=o("w1tV"),ED=function t(){f(this,t)},SD=function(){function t(e){var n=this;f(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))})}:this.headers=new Map}return p(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,i(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),TD=function(){function t(){f(this,t)}return p(t,[{key:"encodeKey",value:function(t){return ID(t)}},{key:"encodeValue",value:function(t){return ID(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function ID(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var xD=function(){function t(){var n=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f(this,t),this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new TD,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var r=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),o=e(-1==i?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,i)),n.decodeValue(t.slice(i+1))],2),a=o[0],s=o[1],u=r.get(a)||[];u.push(s),r.set(a,u)}),r}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(function(t){var e=r.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return p(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n];Array.isArray(r)?r.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function PD(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function AD(t){return"undefined"!=typeof Blob&&t instanceof Blob}function RD(t){return"undefined"!=typeof FormData&&t instanceof FormData}var ND=function(){function t(e,n,r,i){var o;if(f(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new SD),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new xD,this.urlWithParams=n}return p(t,[{key:"serializeBody",value:function(){return null===this.body?null:PD(this.body)||AD(this.body)||RD(this.body)||"string"==typeof this.body?this.body:this.body instanceof xD?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||RD(this.body)?null:AD(this.body)?this.body.type||null:PD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof xD?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),jD=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),DD=function(t){v(n,t);var e=y(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return f(this,n),(t=e.call(this,r)).type=jD.Response,t.body=void 0!==r.body?r.body:null,t}return p(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(function(){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";f(this,t),this.headers=e.headers||new SD,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}());function MD(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var LD,FD=((LD=function(){function t(e){f(this,t),this.handler=e}return p(t,[{key:"request",value:function(t,e){var n,r,i,o=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof ND?n=t:(r=a.headers instanceof SD?a.headers:new SD(a.headers),a.params&&(i=a.params instanceof xD?a.params:new xD({fromObject:a.params})),n=new ND(t,e,void 0!==a.body?a.body:null,{headers:r,params:i,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials}));var s=Object(Ge.a)(n).pipe(Dn(function(t){return o.handler.handle(t)}));if(t instanceof ND||"events"===a.observe)return s;var u=s.pipe(In(function(t){return t instanceof DD}));switch(a.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(pn.a)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(Object(pn.a)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(Object(pn.a)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(Object(pn.a)(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(a.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new xD).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,MD(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,MD(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,MD(n,e))}}]),t}()).\u0275fac=function(t){return new(t||LD)(s.Wb(ED))},LD.\u0275prov=s.Jb({token:LD,factory:LD.\u0275fac}),LD),VD=["*"];function UD(t){return Error('Unable to find icon with the name "'.concat(t,'"'))}function BD(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \"".concat(t,'".'))}function qD(t){return Error("The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was \"".concat(t,'".'))}var zD,HD=function t(e,n){f(this,t),this.options=n,e.nodeName?this.svgElement=e:this.url=e},WD=((zD=function(){function t(e,n,r,i){f(this,t),this._httpClient=e,this._sanitizer=n,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=r}return p(t,[{key:"addSvgIcon",value:function(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}},{key:"addSvgIconLiteral",value:function(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}},{key:"addSvgIconInNamespace",value:function(t,e,n,r){return this._addSvgIconConfig(t,e,new HD(n,r))}},{key:"addSvgIconLiteralInNamespace",value:function(t,e,n,r){var i=this._sanitizer.sanitize(s.J.HTML,n);if(!i)throw qD(n);var o=this._createSvgElementForSingleIcon(i,r);return this._addSvgIconConfig(t,e,new HD(o,r))}},{key:"addSvgIconSet",value:function(t,e){return this.addSvgIconSetInNamespace("",t,e)}},{key:"addSvgIconSetLiteral",value:function(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}},{key:"addSvgIconSetInNamespace",value:function(t,e,n){return this._addSvgIconSetConfig(t,new HD(e,n))}},{key:"addSvgIconSetLiteralInNamespace",value:function(t,e,n){var r=this._sanitizer.sanitize(s.J.HTML,e);if(!r)throw qD(e);var i=this._svgElementFromString(r);return this._addSvgIconSetConfig(t,new HD(i,n))}},{key:"registerFontClassAlias",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return this._fontCssClassesByAlias.set(t,e),this}},{key:"classNameForFontAlias",value:function(t){return this._fontCssClassesByAlias.get(t)||t}},{key:"setDefaultFontSetClass",value:function(t){return this._defaultFontSetClass=t,this}},{key:"getDefaultFontSetClass",value:function(){return this._defaultFontSetClass}},{key:"getSvgIconFromUrl",value:function(t){var e=this,n=this._sanitizer.sanitize(s.J.RESOURCE_URL,t);if(!n)throw BD(t);var r=this._cachedIconsByUrl.get(n);return r?Object(Ge.a)(KD(r)):this._loadSvgIconFromConfig(new HD(t)).pipe(Object(Qn.a)(function(t){return e._cachedIconsByUrl.set(n,t)}),Object(pn.a)(function(t){return KD(t)}))}},{key:"getNamedSvgIcon",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=GD(e,t),r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);var i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(CD.a)(UD(n))}},{key:"ngOnDestroy",value:function(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}},{key:"_getSvgFromConfig",value:function(t){return t.svgElement?Object(Ge.a)(KD(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Object(Qn.a)(function(e){return t.svgElement=e}),Object(pn.a)(function(t){return KD(t)}))}},{key:"_getSvgFromIconSetConfigs",value:function(t,e){var n=this,r=this._extractIconWithNameFromAnySet(t,e);return r?Object(Ge.a)(r):Jo(e.filter(function(t){return!t.svgElement}).map(function(t){return n._loadSvgIconSetFromConfig(t).pipe(An(function(e){var r="Loading icon set URL: ".concat(n._sanitizer.sanitize(s.J.RESOURCE_URL,t.url)," failed: ").concat(e.message);return n._errorHandler?n._errorHandler.handleError(new Error(r)):console.error(r),Object(Ge.a)(null)}))})).pipe(Object(pn.a)(function(){var r=n._extractIconWithNameFromAnySet(t,e);if(!r)throw UD(t);return r}))}},{key:"_extractIconWithNameFromAnySet",value:function(t,e){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.svgElement){var i=this._extractSvgIconFromSet(r.svgElement,t,r.options);if(i)return i}}return null}},{key:"_loadSvgIconFromConfig",value:function(t){var e=this;return this._fetchUrl(t.url).pipe(Object(pn.a)(function(n){return e._createSvgElementForSingleIcon(n,t.options)}))}},{key:"_loadSvgIconSetFromConfig",value:function(t){var e=this;return t.svgElement?Object(Ge.a)(t.svgElement):this._fetchUrl(t.url).pipe(Object(pn.a)(function(n){return t.svgElement||(t.svgElement=e._svgElementFromString(n)),t.svgElement}))}},{key:"_createSvgElementForSingleIcon",value:function(t,e){var n=this._svgElementFromString(t);return this._setSvgAttributes(n,e),n}},{key:"_extractSvgIconFromSet",value:function(t,e,n){var r=t.querySelector('[id="'.concat(e,'"]'));if(!r)return null;var i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);var o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}},{key:"_svgElementFromString",value:function(t){var e=this._document.createElement("DIV");e.innerHTML=t;var n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}},{key:"_toSvgElement",value:function(t){for(var e=this._svgElementFromString("<svg></svg>"),n=t.attributes,r=0;r<n.length;r++){var i=n[r],o=i.name,a=i.value;"id"!==o&&e.setAttribute(o,a)}for(var s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[s].cloneNode(!0));return e}},{key:"_setSvgAttributes",value:function(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}},{key:"_fetchUrl",value:function(t){var e=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==t)throw Error('Cannot fetch icon from URL "'.concat(t,'".'));var n=this._sanitizer.sanitize(s.J.RESOURCE_URL,t);if(!n)throw BD(t);var r=this._inProgressUrlFetches.get(n);if(r)return r;var i=this._httpClient.get(n,{responseType:"text"}).pipe(Zn(function(){return e._inProgressUrlFetches.delete(n)}),Object(OD.a)());return this._inProgressUrlFetches.set(n,i),i}},{key:"_addSvgIconConfig",value:function(t,e,n){return this._svgIconConfigs.set(GD(t,e),n),this}},{key:"_addSvgIconSetConfig",value:function(t,e){var n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}}]),t}()).\u0275fac=function(t){return new(t||zD)(s.Wb(FD,8),s.Wb(Ue),s.Wb(d,8),s.Wb(s.m,8))},zD.\u0275prov=Object(s.Jb)({factory:function(){return new zD(Object(s.Wb)(FD,8),Object(s.Wb)(Ue),Object(s.Wb)(d,8),Object(s.Wb)(s.m,8))},token:zD,providedIn:"root"}),zD);function KD(t){return t.cloneNode(!0)}function GD(t,e){return t+":"+e}var QD,YD,XD,ZD=mR(function t(e){f(this,t),this._elementRef=e}),JD=new s.r("mat-icon-location",{providedIn:"root",factory:function(){var t=Object(s.W)(d),e=t?t.location:null;return{getPathname:function(){return e?e.pathname+e.search:""}}}}),$D=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tM=$D.map(function(t){return"[".concat(t,"]")}).join(", "),eM=/^url\(['"]?#(.*?)['"]?\)$/,nM=((XD=function(t){v(r,t);var n=y(r);function r(t,e,i,o,a){var s;return f(this,r),(s=n.call(this,t))._iconRegistry=e,s._location=o,s._errorHandler=a,s._inline=!1,s._currentIconFetch=Xn.a.EMPTY,i||t.nativeElement.setAttribute("aria-hidden","true"),s}return p(r,[{key:"inline",get:function(){return this._inline},set:function(t){this._inline=LT(t)}},{key:"fontSet",get:function(){return this._fontSet},set:function(t){this._fontSet=this._cleanupFontValue(t)}},{key:"fontIcon",get:function(){return this._fontIcon},set:function(t){this._fontIcon=this._cleanupFontValue(t)}},{key:"_splitIconName",value:function(t){if(!t)return["",""];var e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error('Invalid icon name: "'.concat(t,'"'))}}},{key:"ngOnChanges",value:function(t){var n=this,r=t.svgIcon;if(r)if(this._currentIconFetch.unsubscribe(),this.svgIcon){var i=e(this._splitIconName(this.svgIcon),2),o=i[0],a=i[1];this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(a,o).pipe(wn(1)).subscribe(function(t){return n._setSvgElement(t)},function(t){var e="Error retrieving icon ".concat(o,":").concat(a,"! ").concat(t.message);n._errorHandler?n._errorHandler.handleError(new Error(e)):console.error(e)})}else r.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngOnInit",value:function(){this._usingFontIcon()&&this._updateFontIconClasses()}},{key:"ngAfterViewChecked",value:function(){var t=this._elementsWithExternalReferences;if(t&&this._location&&t.size){var e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}},{key:"ngOnDestroy",value:function(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}},{key:"_usingFontIcon",value:function(){return!this.svgIcon}},{key:"_setSvgElement",value:function(t){this._clearSvgElement();for(var e=t.querySelectorAll("style"),n=0;n<e.length;n++)e[n].textContent+=" ";if(this._location){var r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r)}this._elementRef.nativeElement.appendChild(t)}},{key:"_clearSvgElement",value:function(){var t=this._elementRef.nativeElement,e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){var n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}},{key:"_updateFontIconClasses",value:function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}}},{key:"_cleanupFontValue",value:function(t){return"string"==typeof t?t.trim().split(" ")[0]:t}},{key:"_prependPathToReferences",value:function(t){var e=this._elementsWithExternalReferences;e&&e.forEach(function(e,n){e.forEach(function(e){n.setAttribute(e.name,"url('".concat(t,"#").concat(e.value,"')"))})})}},{key:"_cacheChildrenWithExternalReferences",value:function(t){for(var e=t.querySelectorAll(tM),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map,r=function(t){$D.forEach(function(r){var i=e[t],o=i.getAttribute(r),a=o?o.match(eM):null;if(a){var s=n.get(i);s||(s=[],n.set(i,s)),s.push({name:r,value:a[1]})}})},i=0;i<e.length;i++)r(i)}}]),r}(ZD)).\u0275fac=function(t){return new(t||XD)(s.Nb(s.l),s.Nb(WD),s.Xb("aria-hidden"),s.Nb(JD,8),s.Nb(s.m,8))},XD.\u0275cmp=s.Hb({type:XD,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(t,e){2&t&&s.Fb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[s.zb,s.Ab],ngContentSelectors:VD,decls:1,vars:0,template:function(t,e){1&t&&(s.hc(),s.gc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),XD),rM=((YD=function t(){f(this,t)}).\u0275mod=s.Lb({type:YD}),YD.\u0275inj=s.Kb({factory:function(t){return new(t||YD)},imports:[[yR],yR]}),YD),iM=((QD=function(){function t(e,n){f(this,t),this.vcRef=e,this.templateRef=n,this.context={}}return p(t,[{key:"ngVar",set:function(t){this.context.$implicit=this.context.ngVar=t,this.updateView()}},{key:"updateView",value:function(){this.vcRef.clear(),this.vcRef.createEmbeddedView(this.templateRef,this.context)}}]),t}()).\u0275fac=function(t){return new(t||QD)(s.Nb(s.R),s.Nb(s.M))},QD.\u0275dir=s.Ib({type:QD,selectors:[["","ngVar",""]],inputs:{ngVar:"ngVar"}}),QD),oM=["tagInputElement"];function aM(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",25),s.Sb(1,"span",26),s.Sb(2,"mat-icon",27),s.Zb("click",function(){s.rc(n);var t=s.cc().$implicit;return s.cc(3).castVote(t.uid,0)}),s.Bc(3,"thumb_down"),s.Rb(),s.Sb(4,"mat-icon",27),s.Zb("click",function(){s.rc(n);var t=s.cc().$implicit;return s.cc(3).castVote(t.uid,1)}),s.Bc(5,"thumb_up"),s.Rb(),s.Rb(),s.Rb()}if(2&t){var r=e.ngIf;s.Cb(2),s.ic("ngClass",0===(null==r[0]?null:r[0].vote)&&"vote-selected"),s.Cb(2),s.ic("ngClass",1===(null==r[0]?null:r[0].vote)&&"vote-selected")}}function sM(t,e){if(1&t){var n=s.Tb();s.Qb(0),s.Sb(1,"span",29),s.Zb("click",function(){s.rc(n);var t=e.ngVar;return s.cc(5).addTagToSearch(t)}),s.Bc(2),s.Rb(),s.Pb()}if(2&t){var r=e.ngVar;s.Cb(1),s.wc("background-color",(null==r?null:r.color)+"DD")("border-color",null==r?null:r.color),s.Cb(1),s.Dc(" ",null==r?null:r.tag," ")}}function uM(t,e){if(1&t&&(s.Qb(0),s.zc(1,sM,3,5,"ng-container",28),s.Pb()),2&t){var n=e.$implicit,r=s.cc(3).ngIf,i=s.cc();s.Cb(1),s.ic("ngVar",i.getTagDataByUidAndTagArray(n.id,r))}}function cM(t,e){if(1&t){var n=s.Tb();s.Sb(0,"button",30),s.Zb("click",function(){s.rc(n);var t=s.cc().$implicit;return s.cc(3).selectQuestion(t)}),s.Bc(1,"Answer "),s.Rb()}}function lM(t,e){if(1&t){var n=s.Tb();s.Sb(0,"button",31),s.Zb("click",function(){s.rc(n);var t=s.cc().$implicit;return s.cc(3).send(t)}),s.Bc(1,"Send "),s.Rb()}if(2&t){var r=s.cc().$implicit;s.ic("disabled",!r.answer)}}function hM(t,e){if(1&t&&(s.Qb(0),s.Sb(1,"div",14),s.Sb(2,"div",15),s.Sb(3,"h2",16),s.Bc(4),s.Rb(),s.zc(5,aM,6,2,"div",17),s.dc(6,"async"),s.Rb(),s.Sb(7,"div",18),s.Sb(8,"div",19),s.zc(9,uM,2,1,"ng-container",13),s.Rb(),s.Sb(10,"div",20),s.Bc(11),s.Sb(12,"div",21),s.Sb(13,"textarea",22),s.Zb("ngModelChange",function(t){return e.$implicit.answer=t}),s.Rb(),s.zc(14,cM,2,0,"button",23),s.zc(15,lM,2,1,"ng-template",null,24,s.Ac),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Pb()),2&t){var n=e.$implicit,r=s.oc(16),i=s.cc(3);s.Cb(1),s.wc("background-color",null==i.questionCardThemes[n.uid]?null:i.questionCardThemes[n.uid].transColor)("border-color",null==i.questionCardThemes[n.uid]?null:i.questionCardThemes[n.uid].color),s.Cb(1),s.wc("background-color",null==i.questionCardThemes[n.uid]?null:i.questionCardThemes[n.uid].color),s.Cb(1),s.jc("matTooltip",n.question),s.Cb(1),s.Dc(" ",n.question," "),s.Cb(1),s.ic("ngIf",s.ec(6,23,n.votes)),s.Cb(4),s.ic("ngForOf",n.tags),s.Cb(1),s.wc("color",i.questionCardThemes[n.uid]&&i.questionCardThemes[n.uid].color),s.Cb(1),s.Dc(" ",n.detail||""," "),s.Cb(2),s.wc("opacity",i.selectedQuestion!==n?0:1)("cursor",i.selectedQuestion!==n?"default":"initial")("color",i.questionCardThemes[n.uid]&&i.questionCardThemes[n.uid].color),s.ic("ngModel",n.answer)("readOnly",i.selectedQuestion!==n),s.Cb(1),s.ic("ngIf",i.selectedQuestion!==n)("ngIfElse",r)}}function fM(t,e){if(1&t&&(s.Sb(0,"div",12),s.zc(1,hM,17,25,"ng-container",13),s.Rb()),2&t){var n=e.ngIf;s.ic("@questionCardAnimation",void 0),s.Cb(1),s.ic("ngForOf",n)}}function dM(t,e){if(1&t&&(s.Sb(0,"div"),s.zc(1,fM,2,2,"div",11),s.dc(2,"async"),s.Rb()),2&t){var n=s.cc();s.Cb(1),s.ic("ngIf",s.ec(2,1,n.questions$))}}var pM,vM=((pM=function(){function t(e,n){var r=this;f(this,t),this.common=e,this.questionService=n,this.exploreExpanded=!1,this.questionCardThemes={},this.selectedQuestion=null,this.searchTags=[],this.voteTest=function(t){return t.length},this.castVote=function(t,e){r.questionService.voteQuestion(t,e)},this.reSelect=function(t){"explore"===t&&(r.exploreExpanded=!0)},this.addTagToSearch=function(t){r.searchTags.some(function(e){return e===t.tag})||(r.exploreExpanded=!0,r.searchTags=[].concat(i(r.searchTags),[t.tag]))},this.selectQuestion=function(t){r.selectedQuestion=r.selectedQuestion===t?null:t},this.getRandomAnimationTime=function(){return{params:{time:3600*Math.random()+400}}},this.send=function(t){t.answer&&(r.questionService.sendAnswer(t),r.selectedQuestion=null,r.common.openSnackbar("Answer submitted!"))},this.search=function(){return Xo(r,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==this.searchTags.length){t.next=4;break}this.queryQuestions(),t.next=9;break;case 4:return t.t0=this.questionService,t.next=7,this.common.createTags(this.searchTags,this.questionService);case 7:t.t1=t.sent,this.questions$=t.t0.getRandomQuestionsByTags.call(t.t0,t.t1,10);case 9:case"end":return t.stop()}},t,this)}))},this.getTagDataByUidAndTagArray=function(t,e){return null==e?void 0:e.find(function(e){return e.uid===t})},this.queryQuestions=function(){r.questions$=r.questionService.getRandomQuestions()},this.queryTags=function(){r.tags$=r.questionService.getTags()},this.generateQuestionThemeColors=function(){r.questions$.subscribe(function(t){t.forEach(function(t){var e=r.common.getDarkColor();r.questionCardThemes[t.uid]={},r.questionCardThemes[t.uid].color=e,r.questionCardThemes[t.uid].transColor="".concat(e,"30")})})}}return p(t,[{key:"ngOnInit",value:function(){return Xo(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.queryQuestions(),this.queryTags(),this.eventSub=this.events.subscribe(function(t){return e.reSelect(t)}),this.generateQuestionThemeColors();case 1:case"end":return t.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){this.eventSub.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||pM)(s.Nb(pN),s.Nb(HN))},pM.\u0275cmp=s.Hb({type:pM,selectors:[["app-explore"]],viewQuery:function(t,e){var n;1&t&&s.Ec(oM,1),2&t&&s.nc(n=s.ac())&&(e.tagInputElement=n.first)},inputs:{events:"events"},decls:14,vars:9,consts:[[1,"explore-container"],["matRipple","",1,"explore-header",3,"click"],[1,"search-container"],[1,"search-input-container"],[1,"search-tag-container"],[1,"search-tag-input",3,"placeholder","secondaryPlaceholder","theme","ngModel","modelAsStrings","ngModelChange"],["tagInputElement",""],[1,"search-button-container"],[1,"button","search-button",3,"click"],[1,"divider"],[4,"ngIf"],["class","explore-questions-container",4,"ngIf"],[1,"explore-questions-container"],[4,"ngFor","ngForOf"],[1,"explore-question"],[1,"question-header-container"],[1,"explore-question-header",3,"matTooltip"],["class","vote-container",4,"ngIf"],[1,"question-body"],[1,"explore-tags"],[1,"explore-question-detail"],[1,"answer-section-container"],[1,"answer-section",3,"ngModel","readOnly","ngModelChange"],["class","button explore-question-button",3,"click",4,"ngIf","ngIfElse"],["answerButton",""],[1,"vote-container"],[1,"vote-span"],[3,"ngClass","click"],[4,"ngVar"],[1,"explore-tag-element",3,"click"],[1,"button","explore-question-button",3,"click"],[1,"button","button-submit",3,"disabled","click"]],template:function(t,e){1&t&&(s.Sb(0,"div",0),s.Sb(1,"h1",1),s.Zb("click",function(){return e.exploreExpanded=!e.exploreExpanded}),s.Bc(2,"Explore"),s.Rb(),s.Sb(3,"div",2),s.Ob(4,"div",3),s.Sb(5,"div",4),s.Sb(6,"tag-input",5,6),s.Zb("ngModelChange",function(t){return e.searchTags=t}),s.Rb(),s.Rb(),s.Sb(8,"div",7),s.Sb(9,"button",8),s.Zb("click",function(){return e.search()}),s.Bc(10,"Search"),s.Rb(),s.Rb(),s.Rb(),s.Ob(11,"div",9),s.zc(12,dM,3,3,"div",10),s.dc(13,"async"),s.Rb()),2&t&&(s.Cb(3),s.ic("@detailExpand",e.exploreExpanded?"expanded":"collapsed"),s.Cb(3),s.ic("placeholder","Tags")("secondaryPlaceholder","+ Add tags")("theme","search-tag-input-theme")("ngModel",e.searchTags)("modelAsStrings",!0),s.Cb(6),s.ic("ngIf",s.ec(13,7,e.tags$)))},directives:[RR,tD,Va,Ms,At,xt,_D,sa,nM,Tt,iM],pipes:[Jt],styles:[".explore-container[_ngcontent-%COMP%]{width:100%;height:auto;margin-top:1rem}.explore-header[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1);transition:.4s}.explore-questions-container[_ngcontent-%COMP%]{width:90%;margin:1rem auto;-moz-column-count:3;column-count:3;-moz-column-gap:2rem;column-gap:2rem}.explore-question[_ngcontent-%COMP%]{width:100%;display:inline-block;word-break:break-word;box-sizing:border-box;flex:1 0 33%;margin:1rem 0;background-color:var(--base-hint-color);border:2px solid var(--secondary-color);border-radius:.5em .5rem .5rem .5rem;box-shadow:4px 4px 16px rgba(0,0,0,.41);max-height:10000px}.question-body[_ngcontent-%COMP%]{padding:.6rem}.vote-selected[_ngcontent-%COMP%]{transition:.4s;color:var(--secondary-color);text-shadow:1px 1px var(--secondary-color-faded-dark)}.vote-span[_ngcontent-%COMP%]{transition:.4s;cursor:pointer;text-align:right;margin-left:auto}.vote-span[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]:first-child{margin-right:1rem}.explore-question-header[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;width:80%;font-size:1rem;max-height:29px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;transition:.4s}.explore-question[_ngcontent-%COMP%]:hover   .explore-question-header[_ngcontent-%COMP%]{transition:.4s}.question-header-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;background-color:var(--secondary-color);color:var(--base-font-color);text-shadow:rgba(0,0,0,.41);margin:0 auto 1rem 0;padding:.2em .6em}.explore-tags[_ngcontent-%COMP%]{position:relative;top:0;right:0;display:inline-block;height:30px}.explore-tag-element[_ngcontent-%COMP%]{text-align:center;color:var(--base-font-color);border-radius:1em;background:var(--secondary-color-faded);border:2px solid var(--secondary-color);outline:0;cursor:pointer;padding:6px;margin:0 .4rem 0 0;box-shadow:3px 3px 4px rgba(0,0,0,.41)}.explore-question-detail[_ngcontent-%COMP%]{color:var(--secondary-color);margin-bottom:1rem;text-align:justify;font-weight:bolder}.explore-question-button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.answer-section-container[_ngcontent-%COMP%]{display:flex;overflow:hidden;flex-direction:row}.explore-question-button[_ngcontent-%COMP%]{justify-content:flex-end;align-items:flex-end;margin-left:auto}.answer-section[_ngcontent-%COMP%]{flex:2;outline:none;box-sizing:border-box;margin:1rem auto;width:80%;height:80px;border-radius:6px;overflow:hidden;border:none;font-weight:bolder;font-size:larger;color:var(--secondary-color);background-color:hsla(0,0%,100%,.8);transition:.4s}.invisible[_ngcontent-%COMP%]{background-color:transparent;transition:.4s}.search-container[_ngcontent-%COMP%]{overflow:hidden;display:flex;flex-direction:column;width:60%;border-radius:6em;margin:0 auto;height:12rem;background-image:linear-gradient(135deg,var(--primary-color) 10%,var(--dark-background))}.search-tag-container[_ngcontent-%COMP%]{width:40%}.search-input-container[_ngcontent-%COMP%], .search-tag-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;margin:.5rem auto}.search-input-container[_ngcontent-%COMP%]{border-radius:6rem;background-color:rgba(0,0,0,.2);width:60%}.search-input[_ngcontent-%COMP%]{outline:none;width:95%;margin:0 auto;height:38px;background-color:transparent;border:none;color:var(--secondary-color);font-size:larger;border-bottom:thin solid var(--secondary-color)}.search-input[_ngcontent-%COMP%]::-moz-placeholder{padding-left:.6em;color:var(--secondary-color-faded)}.search-input[_ngcontent-%COMP%]::placeholder{padding-left:.6em;color:var(--secondary-color-faded)}.search-tag-input[_ngcontent-%COMP%]{width:95%;margin:0 auto}.search-button-container[_ngcontent-%COMP%]{width:60%;margin:.5rem auto}.search-button[_ngcontent-%COMP%]{width:40%;margin:0 auto;display:flex;align-items:center;justify-content:center}","tag-input .ng2-tag-input.search-tag-input-theme{display:block;flex-direction:row;flex-wrap:wrap;position:relative;cursor:text;border-bottom:1px solid #eb960e}  tag-input .ng2-tag-input.search-tag-input-theme:focus{outline:0}  tag-input .ng2-tag-input.search-tag-input-theme.ng2-tag-input--dropping{opacity:.7}  tag-input .ng2-tag-input.search-tag-input-theme.ng2-tag-input--loading{border:none}  tag-input .ng2-tag-input.search-tag-input-theme.ng2-tag-input--disabled{opacity:.5;cursor:not-allowed}  tag-input .ng2-tag-input.search-tag-input-theme .ng2-tags-container{flex-wrap:wrap;display:flex}  tag-input .ng2-tag-input.search-tag-input-theme tag{display:flex;flex-direction:row;flex-wrap:wrap;color:#fff;border-radius:1em;background:#eb960e;-webkit-user-select:none;-moz-user-select:none;user-select:none;overflow:hidden;outline:0;cursor:pointer;position:relative}  tag-input .ng2-tag-input.search-tag-input-theme tag:not(.readonly):not(.tag--editing):active,   tag-input .ng2-tag-input.search-tag-input-theme tag:not(.readonly):not(.tag--editing):focus{background:#bb770b}  tag-input .ng2-tag-input.search-tag-input-theme tag:not(:focus):not(.tag--editing):not(:active):not(.readonly):hover{background:#bb770b;color:#fff}  tag-input .ng2-tag-input.search-tag-input-theme tag.readonly{cursor:default}  tag-input .ng2-tag-input.search-tag-input-theme tag.readonly:focus,   tag-input .ng2-tag-input.search-tag-input-theme tag:focus{outline:0}  tag-input .ng2-tag-input.search-tag-input-theme tag.tag--editing{cursor:text}  tag-input .ng2-tag-input.search-tag-input-theme tag delete-icon{transition:all .35s;text-align:right}  tag-input .ng2-tag-input.search-tag-input-theme tag delete-icon path{fill:#fff}  tag-input .ng2-tag-input.search-tag-input-theme tag delete-icon svg{vertical-align:bottom;height:34px}"],data:{animation:[zN,VN,qN]}}),pM);function gM(t,e){1&t&&(s.Qb(0),s.Sb(1,"div",6),s.Bc(2," You have no questions so far :( "),s.Rb(),s.Pb())}function yM(t,e){if(1&t&&(s.Sb(0,"h6"),s.Bc(1),s.Rb()),2&t){var n=e.ngIf;s.Cb(1),s.Dc(" Answers: ",n.length," ")}}function mM(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",12),s.Sb(1,"div",13),s.Ob(2,"div",14),s.Sb(3,"span",15),s.Bc(4),s.Rb(),s.Rb(),s.zc(5,yM,2,1,"h6",4),s.dc(6,"async"),s.Sb(7,"h2"),s.Bc(8),s.Rb(),s.Sb(9,"button",16),s.Zb("click",function(){s.rc(n);var t=s.cc().$implicit;return s.cc(2).showAnswers(t)}),s.Bc(10,"Show answers"),s.Rb(),s.Rb()}if(2&t){var r=e.ngIf,i=s.cc().$implicit,o=s.cc(2);s.Cb(2),s.vc("--progress-percentage:"+o.evaluateVotes(r)),s.Cb(2),s.Dc(" Votes: ",o.evaluateVotes(r)," "),s.Cb(1),s.ic("ngIf",s.ec(6,5,i.answers)),s.Cb(3),s.Cc(i.detail)}}function bM(t,e){if(1&t&&(s.Sb(0,"h2"),s.Bc(1),s.Rb()),2&t){var n=e.ngIf;s.Cb(1),s.Cc(null==n?null:n.displayName)}}function _M(t,e){if(1&t&&(s.Sb(0,"div",19),s.Sb(1,"div",20),s.Sb(2,"h6"),s.Bc(3,"Submitter"),s.Rb(),s.zc(4,bM,2,1,"h2",4),s.dc(5,"async"),s.Sb(6,"a",10),s.Bc(7),s.dc(8,"date"),s.Ob(9,"i"),s.Rb(),s.Rb(),s.Sb(10,"div",12),s.Sb(11,"h6"),s.Bc(12,"Answer"),s.Rb(),s.Sb(13,"h2"),s.Bc(14),s.Rb(),s.Rb(),s.Rb()),2&t){var n=e.$implicit,r=s.cc(4);s.Cb(4),s.ic("ngIf",s.ec(5,3,r.userMap[n.submitter.id])),s.Cb(3),s.Cc(s.fc(8,5,n.timestamp.toDate(),"short")),s.Cb(7),s.Cc(n.answer)}}function wM(t,e){if(1&t&&(s.Qb(0),s.Sb(1,"div",17),s.zc(2,_M,15,8,"div",18),s.Rb(),s.Pb()),2&t){var n=e.ngIf,r=s.cc().$implicit,i=s.cc(2);s.Cb(1),s.ic("@detailExpand",i.selectedQuestion===r?"expanded":"collapsed"),s.Cb(1),s.ic("ngForOf",n)}}function kM(t,e){if(1&t&&(s.Sb(0,"div",7),s.Sb(1,"div",8),s.Sb(2,"div",9),s.Sb(3,"h6"),s.Bc(4,"Question"),s.Rb(),s.Sb(5,"h2"),s.Bc(6),s.Rb(),s.Sb(7,"a",10),s.Bc(8),s.dc(9,"date"),s.Ob(10,"i"),s.Rb(),s.Rb(),s.zc(11,mM,11,7,"div",11),s.dc(12,"async"),s.Rb(),s.zc(13,wM,3,2,"ng-container",4),s.dc(14,"async"),s.Rb()),2&t){var n=e.$implicit,r=s.cc(2);s.Cb(6),s.Cc(n.question),s.Cb(2),s.Cc(s.fc(9,4,n.timestamp.toDate(),"short")),s.Cb(3),s.ic("ngIf",s.ec(12,7,n.votes)),s.Cb(2),s.ic("ngIf",s.ec(14,9,r.answerMap[n.uid]))}}function CM(t,e){if(1&t&&(s.Sb(0,"div",1),s.Sb(1,"h1",2),s.Bc(2,"My Questions"),s.Rb(),s.Ob(3,"div",3),s.zc(4,gM,3,0,"ng-container",4),s.zc(5,kM,15,11,"div",5),s.Rb()),2&t){var n=e.ngIf;s.Cb(4),s.ic("ngIf",0===n.length),s.Cb(1),s.ic("ngForOf",n)}}var OM,EM=((OM=function(){function t(e,n){var r=this;f(this,t),this.auth=e,this.questionService=n,this.selectedQuestion=null,this.answerMap={},this.userMap={},this.showAnswers=function(t){if(r.answerMap[t.uid])r.selectedQuestion=r.selectedQuestion===t?null:t;else{var e=r.questionService.getAnswersForQuestionUid(t.uid);r.answerMap[t.uid]=e,e.then(function(t){return r.createUserMap(t)}),GT(250).subscribe(function(){return r.selectedQuestion=r.selectedQuestion===t?null:t})}},this.createUserMap=function(t){t.forEach(function(t){r.userMap[t.submitter.id]||(r.userMap[t.submitter.id]=r.auth.getUserByUid(t.submitter.id))})},this.evaluateVotes=function(t){if(0===t.length)return"50%";var e=t.reduce(function(t,e){return t+e.vote},0);return e=e||0,"".concat(Math.round(e/t.length*100).toString(),"%")},this.questionsMap=n.getQuestionsForLoggedInUser()}return p(t,[{key:"ngOnInit",value:function(){return Xo(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}},t)}))}}]),t}()).\u0275fac=function(t){return new(t||OM)(s.Nb(gN),s.Nb(HN))},OM.\u0275cmp=s.Hb({type:OM,selectors:[["app-questions"]],decls:2,vars:3,consts:[["class","my-questions-container",4,"ngIf"],[1,"my-questions-container"],["matRipple","",1,"explore-header"],[1,"divider"],[4,"ngIf"],["class","my-question-card-container",4,"ngFor","ngForOf"],[1,"feedback-message"],[1,"my-question-card-container"],[1,"card"],[1,"card-title"],[1,"timestamp"],["class","card-detail-container",4,"ngIf"],[1,"card-detail-container"],[1,"progress-container"],[1,"progress"],[1,"progress-text"],["matRipple","",1,"btn",3,"click"],[1,"answers-for-question"],["class","card answer-card",4,"ngFor","ngForOf"],[1,"card","answer-card"],[1,"card-title","answer-card-title"]],template:function(t,e){1&t&&(s.zc(0,CM,6,2,"div",0),s.dc(1,"async")),2&t&&s.ic("ngIf",s.ec(1,1,e.questionsMap))},directives:[At,RR,xt],pipes:[Jt,$t],styles:['@import url("https://fonts.googleapis.com/css?family=Muli&display=swap");*[_ngcontent-%COMP%]{box-sizing:border-box}.card[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:0 10px 10px rgba(0,0,0,.2);display:flex;max-width:100%;margin:20px;overflow:hidden;width:100%;height:200px}.answer-card[_ngcontent-%COMP%]{min-height:100px;width:auto;max-height:150px;margin:20px 0 20px 6rem}.card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{opacity:.6;margin:0;text-transform:uppercase}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{letter-spacing:1px}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:10px 0;white-space:break-spaces}.answer-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:.2rem 0}.card-title[_ngcontent-%COMP%]{background-image:linear-gradient(135deg,var(--primary-color) 10%,var(--dark-background));color:#fff;padding:30px;width:33%}.answer-card-title[_ngcontent-%COMP%]{background-image:linear-gradient(135deg,var(--secondary-color) 10%,var(--dark-background));width:25%;padding:15px}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;display:inline-block;font-size:12px;opacity:.6;margin-top:auto;bottom:0;left:0;text-decoration:none}.card-detail-container[_ngcontent-%COMP%]{padding:30px;position:relative;width:100%}.progress-container[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;text-align:right;width:150px}.progress[_ngcontent-%COMP%]{background-color:#ddd;width:100%}.progress[_ngcontent-%COMP%], .progress[_ngcontent-%COMP%]:after{border-radius:3px;height:5px}.progress[_ngcontent-%COMP%]:after{background-color:#2a265f;content:"";position:absolute;top:0;left:0;width:var(--progress-percentage)}.feedback-message[_ngcontent-%COMP%]{width:100%;margin:1rem auto;text-align:center}.progress-text[_ngcontent-%COMP%]{font-size:10px;opacity:.6;letter-spacing:1px}.answers-for-question[_ngcontent-%COMP%]{overflow:hidden}.btn[_ngcontent-%COMP%]{background-color:#2a265f;border:0;border-radius:50px;box-shadow:0 10px 10px rgba(0,0,0,.2);color:#fff;font-size:16px;padding:12px 25px;position:absolute;bottom:30px;right:30px;letter-spacing:1px;outline:none;cursor:pointer}.my-questions-container[_ngcontent-%COMP%]{width:80%;margin:1rem auto;display:flex;justify-content:space-between;flex-direction:column}.my-question-card-inner-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}.my-question-card-basic[_ngcontent-%COMP%]{flex:2}.vote-container[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center;width:10%;float:right}.answer-count-container[_ngcontent-%COMP%]{width:100px}.my-question-card[_ngcontent-%COMP%]{flex:1;border:thin solid var(--secondary-color);border-radius:1em;background-color:var(--secondary-color-faded);padding:.6em;margin-top:1em}.my-question-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}'],data:{animation:[VN]}}),OM);function SM(t,e){if(1&t){var n=s.Tb();s.Sb(0,"div",1),s.Sb(1,"h1",2),s.Bc(2,"Profile"),s.Rb(),s.Ob(3,"div",3),s.Sb(4,"div",4),s.Sb(5,"div",5),s.Ob(6,"img",6),s.Rb(),s.Sb(7,"div",7),s.Sb(8,"div"),s.Sb(9,"span",8),s.Bc(10," Email "),s.Rb(),s.Sb(11,"input",9),s.Zb("ngModelChange",function(t){return e.ngIf.email=t}),s.Rb(),s.Rb(),s.Sb(12,"div"),s.Sb(13,"span",8),s.Bc(14," Display Name "),s.Rb(),s.Sb(15,"input",10),s.Zb("ngModelChange",function(t){return e.ngIf.displayName=t}),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Sb(16,"div",11),s.Sb(17,"button",12),s.Zb("click",function(){s.rc(n);var t=e.ngIf;return s.cc().save(t)}),s.Bc(18,"Save"),s.Rb(),s.Rb(),s.Rb()}if(2&t){var r=e.ngIf;s.Cb(6),s.jc("src",r.photoURL||"https://lh3.googleusercontent.com/proxy/C7zhQxIRlByFnRK4LZiPhsEy9qDW8Q9a1kd2QdwCxDfie5rHPXYa8OZbXL0DIl2qDN8cz2dCF6FO16WDb1XOtLcTvYZ9-sVAfSJ7SHwoLILyIigUr1yg2qRQ2HprSQ",s.tc),s.Cb(5),s.ic("disabled",!0)("ngModel",r.email),s.Cb(4),s.ic("ngModel",r.displayName)}}var TM,IM=((TM=function(){function t(e){var n=this;f(this,t),this.auth=e,this.save=function(t){t.displayName&&n.auth.updateUserData(t,t.displayName).then(function(){return location.reload()})}}return p(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||TM)(s.Nb(gN))},TM.\u0275cmp=s.Hb({type:TM,selectors:[["app-profile"]],decls:2,vars:3,consts:[["class","profile-container",4,"ngIf"],[1,"profile-container"],["matRipple","",1,"explore-header"],[1,"divider"],[1,"profile-editor-container"],[1,"profile-picture-container"],[1,"profile-picture",3,"src"],[1,"profile-data-container"],[1,"input-label"],["placeholder","Email",3,"disabled","ngModel","ngModelChange"],["placeholder","DisplayedName",3,"ngModel","ngModelChange"],[1,"save-button-container"],["matRipple","",1,"button","button-submit",3,"click"]],template:function(t,e){1&t&&(s.zc(0,SM,19,4,"div",0),s.dc(1,"async")),2&t&&s.ic("ngIf",s.ec(1,1,e.auth.user$))},directives:[At,RR,sa,Va,Ms],pipes:[Jt],styles:[".profile-container[_ngcontent-%COMP%]{width:90%;margin:1rem auto}.profile-editor-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-evenly;height:350px;width:60%;margin:1rem auto}.profile-picture-container[_ngcontent-%COMP%]{flex:1;width:250px;height:250px;margin:auto}.profile-picture[_ngcontent-%COMP%]{box-shadow:6px 6px 6px rgba(0,0,0,.41);-o-object-fit:fill;object-fit:fill;width:100%;height:100%}.profile-data-container[_ngcontent-%COMP%]{display:flex;flex:3;padding:1rem;flex-direction:column;justify-content:space-around}.profile-data-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;border:none;background-color:rgba(0,0,0,.1);border-radius:6em;padding:.5em;width:100%;height:40px}.profile-data-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{font-style:italic;color:rgba(0,0,0,.41)}.input-label[_ngcontent-%COMP%]{padding-left:1rem;margin-bottom:.6em;color:rgba(0,0,0,.41)}.save-button-container[_ngcontent-%COMP%]{width:40%;margin:1rem auto}.save-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}"]}),TM),xM=["footerComponent"];function PM(t,e){if(1&t&&s.Ob(0,"app-explore",7),2&t){var n=s.cc(2);s.ic("events",n.eventsSubject.asObservable())}}function AM(t,e){1&t&&s.Ob(0,"app-questions")}function RM(t,e){1&t&&s.Ob(0,"app-profile")}function NM(t,e){if(1&t){var n=s.Tb();s.Qb(0),s.Sb(1,"app-header",1),s.Zb("activatedRoute",function(t){return s.rc(n),s.cc().activatedRoute(t)}),s.Rb(),s.Ob(2,"app-question",2),s.Qb(3,3),s.zc(4,PM,1,1,"app-explore",4),s.zc(5,AM,1,0,"app-questions",5),s.zc(6,RM,1,0,"app-profile",5),s.Pb(),s.Ob(7,"app-footer",null,6),s.Pb()}if(2&t){var r=s.cc();s.Cb(3),s.ic("ngSwitch",r.activeRoute),s.Cb(1),s.ic("ngSwitchCase","explore"),s.Cb(1),s.ic("ngSwitchCase","questions"),s.Cb(1),s.ic("ngSwitchCase","profile")}}var jM,DM,MM,LM,FM=[{path:"login",component:LN},{path:"home",component:(jM=function(){function t(e){var n=this;f(this,t),this.auth=e,this.activeRoute="explore",this.eventsSubject=new Qe.a,this.activatedRoute=function(t){n.activeRoute===t&&n.emitEventToChild(t),"about"!==t?n.activeRoute=t:n.footerComponentRef.scrollElement.nativeElement.scrollIntoView({behavior:"smooth"})},this.emitEventToChild=function(t){n.eventsSubject.next(t)}}return p(t,[{key:"ngOnInit",value:function(){}}]),t}(),jM.\u0275fac=function(t){return new(t||jM)(s.Nb(gN))},jM.\u0275cmp=s.Hb({type:jM,selectors:[["app-home"]],viewQuery:function(t,e){var n;1&t&&s.Ec(xM,1),2&t&&s.nc(n=s.ac())&&(e.footerComponentRef=n.first)},decls:2,vars:3,consts:[[4,"ngIf"],[3,"activatedRoute"],[1,"app-question"],[3,"ngSwitch"],[3,"events",4,"ngSwitchCase"],[4,"ngSwitchCase"],["footerComponent",""],[3,"events"]],template:function(t,e){1&t&&(s.zc(0,NM,9,4,"ng-container",0),s.dc(1,"async")),2&t&&s.ic("ngIf",s.ec(1,1,e.auth.user$))},directives:[At,FN,uD,Ut,Bt,lD,vM,EM,IM],pipes:[Jt],styles:["",""]}),jM)},{path:"**",component:LN}],VM=((MM=function t(){f(this,t)}).\u0275mod=s.Lb({type:MM}),MM.\u0275inj=s.Kb({factory:function(t){return new(t||MM)},imports:[[Uo.forRoot(FM,{relativeLinkResolution:"legacy"})],Uo]}),MM),UM=((DM=function t(e){f(this,t),this.auth=e,this.title="ask-away"}).\u0275fac=function(t){return new(t||DM)(s.Nb(gN))},DM.\u0275cmp=s.Hb({type:DM,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&s.Ob(0,"router-outlet")},directives:[xo],styles:[""]}),DM),BM={apiKey:"AIzaSyB1HNh6hIzdWjYTy99xCACdIxUhepdDfo8",authDomain:"ask-away-f8640.firebaseapp.com",projectId:"ask-away-f8640",storageBucket:"ask-away-f8640.appspot.com",messagingSenderId:"858871930596",appId:"1:858871930596:web:485d18042946c4e025d6f1",measurementId:"G-6LC8SV3CB2"},qM=((LM=function t(){f(this,t)}).\u0275mod=s.Lb({type:LM,bootstrap:[UM]}),LM.\u0275inj=s.Kb({factory:function(t){return new(t||LM)},providers:[],imports:[[rT.a.initializeApp(BM),We,VM,pR,Ys,kD,rM,hN,rD,Xs,wN,NR]]}),LM);Object(s.U)(),ze().bootstrapModule(qM).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]])}();